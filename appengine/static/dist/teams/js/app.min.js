CLIENT_ID="963009065087-2a5ccl5rhm4ghgm88li21fkjgsu5eua0@developer.gserviceaccount.com",SCOPES="https://www.googleapis.com/auth/userinfo.email",RESPONSE_TYPE="token id_token",init=function(){var o,a="//"+window.location.host+"/_ah/api";-1===window.location.host.indexOf("localhost")&&(a="https://roseboticsweb.appspot.com/_ah/api");var t=function(){0==--o&&angular.bootstrap(document,["TeamApp"])};o=2,gapi.client.load("teams","v1",t,a),gapi.client.load("oauth2","v2",t)};
"use strict";angular.module("TeamApp",["TeamControllers","ModalControllers","OverviewControllers","ManageControllers","TeamServices","InviteControllers","ui.bootstrap","ngRoute","TeamDirectives","angular.snackbar"]).config(["$routeProvider",function(e){e.when("/overview/",{templateUrl:"/static/teams/partials/overview.html",controller:"OverviewCtrl as overview"}).when("/preview/",{templateUrl:"/static/teams/partials/preview.html",controller:"PreviewCtrl as preview"}).when("/teams/",{templateUrl:"/static/teams/partials/teams.html",controller:"TeamsCtrl as teams",resolve:{teams:["api",function(e){return e.getTeams()}]}}).when("/teams/:team_key/courses",{templateUrl:"/static/teams/partials/teams_course.html",controller:"TeamsCourseCtrl as courses",resolve:{team:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).when("/teams/:team_key/courses/:course_name/tracks",{templateUrl:"/static/teams/partials/teams_track.html",controller:"TeamsTrackCtrl as tracks",resolve:{team:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).when("/teams/:team_key/courses/:course_name/tracks/:track_name/units",{templateUrl:"/static/teams/partials/teams_unit.html",controller:"TeamsUnitCtrl as units",resolve:{team:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).when("/invites/",{templateUrl:"/static/teams/partials/invites.html",controller:"InvitesCtrl as invites",resolve:{invites:["api",function(e){return e.getInvites()}]}}).when("/manage/",{templateUrl:"/static/teams/partials/manage.html",controller:"ManageCtrl as manage",resolve:{teams:["api",function(e){return e.getLeadTeams()}]}}).when("/manage/:team_key",{templateUrl:"/static/teams/partials/manage_team.html",controller:"ManageTeamCtrl as manage",resolve:{teams:["api",function(e){return e.getLeadTeams()}],user:["oAuth",function(e){return e.getUserInfo()}],courses:["api",function(e){return e.getCourses()}]}}).when("/manage/:team_key/sweeps",{templateUrl:"/static/teams/partials/manage_sweeps.html",controller:"SweepsTeamCtrl as sweeps",resolve:{teams:["api",function(e){return e.getLeadTeams()}],sweeps:["api","$route",function(e,t){return e.getSweeps(t.current.params)}],progress:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).otherwise({redirectTo:"/overview/"})}]).run(["$rootScope","$location","oAuth","sidebar",function(e,t,r,a){angular.element(document.querySelectorAll(".hidden.container")).removeClass("hidden"),angular.element(document.querySelector("div.spinner")).addClass("hidden"),r.check().then(null,function(){t.path("/preview"),a.show.set(!1)})}]);
angular.module("InviteControllers",[]).controller("InvitesCtrl",["invites","api","snackbar",function(e,s,n){this.pending=[],this.accepted=[];var t=e.invites;void 0==t&&(t=[]);for(var i=0;i<t.length;i++)"NOT_CHOSEN"===t[i].response?this.pending.push(t[i]):this.accepted.push(t[i]);var r=this;this.editInvite=function(e,t){var i=!1;if("NOT_CHOSEN"===e.response&&"NOT_CHOSEN"!==t){for(var o=0;o<r.pending.length;o++)if(r.pending[o].team_key===e.team_key){r.pending.splice(o,1);break}r.accepted.push(e),i=!0}if("REJECT_INVITE"===t){for(var o=0;o<r.accepted.length;o++)if(r.accepted[o].team_key===e.team_key){r.accepted.splice(o,1);break}i=!0}e.response=t,n.create("Sending response...",4),s.editInvite(e).then(function(){n.remove(4),n.createWithTimeout("<b>Success!</b> Response saved"),i&&s.getTeams(!0)},function(){n.remove(4),n.createWithTimeout("<b>Error!</b> Response not saved")})},this.pendingResponses=["NOT_CHOSEN","ALL_MEMBERS","TEAM_LEADER","REJECT_INVITE"],this.acceptedResponses=["ALL_MEMBERS","TEAM_LEADER","REJECT_INVITE"],this.responseOptions={NOT_CHOSEN:"No response",ALL_MEMBERS:"All members can see my progress",TEAM_LEADER:"Only the leader can see my progress",REJECT_INVITE:"Reject invite and no one can see my progress"}}]);
angular.module("ManageControllers",[]).controller("ManageCtrl",["$modal","teams","api","snackbar","oAuth",function(e,t,r,o,s){this.items=t.teams;var a=this;this.toggleCreateTeamModal=function(){var n=e.open({templateUrl:"/static/teams/partials/modals/create_team_modal.html",controller:"CreateTeamModalInstanceCtrl",controllerAs:"modal",resolve:{user:function(){return s.getUserInfo()},courses:function(){return r.getCourses()}}});n.result.then(function(e){o.create("Creating team...",1),r.insertTeam(e).then(function(e){o.remove(1),o.createWithTimeout("<b>Success!</b> Team created"),void 0==t.teams&&(t.teams=[],a.items=t.teams),t.teams.push(e)},function(e){o.remove(1),o.createWithTimeout("<b>Error!</b> Team not created")})})}}]).controller("ManageTeamCtrl",["$routeParams","$modal","teams","$scope","snackbar","api","$location","user","courses",function(e,t,r,o,s,a,n,i,m){for(var l=r.teams,c=-1,u=0;u<l.length;u++)if(l[u].team_key==e.team_key){this.team=l[u],c=u;break}this.goToSweep=function(){n.path(n.path()+"/sweeps")},this.offeredCourses=m,console.log(m),this.getCourseTitle=function(e){for(var t=0;t<m.ids.length;t++)if(m.ids[t]===e)return m.titles[t];return""};var p=0,h=this,d=o.$watch(function(){return h.team},function(){p++,h.onInputMadeDirty(p)},!0);this.onInputMadeDirty=function(e){e>1&&(s.createWithTimeout("<b>Warning!</b> You must press submit to save your changes"),d())},this.deleteMember=function(e){for(var t=h.team.members,r=0;r<t.length;r++)if(t[r].email==e.email){t.splice(r,1);break}},this.saveTeam=function(){s.create("Saving team...",3),a.insertTeam(h.team).then(function(e){s.remove(3),s.createWithTimeout("<b>Success!</b> Team saved")},function(){s.remove(3),s.createWithTimeout("<b>Error!</b> Team not saved")})},this.toggleDeleteTeamModal=function(){var e=t.open({templateUrl:"/static/teams/partials/modals/delete_team_modal.html",controller:"DeleteTeamModalInstanceCtrl",controllerAs:"modal"});e.result.then(function(){l.splice(u,1),s.create("Deleting team...",2),a.deleteTeam(h.team).then(function(){s.remove(2),s.createWithTimeout("<b>Success!</b> Team deleted")},function(){s.remove(2),s.createWithTimeout("<b>Error!</b> Team not deleted")}),n.path("/manage")})},this.toggleCreateMemberModal=function(){var e=t.open({templateUrl:"/static/teams/partials/modals/create_member_modal.html",controller:"NewMemberModalInstanceCtrl",controllerAs:"modal"});e.result.then(function(e){var t={email:e,visibility:"NOT_CHOSEN"};void 0==h.team.members&&(h.team.members=[]),e==i.email&&(t.visibility="ALL_MEMBERS"),h.team.members.push(t),h.team.newMembers=!0})},this.visibilityOptions={NOT_CHOSEN:"No Response",ALL_MEMBERS:"Progress visible by everyone",TEAM_LEADER:"Progress visible by leader only"}}]).controller("SweepsTeamCtrl",["$routeParams","$modal","teams","sweeps","$location","progress","snackbar","api","$scope",function(e,t,r,o,s,a,n,i,m){var l=r.teams;this.sweeps=o.sweeps||[];var c=-1;this.today=new Date,this.timezones=["UTC","Eastern","Central","Mountain","Pacific"],this.done=function(){s.path("/manage/"+e.team_key)};for(var u=0;u<l.length;u++)if(l[u].team_key==e.team_key){this.team=l[u],c=u;break}for(var p=this,u=0;u<this.sweeps.length;u++){var h=this.sweeps[u];h.hourNum=parseInt(h.hour);var d=new Date(0);d.setFullYear(h.year),d.setMonth(parseInt(h.month)-1,parseInt(h.day)),h.dt=d}this.saveSweep=function(e){n.create("Saving Sweep...",6),e.hour=e.hourNum.toString(),e.year=e.dt.getFullYear().toString(),e.month=(e.dt.getMonth()+1).toString(),e.day=e.dt.getDate().toString(),i.insertSweep(e).then(function(e){n.remove(6),n.createWithTimeout("<b>Success!</b> Sweep saved")},function(){n.remove(6),n.createWithTimeout("<b>Error!</b> Sweep not saved")})},this.deleteSweep=function(e){n.create("Removing Sweep...",7),i.deleteSweep(e).then(function(){for(var t=0;t<p.sweeps.length;t++)if(e.sweep_key===p.sweeps[t].sweep_key){p.sweeps.splice(t,1);break}n.remove(7),n.createWithTimeout("<b>Success!</b> Sweep removed")},function(){n.remove(7),n.createWithTimeout("<b>Error!</b> Sweep not removed")})},this.stopEvent=function(e){e.preventDefault(),e.stopPropagation()},this.toggleImportSweepsDialog=function(){var e=t.open({templateUrl:"/static/teams/partials/modals/import_sweeps_modal.html",controller:"ImportSweepsModalInstanceCtrl",controllerAs:"modal",resolve:{teams:function(){return l}}});e.result.then(function(e){console.log(e),n.create("Importing from "+e.name+"...",10),i.getSweeps(e).then(function(e){if(console.log(e),!e.sweeps||!e.sweeps.length)return n.remove(10),void n.createWithTimeout("<b>Error!</b> There were no sweeps to import");for(var t=0;t<e.sweeps.length;t++){var r=e.sweeps[t];delete r.sweep_key,r.team_key=p.team.team_key,i.insertSweep(r).then(function(e){console.log(e),e.hourNum=parseInt(e.hour);var t=new Date(0);t.setFullYear(e.year),t.setMonth(parseInt(e.month)-1,parseInt(e.day)),e.dt=t,void 0==o.sweeps&&(o.sweeps=[],p.sweeps=o.sweeps);for(var r=!1,s=0;s<p.sweeps.length;s++)if(p.sweeps[s].dt.getTime()<e.dt.getTime()||p.sweeps[s].dt.getTime()===e.dt.getTime()&&p.sweeps[s].hourNum<e.hourNum){p.sweeps.splice(s,0,e),r=!0;break}r||p.sweeps.push(e)})}n.remove(10),n.createWithTimeout("<b>Success!</b> Sweeps Imported")},function(){n.remove(10),n.createWithTimeout("<b>Error!</b> Import failed")})})},this.toggleSweepOptionsModal=function(e){var r=t.open({templateUrl:"/static/teams/partials/modals/export_progress_modal.html",controller:"SweepOptionsModalInstanceCtrl",controllerAs:"modal",resolve:{team:function(){return a},optionString:function(){return e.options}}});r.result.then(function(t){e.options=t})},this.toggleCreateSweepDialog=function(){var r=t.open({templateUrl:"/static/teams/partials/modals/create_sweep_modal.html",controller:"NewSweepModalInstanceCtrl",controllerAs:"modal",resolve:{team_key:function(){return e.team_key},progress:function(){return a}}});r.result.then(function(e){n.create("Creating Sweep...",8),e.hour=e.hourNum.toString(),e.year=e.dt.getFullYear().toString(),e.month=(e.dt.getMonth()+1).toString(),e.day=e.dt.getDate().toString(),i.insertSweep(e).then(function(e){console.log(e),e.hourNum=parseInt(e.hour);var t=new Date(0);t.setFullYear(e.year),t.setMonth(parseInt(e.month)-1,parseInt(e.day)),e.dt=t,void 0==o.sweeps&&(o.sweeps=[],p.sweeps=o.sweeps);for(var r=!1,s=0;s<p.sweeps.length;s++)if(p.sweeps[s].dt.getTime()<e.dt.getTime()||p.sweeps[s].dt.getTime()===e.dt.getTime()&&p.sweeps[s].hourNum<e.hourNum){p.sweeps.splice(s,0,e),r=!0;break}r||p.sweeps.push(e),n.remove(8),n.createWithTimeout("<b>Success!</b> Sweep created")},function(){n.remove(8),n.createWithTimeout("<b>Error!</b> Sweep not created")})})}}]);
angular.module("ModalControllers",[]).controller("ModalToggleCtrl",["$modal",function(t){this.toggleSignOutModal=function(){t.open({templateUrl:"logout_modal.html",controller:"SimpleModalInstanceCtrl",controllerAs:"modal"})},this.toggleEditProfileModal=function(){t.open({templateUrl:"edit_profile_modal.html",controller:"SimpleModalInstanceCtrl",controllerAs:"modal"})}}]).controller("SimpleModalInstanceCtrl",["$modalInstance",function(t){this.cancel=function(){t.dismiss("cancel")}}]).controller("NewMemberModalInstanceCtrl",["$modalInstance","$controller",function(t,e){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.email="",this.addMember=function(e){return e=e.trim(),0===e.length?void t.dismiss("cancel"):(e.indexOf("@")<0&&(e+="@gmail.com"),void t.close(e))}}]).controller("DeleteTeamModalInstanceCtrl",["$modalInstance","$controller",function(t,e){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.remove=function(){t.close()}}]).controller("ImportSweepsModalInstanceCtrl",["$modalInstance","$controller","teams",function(t,e,n){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.teams=n,this.selectedTeam=n[0],this["import"]=function(){t.close(this.selectedTeam)}}]).controller("CreateTeamModalInstanceCtrl",["$modalInstance","$controller","user","courses",function(t,e,n,o){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.teamName="",this.teamMembers="",this.includeLeader=!1;var s=this;this.courses=angular.copy(o.ids),this.offeredCourses=o,this.getCourseTitle=function(t){for(var e=0;e<o.ids.length;e++)if(o.ids[e]===t)return o.titles[e];return""},this.add=function(){for(var e={name:s.teamName,leader:n.email,members:[],courses:s.courses},o=s.teamMembers.split(","),r=0;r<o.length;r++){var a=o[r].trim();0!==a.length&&(a.indexOf("@")<0&&(a+="@gmail.com"),e.members.push({email:a,visibility:"NOT_CHOSEN"}))}s.includeLeader&&e.members.push({email:n.email,visibility:"ALL_MEMBERS"}),t.close(e)}}]).controller("ExportModalParentCtrl",["$modalInstance","$controller","team","$window",function(t,e,n){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.team=n,this.fullname=!0,this.username=!0,this.hasTimestamp=!0,this.pointValue="points",this.pointsPerUnit=parseInt(localStorage.getItem("ppu"))||1,this.pointsPerTask=parseInt(localStorage.getItem("ppt"))||1,this.includeCourseProgress=!1,this.includeTrackProgress=!1,this.timezone="Eastern",this.timezones=["UTC","Eastern","Central","Mountain","Pacific"],this.data=[];if(n.members_progress.length>0)for(var o=n.members_progress[0].course_progress,s=0;s<o.length;s++){for(var r={name:o[s].name,tracks:[],toggled:!1,id:o[s].id},a=o[s].track_progress,l=0;l<a.length;l++){for(var i={name:a[l].name,units:[],toggled:!1},c=a[l].unit_progress,m=0;m<c.length;m++){var d={name:c[m].name,toggled:!1};i.units.push(d)}r.tracks.push(i)}this.data.push(r)}else alert("You need at least one member to do this!");var u=function(t){t.toggled=!0;for(var e=0;e<t.units.length;e++)if(!t.units[e].toggled){t.toggled=!1;break}},g=function(t){t.toggled=!0;for(var e=0;e<t.tracks.length;e++)if(!t.tracks[e].toggled){t.toggled=!1;break}};this.toggleCourse=function(t){for(var e=t.tracks,n=0;n<e.length;n++){for(var o=e[n].units,s=0;s<o.length;s++)o[s].toggled=!t.toggled;e[n].toggled=!t.toggled}t.toggled=!t.toggled},this.toggleTrack=function(t,e){for(var n=e.units,o=0;o<n.length;o++)n[o].toggled=!e.toggled;e.toggled=!e.toggled,g(t)},this.unitToggled=function(t,e){u(e),g(t)},this.generate=function(){var t="team_urlsafe="+n.team_key;this.fullname&&(t+="&student_name=true"),this.username&&(t+="&rose_username=true"),this.hasTimestamp&&(t+="&timezone="+this.timezone),this.includeCourseProgress&&(t+="&course_progress=true"),this.includeTrackProgress&&(t+="&track_progress=true"),"points"===this.pointValue?(t+="&ppu="+this.pointsPerUnit,localStorage.setItem("ppu",this.pointsPerUnit)):(t+="&ppt="+this.pointsPerTask,localStorage.setItem("ppt",this.pointsPerTask));for(var e=angular.copy(this.data),o=0;o<e.length;o++)for(var s=e[o],r=0;r<s.tracks.length;r++){for(var a=s.tracks[r],l=[],i=0;i<a.units.length;i++){var c=a.units[i];c.toggled&&l.push(c.name)}a.units=l}var m=JSON.stringify(e);t+="&progress_data="+m,this.onPostGenerate(t)}}]).controller("ExportModalInstanceCtrl",["$modalInstance","$controller","team","$window",function(t,e,n,o){angular.extend(this,e("ExportModalParentCtrl",{$modalInstance:t,$controller:e,team:n})),this.onPostGenerate=function(e){var n="http://"+o.location.host+"/teams/export.csv?";o.open(n+encodeURI(e),"_blank"),t.close()},this.doneButtonText="Generate"}]).controller("NewSweepModalInstanceCtrl",["$modalInstance","$controller","team_key","$modal","progress",function(t,e,n,o,s){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.sweep={dt:new Date,team_key:n,options:"",hourNum:12,tz:"Eastern"},this.timezones=["UTC","Eastern","Central","Mountain","Pacific"],this.today=new Date,this.stopEvent=function(t){t.preventDefault(),t.stopPropagation()},this.addSweep=function(){t.close(this.sweep)};var r=this;this.toggleSweepOptionsModal=function(){var t=o.open({templateUrl:"/static/teams/partials/modals/export_progress_modal.html",controller:"SweepOptionsModalInstanceCtrl",controllerAs:"modal",resolve:{team:function(){return s},optionString:function(){return r.sweep.options}}});t.result.then(function(t){r.sweep.options=t})}}]).controller("SweepOptionsModalInstanceCtrl",["$modalInstance","$controller","team","optionString",function(t,e,n,o){if(angular.extend(this,e("ExportModalParentCtrl",{$modalInstance:t,$controller:e,team:n})),this.onPostGenerate=function(e){t.close(e)},this.doneButtonText="Done",""!==o){var s={};o=o.split("&");for(var r=0;r<o.length;r++){var a=o[r].split("=");s[a[0]]=a[1]}this.fullname="true"===s.student_name,this.username="true"===s.rose_username,this.hasTimestamp=void 0!=s.timezone,this.pointValue=s.ppu?"points":"tasks",this.pointsPerUnit=parseInt(s.ppu)||parseInt(localStorage.getItem("ppu"))||1,this.pointsPerTask=parseInt(s.ppt)||parseInt(localStorage.getItem("ppt"))||1,this.includeCourseProgress="true"===s.course_progress,this.includeTrackProgress="true"===s.track_progress,this.timezone=s.timezone||"Eastern",this.timezones=["UTC","Eastern","Central","Mountain","Pacific"];for(var l=JSON.parse(s.progress_data),r=0;r<this.data.length;r++)for(var i=this.data[r],c=0;c<i.tracks.length;c++)for(var m=i.tracks[c],d=l[r].tracks[c].units,u=0;u<m.units.length;u++){var g=m.units[u];g.toggled=-1!==d.indexOf(g.name)}}}]);
angular.module("OverviewControllers",[]).controller("OverviewCtrl",function(){}).controller("PreviewCtrl",["oAuth","$location","sidebar","$rootScope","snackbar","userEmail",function(t,e,o,n,r,i){t.check().then(function(){e.path("/overview"),o.show.set(!0),n.$apply()}),this.signup=function(){t.signup().then(function(){t.getUserInfo().then(function(t){t.email!==i&&r.createWithTimeout("<b>Danger!</b> Signing up for teams with another account may cause errors!",6e3)}),e.path("/overview"),o.show.set(!0)},function(){r.createWithTimeout("<b>Error!</b> Sign up failed")})}}]).controller("SidebarCtrl",["sidebar","$location","$scope",function(t,e,o){this.routes=t.routes,this.show=t.show.get();var n=this;o.$watch(function(){return t.show.get()},function(t){n.show=t}),this.isActive=function(t){var o=e.path();return t=t.substring(1),o.startsWith(t)}}]);
angular.module("TeamControllers",[]).controller("TeamsCtrl",["$modal","teams",function(r,e){this.items=e.teams}]).controller("TeamsParentCtrl",["$modal","team",function(r,e){this.toggleExportProgressModal=function(){r.open({templateUrl:"/static/teams/partials/modals/export_progress_modal.html",controller:"ExportModalInstanceCtrl",controllerAs:"modal",resolve:{team:function(){return e}}})}}]).controller("TeamsCourseCtrl",["$modal","team","$controller",function(r,e,s){if(angular.extend(this,s("TeamsParentCtrl",{$modal:r,team:e})),this.team=e,void 0==e.members_progress&&(this.team.members_progress=[]),this.courses=[],e.members_progress.length>0){courses=e.members_progress[0].course_progress;for(var t=0;t<courses.length;t++)this.courses.push(courses[t].name)}}]).controller("TeamsTrackCtrl",["$routeParams","team","$modal","$controller",function(r,e,s,t){if(angular.extend(this,t("TeamsParentCtrl",{$modal:s,team:e})),this.team=e,void 0==e.members_progress&&(this.team.members_progress=[]),this.course=r.course_name,this.tracks=[],e.members_progress.length>0)for(var o=e.members_progress[0].course_progress,a=0;a<o.length;a++)if(o[a].name===this.course){this.courseNum=a;for(var m=o[a].track_progress,n=0;n<m.length;n++)this.tracks.push(m[n].name);break}var l=this;this.getProgressForMemberTrack=function(r,e){return r.course_progress[l.courseNum].track_progress[e].progress}}]).controller("TeamsUnitCtrl",["$routeParams","team","$modal","$controller",function(r,e,s,t){if(angular.extend(this,t("TeamsParentCtrl",{$modal:s,team:e})),this.team=e,void 0==e.members_progress&&(this.team.members_progress=[]),this.course=r.course_name,this.track=r.track_name,this.units=[],e.members_progress.length>0)for(var o=e.members_progress[0].course_progress,a=0;a<o.length;a++)if(o[a].name===this.course){this.courseNum=a;for(var m=o[a].track_progress,n=0;n<m.length;n++)if(m[n].name===this.track){this.trackNum=n;for(var l=m[n].unit_progress,i=0;i<l.length;i++)this.units.push(l[i].name);break}break}var c=this;this.getProgressForMemberUnit=function(r,e){return r.course_progress[c.courseNum].track_progress[c.trackNum].unit_progress[e].progress}}]);
angular.module("TeamServices",[]).factory("sidebar",function(){var e=!0;return{routes:[{name:"Overview",href:"#/overview/"},{name:"Teams",href:"#/teams/"},{name:"Invites",href:"#/invites/"},{name:"Manage",href:"#/manage/"}],show:{get:function(){return e},set:function(t){e=t}}}}).factory("userEmail",["$rootScope",function(e){return e.userEmail}]).service("oAuth",["$q","$location",function(e,t){var i=function(t){return function(){var i=e.defer();return gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:t},function(e){e.error?i.reject(e):i.resolve(e)}),i.promise}};this.signup=i(!1),this.check=i(!0),this.execute=function(t){var i=e.defer();return gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:!0},function(){t.execute(function(e){e.code?i.reject(e):i.resolve(e.result)})}),i.promise},this.getUserInfo=function(){return this.execute(gapi.client.oauth2.userinfo.get())}}]).service("api",["oAuth","$q",function(e,t){var i={};this.deleteCache=function(){i={}};var n=function(n,r){return function(s){var a=t.defer();return void 0!=i[n]&&void 0==s?(a.resolve(i[n]),a.promise):(e.execute(r).then(function(e){i[n]=e,a.resolve(e)},function(e){a.reject(e)}),a.promise)}},r=function(n,r){return function(s){var a=t.defer();return void 0!=i[n+s.team_key]?(a.resolve(i[n+s.team_key]),a.promise):(e.execute(r(s)).then(function(e){i[n+s.team_key]=e,a.resolve(e)},function(e){a.reject(e)}),a.promise)}};this.deleteTeam=function(t){if(void 0!=i.get_teams)for(var n=i.get_teams.teams,r=0;r<n.length;r++)if(t.team_key==n[r].team_key){n.splice(r,1);break}return e.execute(gapi.client.teams["delete"](t))},this.insertTeam=function(n){var r=t.defer(),s=void 0!=i.get_teams,a=void 0,o=void 0==n.team_key;return s&&(a=i.get_teams.teams,void 0==a&&(i.get_teams.teams=[],a=i.get_teams.teams)),e.execute(gapi.client.teams.insert(n)).then(function(e){if(s)if(o)a.push(e);else for(var t=0;t<a.length;t++)if(e.team_key===a[t].team_key){a[t]=e;break}r.resolve(e)},function(e){r.reject(e)}),r.promise},this.getInvites=n("get_invites",gapi.client.teams.invites.list()),this.editInvite=function(t){return e.execute(gapi.client.teams.invites.respond(t))},this.getTeams=n("get_teams",gapi.client.teams.list.all()),this.getLeadTeams=n("get_lead_teams",gapi.client.teams.list.leader()),this.getProgress=r("progress",gapi.client.teams.progress),this.getSweeps=r("sweep",gapi.client.teams.sweeps.get),this.insertSweep=function(t){return e.execute(gapi.client.teams.sweeps.insert(t))},this.deleteSweep=function(t){return e.execute(gapi.client.teams.sweeps["delete"](t))},this.getCourses=n("courses",gapi.client.teams.courses())}]);
angular.module("TeamDirectives",[]).directive("teamTitle",function(){return{restrict:"E",scope:{team:"="},templateUrl:"/static/teams/partials/components/team_title.html"}}).directive("routeLoadingIndicator",["$rootScope",function(e){return{restrict:"E",templateUrl:"/static/teams/partials/components/loading_spinner.html",link:function(t,n,r){e.$on("$routeChangeStart",function(){e.isRouteLoading=!0}),e.$on("$routeChangeSuccess",function(){e.isRouteLoading=!1})}}}]).filter("percentage",["$filter",function(e){return function(t,n){return e("number")(100*t,n)+"%"}}]).filter("pendingSweeps",function(){return function(e){var t=new Date,n=new Date(0);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth(),t.getDate());var r=t.getHours(),i=[];return angular.forEach(e,function(e){(e.dt.getTime()>n.getTime()||e.dt.getTime()===n.getTime()&&e.hourNum>r)&&i.push(e)}),i}}).filter("firedSweeps",function(){return function(e){var t=new Date,n=new Date(0);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth(),t.getDate());var r=t.getHours(),i=[];return angular.forEach(e,function(e){(e.dt.getTime()<n.getTime()||e.dt.getTime()===n.getTime()&&e.hourNum<=r)&&i.push(e)}),i}});
!function(a){"use strict";var n=a.module("angular.snackbar",[]);n.factory("snackbar",["$rootScope",function(a){return{createWithTimeout:function(n,e){a.$broadcast("createSnackbarWithTimeout",{content:n,duration:e})},create:function(n,e){a.$broadcast("createSnackbar",{content:n,id:e})},remove:function(n){a.$broadcast("removeSnackbar",{id:n})}}}]),n.directive("snackbar",["$rootScope","$compile","$timeout",function(n,e,c){return function(t,r,o){var s=a.element(r),i=o.snackbarDuration||3e3,u=o.snackbarRemoveDelay||20;n.$on("createSnackbarWithTimeout",function(n,r){var o='<div class="snackbar snackbar-opened"><span class="snackbar-content">'+r.content+"</span></div>",b=a.element(e(o)(t));s.append(b),c(function(){b.removeClass("snackbar-opened"),c(function(){b.remove()},u,!1)},r.duration||i,!1)}),n.$on("createSnackbar",function(n,c){var r='<div class="snackbar snackbar-opened snackbar-id-'+c.id+'"><span class="snackbar-content">'+c.content+"</span></div>",o=a.element(e(r)(t));s.append(o)}),n.$on("removeSnackbar",function(n,e){var c=a.element(s[0].getElementsByClassName("snackbar-id-"+e.id));c.removeClass("snackbar-opened"),c.remove()})}}])}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiLCJhcHAuanMiLCJpbnZpdGVzX2NvbnRyb2xsZXJzLmpzIiwibWFuYWdlX2NvbnRyb2xsZXJzLmpzIiwibW9kYWxfY29udHJvbGxlcnMuanMiLCJvdmVydmlld19jb250cm9sbGVycy5qcyIsInRlYW1zX2NvbnRyb2xsZXJzLmpzIiwic2VydmljZXMuanMiLCJkaXJlY3RpdmVzLmpzIiwiYW5ndWxhci5zbmFja2Jhci5taW4uanMiXSwibmFtZXMiOlsiQ0xJRU5UX0lEIiwiU0NPUEVTIiwiUkVTUE9OU0VfVFlQRSIsImluaXQiLCJhcGlzVG9Mb2FkIiwiYXBpUm9vdCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsImluZGV4T2YiLCJjYWxsYmFjayIsImFuZ3VsYXIiLCJib290c3RyYXAiLCJkb2N1bWVudCIsImdhcGkiLCJjbGllbnQiLCJsb2FkIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicmVzb2x2ZSIsInRlYW1zIiwiYXBpIiwiZ2V0VGVhbXMiLCJ0ZWFtIiwiJHJvdXRlIiwiZ2V0UHJvZ3Jlc3MiLCJjdXJyZW50IiwicGFyYW1zIiwiaW52aXRlcyIsImdldEludml0ZXMiLCJnZXRMZWFkVGVhbXMiLCJ1c2VyIiwib0F1dGgiLCJnZXRVc2VySW5mbyIsImNvdXJzZXMiLCJnZXRDb3Vyc2VzIiwic3dlZXBzIiwiZ2V0U3dlZXBzIiwicHJvZ3Jlc3MiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwicnVuIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsInNpZGViYXIiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZUNsYXNzIiwicXVlcnlTZWxlY3RvciIsImFkZENsYXNzIiwiY2hlY2siLCJ0aGVuIiwicGF0aCIsInNob3ciLCJzZXQiLCJzbmFja2JhciIsInRoaXMiLCJwZW5kaW5nIiwiYWNjZXB0ZWQiLCJhbGxJbnZpdGVzIiwidW5kZWZpbmVkIiwiaSIsImxlbmd0aCIsInJlc3BvbnNlIiwicHVzaCIsInNlbGYiLCJlZGl0SW52aXRlIiwiaW52aXRlIiwibmV3UmVzcG9uc2UiLCJyZWZyZXNoVGVhbXMiLCJ0ZWFtX2tleSIsInNwbGljZSIsImNyZWF0ZSIsInJlbW92ZSIsImNyZWF0ZVdpdGhUaW1lb3V0IiwicGVuZGluZ1Jlc3BvbnNlcyIsImFjY2VwdGVkUmVzcG9uc2VzIiwicmVzcG9uc2VPcHRpb25zIiwiTk9UX0NIT1NFTiIsIkFMTF9NRU1CRVJTIiwiVEVBTV9MRUFERVIiLCJSRUpFQ1RfSU5WSVRFIiwiJG1vZGFsIiwiaXRlbXMiLCJ0b2dnbGVDcmVhdGVUZWFtTW9kYWwiLCJtb2RhbEluc3RhbmNlIiwib3BlbiIsImNvbnRyb2xsZXJBcyIsInJlc3VsdCIsIm5ld1RlYW0iLCJpbnNlcnRUZWFtIiwiZXJyb3IiLCIkcm91dGVQYXJhbXMiLCIkc2NvcGUiLCJ0ZWFtTnVtYmVyIiwiZ29Ub1N3ZWVwIiwib2ZmZXJlZENvdXJzZXMiLCJjb25zb2xlIiwibG9nIiwiZ2V0Q291cnNlVGl0bGUiLCJwcmVmaXgiLCJpZHMiLCJ0aXRsZXMiLCJ0aW1lc0NoYW5nZWQiLCJkZXJlZ2lzdGVyIiwiJHdhdGNoIiwib25JbnB1dE1hZGVEaXJ0eSIsImRlbGV0ZU1lbWJlciIsIm1lbWJlciIsIm1lbWJlcnMiLCJlbWFpbCIsInNhdmVUZWFtIiwidG9nZ2xlRGVsZXRlVGVhbU1vZGFsIiwiZGVsZXRlVGVhbSIsInRvZ2dsZUNyZWF0ZU1lbWJlck1vZGFsIiwibmV3RW1haWwiLCJuZXdNZW1iZXIiLCJ2aXNpYmlsaXR5IiwibmV3TWVtYmVycyIsInZpc2liaWxpdHlPcHRpb25zIiwidG9kYXkiLCJEYXRlIiwidGltZXpvbmVzIiwiZG9uZSIsInN3ZWVwIiwiaG91ck51bSIsInBhcnNlSW50IiwiaG91ciIsImR0Iiwic2V0RnVsbFllYXIiLCJ5ZWFyIiwic2V0TW9udGgiLCJtb250aCIsImRheSIsInNhdmVTd2VlcCIsInRvU3RyaW5nIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJpbnNlcnRTd2VlcCIsIm5ld1N3ZWVwIiwiZGVsZXRlU3dlZXAiLCJzd2VlcF9rZXkiLCJzdG9wRXZlbnQiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInRvZ2dsZUltcG9ydFN3ZWVwc0RpYWxvZyIsInRlYW1Ub0ltcG9ydEZyb20iLCJuYW1lIiwiaW1wb3J0ZWRTd2VlcHMiLCJpbnNlcnRlZCIsImdldFRpbWUiLCJ0b2dnbGVTd2VlcE9wdGlvbnNNb2RhbCIsIm9wdGlvblN0cmluZyIsIm9wdGlvbnMiLCJuZXdPcHRpb25zIiwidG9nZ2xlQ3JlYXRlU3dlZXBEaWFsb2ciLCJ0b2dnbGVTaWduT3V0TW9kYWwiLCJ0b2dnbGVFZGl0UHJvZmlsZU1vZGFsIiwiJG1vZGFsSW5zdGFuY2UiLCJjYW5jZWwiLCJkaXNtaXNzIiwiJGNvbnRyb2xsZXIiLCJleHRlbmQiLCJhZGRNZW1iZXIiLCJ0cmltIiwiY2xvc2UiLCJzZWxlY3RlZFRlYW0iLCJ0ZWFtTmFtZSIsInRlYW1NZW1iZXJzIiwiaW5jbHVkZUxlYWRlciIsImNvcHkiLCJhZGQiLCJsZWFkZXIiLCJzcGxpdCIsImZ1bGxuYW1lIiwidXNlcm5hbWUiLCJoYXNUaW1lc3RhbXAiLCJwb2ludFZhbHVlIiwicG9pbnRzUGVyVW5pdCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwb2ludHNQZXJUYXNrIiwiaW5jbHVkZUNvdXJzZVByb2dyZXNzIiwiaW5jbHVkZVRyYWNrUHJvZ3Jlc3MiLCJ0aW1lem9uZSIsImRhdGEiLCJtZW1iZXJzX3Byb2dyZXNzIiwiY291cnNlX3Byb2dyZXNzIiwiY291cnNlIiwidHJhY2tzIiwidG9nZ2xlZCIsImlkIiwidHJhY2tfcHJvZ3Jlc3MiLCJqIiwidHJhY2siLCJ1bml0cyIsInVuaXRfcHJvZ3Jlc3MiLCJrIiwidW5pdCIsImFsZXJ0IiwiY2hlY2tUcmFja1RvZ2dsZSIsImNoZWNrQ291cnNlVG9nZ2xlIiwidG9nZ2xlQ291cnNlIiwidG9nZ2xlVHJhY2siLCJ1bml0VG9nZ2xlZCIsImdlbmVyYXRlIiwibGFuZGluZ1FzIiwic2V0SXRlbSIsInByb2dyZXNzX2RhdGEiLCJ1bml0TGlzdCIsImpzb25TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5Iiwib25Qb3N0R2VuZXJhdGUiLCIkd2luZG93IiwicXMiLCJsYW5kaW5nVXJsIiwiZW5jb2RlVVJJIiwiZG9uZUJ1dHRvblRleHQiLCJ0eiIsImFkZFN3ZWVwIiwib3AiLCJwYXJzZSIsInRvZ2dsZWRVbml0cyIsInVzZXJFbWFpbCIsIiRhcHBseSIsInNpZ251cCIsInVzZXJJbmZvIiwicm91dGVzIiwiZ2V0IiwidmFsdWUiLCJpc0FjdGl2ZSIsInJvdXRlVXJsIiwic3Vic3RyaW5nIiwic3RhcnRzV2l0aCIsInRvZ2dsZUV4cG9ydFByb2dyZXNzTW9kYWwiLCJjb3Vyc2VfbmFtZSIsImNvdXJzZU51bSIsImNvdXJzZVRyYWNrcyIsImdldFByb2dyZXNzRm9yTWVtYmVyVHJhY2siLCJ0cmFja051bSIsInRyYWNrX25hbWUiLCJ0cmFja1VuaXRzIiwiZ2V0UHJvZ3Jlc3NGb3JNZW1iZXJVbml0IiwidW5pdE51bSIsImZhY3RvcnkiLCJpc1Nob3dpbmciLCJocmVmIiwic2hvd2luZyIsInNlcnZpY2UiLCIkcSIsInNpZ25pbiIsImltbWVkaWF0ZSIsInAiLCJkZWZlciIsImF1dGgiLCJhdXRob3JpemUiLCJjbGllbnRfaWQiLCJzY29wZSIsImF1dGhSZXN1bHQiLCJyZWplY3QiLCJwcm9taXNlIiwiZXhlY3V0ZSIsImFwaU1ldGhvZCIsInJlc3AiLCJjb2RlIiwib2F1dGgyIiwidXNlcmluZm8iLCJjYWNoZSIsImRlbGV0ZUNhY2hlIiwiY2FjaGVkQXBpQ2FsbCIsImNhY2hlS2V5IiwiZm9yY2VSZWZyZXNoIiwiY2FjaGVkVGVhbUFwaUNhbGwiLCJ0eXBlIiwidXBkYXRlQ2FjaGUiLCJpbnNlcnQiLCJsaXN0IiwicmVzcG9uZCIsImFsbCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwibGluayIsImVsZW0iLCJhdHRycyIsIiRvbiIsImlzUm91dGVMb2FkaW5nIiwiZmlsdGVyIiwiJGZpbHRlciIsImlucHV0IiwiZGVjaW1hbHMiLCJub3ciLCJjb21wYXJlRGF0ZSIsImdldEhvdXJzIiwiZmlsdGVyZWQiLCJmb3JFYWNoIiwiaXRlbSIsImEiLCJuIiwiZSIsIiRicm9hZGNhc3QiLCJjb250ZW50IiwiZHVyYXRpb24iLCJjIiwidCIsInIiLCJvIiwicyIsInNuYWNrYmFyRHVyYXRpb24iLCJ1Iiwic25hY2tiYXJSZW1vdmVEZWxheSIsImIiLCJhcHBlbmQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIl0sIm1hcHBpbmdzIjoiQUFxQkFBLFVBQVksOEVBTVpDLE9BQVMsaURBT1RDLGNBQWdCLGlCQVFoQkMsS0FBTyxXQUNOLEdBQUlDLEdBQ0FDLEVBQVUsS0FBT0MsT0FBT0MsU0FBU0MsS0FBTyxVQUVNLE1BQTlDRixPQUFPQyxTQUFTQyxLQUFLQyxRQUFRLGVBQ2hDSixFQUFVLDRDQUVYLElBQUlLLEdBQVcsV0FDTSxLQUFkTixHQUVMTyxRQUFRQyxVQUFVQyxVQUFXLFlBRy9CVCxHQUFhLEVBQ2JVLEtBQUtDLE9BQU9DLEtBQUssUUFBUyxLQUFNTixFQUFVTCxHQUMxQ1MsS0FBS0MsT0FBT0MsS0FBSyxTQUFVLEtBQU1OO0FDekRsQyxZQUVBQyxTQUFRTSxPQUFPLFdBQVksa0JBQW1CLG1CQUFvQixzQkFBdUIsb0JBQzlELGVBQWlCLG9CQUFxQixlQUFnQixVQUFXLGlCQUNqRSxxQkFDMUJDLFFBQVEsaUJBQ1AsU0FBU0MsR0FDUEEsRUFDR0MsS0FBSyxjQUNKQyxZQUFhLHVDQUNiQyxXQUFZLDZCQUViRixLQUFLLGFBQ0pDLFlBQWEsc0NBQ2JDLFdBQVksMkJBRWJGLEtBQUssV0FDSkMsWUFBYSxvQ0FDYkMsV0FBWSxxQkFDWkMsU0FDRUMsT0FBUSxNQUFPLFNBQVNDLEdBQ3RCLE1BQU9BLEdBQUlDLGdCQUloQk4sS0FBSyw0QkFDSkMsWUFBYSwyQ0FDYkMsV0FBWSw2QkFDWkMs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QUdGLEVBQUVHLFdBQVcsa0JBQWtCQyxRQUFRSCxFQUFFM0csR0FBRzRHLEtBQUtwTyxPQUFPLFNBQVNtTyxHQUFHRCxFQUFFRyxXQUFXLGtCQUFrQjdHLEdBQUcyRyxTQUFTQSxFQUFFbEIsVUFBVSxZQUFZLGFBQWEsV0FBVyxXQUFXLFNBQVNrQixFQUFFQyxFQUFFSSxHQUFHLE1BQU8sVUFBU0MsRUFBRUMsRUFBRUMsR0FBRyxHQUFJQyxHQUFFVixFQUFFOVAsUUFBUXNRLEdBQUd0UCxFQUFFdVAsRUFBRUUsa0JBQWtCLElBQUlDLEVBQUVILEVBQUVJLHFCQUFxQixFQUFHWixHQUFFYixJQUFJLDRCQUE0QixTQUFTYSxFQUFFTyxHQUFHLEdBQUlDLEdBQUUsd0VBQXdFRCxFQUFFSixRQUFRLGdCQUFnQlUsRUFBRWQsRUFBRTlQLFFBQVFnUSxFQUFFTyxHQUFHRixHQUFJRyxHQUFFSyxPQUFPRCxHQUFHUixFQUFFLFdBQVdRLEVBQUUxUSxZQUFZLG1CQUFtQmtRLEVBQUUsV0FBV1EsRUFBRWhQLFVBQVU4TyxHQUFFLElBQUtKLEVBQUVILFVBQVVuUCxHQUFFLEtBQU0rTyxFQUFFYixJQUFJLGlCQUFpQixTQUFTYSxFQUFFSyxHQUFHLEdBQUlFLEdBQUUsb0RBQW9ERixFQUFFaEgsR0FBRyxvQ0FBb0NnSCxFQUFFRixRQUFRLGdCQUFnQkssRUFBRVQsRUFBRTlQLFFBQVFnUSxFQUFFTSxHQUFHRCxHQUFJRyxHQUFFSyxPQUFPTixLQUFLUixFQUFFYixJQUFJLGlCQUFpQixTQUFTYSxFQUFFQyxHQUFHLEdBQUlJLEdBQUVOLEVBQUU5UCxRQUFRd1EsRUFBRSxHQUFHTSx1QkFBdUIsZUFBZWQsRUFBRTVHLElBQUtnSCxHQUFFbFEsWUFBWSxtQkFBbUJrUSxFQUFFeE8sZ0JBQWdCbEUiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAyMDEzIFNmZWlyIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBDbGllbnQgSUQgb2YgdGhlIGFwcGxpY2F0aW9uIChmcm9tIHRoZSBBUElzIENvbnNvbGUpLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbi8vIEJlbG93IGlzIGZvciB0aGUgZGVwbG95ZWQgYW5kIGxvY2FsaG9zdC5cbkNMSUVOVF9JRCA9ICc5NjMwMDkwNjUwODctMmE1Y2NsNXJobTRnaGdtODhsaTIxZmtqZ3N1NWV1YTBAZGV2ZWxvcGVyLmdzZXJ2aWNlYWNjb3VudC5jb20nO1xuLyoqXG4gKiBTY29wZXMgdXNlZCBieSB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuU0NPUEVTID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvdXNlcmluZm8uZW1haWwnO1xuXG4vKipcbiAqIFJlc3BvbnNlIHR5cGUgb2YgdGhlIGF1dGggdG9rZW4uXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuUkVTUE9OU0VfVFlQRSA9ICd0b2tlbiBpZF90b2tlbic7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgdGhlIGFwcGxpY2F0aW9uLiBJdCBsb2FkcyBhc3luY2hyb25vdXNseSBhbGwgbmVlZGVkIGxpYnJhcmllc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfVxuICogICAgICAgICAgICBhcGlSb290IFJvb3Qgb2YgdGhlIEFQSSdzIHBhdGguXG4gKi9cbmluaXQgPSBmdW5jdGlvbigpIHtcblx0dmFyIGFwaXNUb0xvYWQ7XG5cdHZhciBhcGlSb290ID0gJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgJy9fYWgvYXBpJztcblx0Ly8gQ2hhbmdlIHRvIGh0dHBzIGFwcHNwb3QgZG9tYWluIGZvciBkZXBsb3ltZW50LlxuXHRpZiAod2luZG93LmxvY2F0aW9uLmhvc3QuaW5kZXhPZihcImxvY2FsaG9zdFwiKSA9PT0gLTEpIHtcblx0XHRhcGlSb290ID0gXCJodHRwczovL3Jvc2Vib3RpY3N3ZWIuYXBwc3BvdC5jb20vX2FoL2FwaVwiXG5cdH1cblx0dmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKC0tYXBpc1RvTG9hZCA9PSAwKSB7XG5cdFx0XHQvLyBib290c3RyYXAgbWFudWFsbHkgYW5ndWxhcmpzIGFmdGVyIG91ciBhcGkgYXJlIGxvYWRlZFxuXHRcdFx0YW5ndWxhci5ib290c3RyYXAoZG9jdW1lbnQsIFtcIlRlYW1BcHBcIl0pO1xuXHRcdH1cblx0fVxuXHRhcGlzVG9Mb2FkID0gMjsgLy8gbXVzdCBtYXRjaCBudW1iZXIgb2YgY2FsbHMgdG8gZ2FwaS5jbGllbnQubG9hZCgpXG5cdGdhcGkuY2xpZW50LmxvYWQoJ3RlYW1zJywgJ3YxJywgY2FsbGJhY2ssIGFwaVJvb3QpO1xuXHRnYXBpLmNsaWVudC5sb2FkKCdvYXV0aDInLCAndjInLCBjYWxsYmFjayk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnVGVhbUFwcCcsIFsnVGVhbUNvbnRyb2xsZXJzJywgJ01vZGFsQ29udHJvbGxlcnMnLCAnT3ZlcnZpZXdDb250cm9sbGVycycsICdNYW5hZ2VDb250cm9sbGVycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnVGVhbVNlcnZpY2VzJywgICdJbnZpdGVDb250cm9sbGVycycsICd1aS5ib290c3RyYXAnLCAnbmdSb3V0ZScsICdUZWFtRGlyZWN0aXZlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5ndWxhci5zbmFja2JhciddKVxuLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJyxcbiAgZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIpIHtcbiAgICAkcm91dGVQcm92aWRlclxuICAgICAgLndoZW4oJy9vdmVydmlldy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9vdmVydmlldy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ092ZXJ2aWV3Q3RybCBhcyBvdmVydmlldydcbiAgICAgIH0pXG4gICAgICAud2hlbignL3ByZXZpZXcvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvcHJldmlldy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1ByZXZpZXdDdHJsIGFzIHByZXZpZXcnXG4gICAgICB9KVxuICAgICAgLndoZW4oJy90ZWFtcy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy90ZWFtcy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1RlYW1zQ3RybCBhcyB0ZWFtcycsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICB0ZWFtczogWydhcGknLCBmdW5jdGlvbihhcGkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0VGVhbXMoKTtcbiAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLndoZW4oJy90ZWFtcy86dGVhbV9rZXkvY291cnNlcycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL3RlYW1zX2NvdXJzZS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1RlYW1zQ291cnNlQ3RybCBhcyBjb3Vyc2VzJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgIHRlYW06IFtcImFwaVwiLCBcIiRyb3V0ZVwiLCBmdW5jdGlvbihhcGksICRyb3V0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRQcm9ncmVzcygkcm91dGUuY3VycmVudC5wYXJhbXMpO1xuICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAud2hlbignL3RlYW1zLzp0ZWFtX2tleS9jb3Vyc2VzLzpjb3Vyc2VfbmFtZS90cmFja3MnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy90ZWFtc190cmFjay5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1RlYW1zVHJhY2tDdHJsIGFzIHRyYWNrcycsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICB0ZWFtOiBbXCJhcGlcIiwgXCIkcm91dGVcIiwgZnVuY3Rpb24oYXBpLCAkcm91dGUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0UHJvZ3Jlc3MoJHJvdXRlLmN1cnJlbnQucGFyYW1zKTtcbiAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLndoZW4oJy90ZWFtcy86dGVhbV9rZXkvY291cnNlcy86Y291cnNlX25hbWUvdHJhY2tzLzp0cmFja19uYW1lL3VuaXRzJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvdGVhbXNfdW5pdC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1RlYW1zVW5pdEN0cmwgYXMgdW5pdHMnLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgdGVhbTogW1wiYXBpXCIsIFwiJHJvdXRlXCIsIGZ1bmN0aW9uKGFwaSwgJHJvdXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldFByb2dyZXNzKCRyb3V0ZS5jdXJyZW50LnBhcmFtcyk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC53aGVuKCcvaW52aXRlcy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9pbnZpdGVzLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnSW52aXRlc0N0cmwgYXMgaW52aXRlcycsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICBpbnZpdGVzOiBbXCJhcGlcIiwgZnVuY3Rpb24oYXBpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldEludml0ZXMoKTtcbiAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLndoZW4oJy9tYW5hZ2UvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbWFuYWdlLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTWFuYWdlQ3RybCBhcyBtYW5hZ2UnLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgdGVhbXM6IFtcImFwaVwiLCBmdW5jdGlvbihhcGkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0TGVhZFRlYW1zKCk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC53aGVuKCcvbWFuYWdlLzp0ZWFtX2tleScsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21hbmFnZV90ZWFtLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnTWFuYWdlVGVhbUN0cmwgYXMgbWFuYWdlJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgIHRlYW1zOiBbXCJhcGlcIiwgZnVuY3Rpb24oYXBpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldExlYWRUZWFtcygpO1xuICAgICAgICAgIH1dLFxuICAgICAgICAgIHVzZXI6IFtcIm9BdXRoXCIsIGZ1bmN0aW9uKG9BdXRoKSB7XG4gICAgICAgICAgICByZXR1cm4gb0F1dGguZ2V0VXNlckluZm8oKTtcbiAgICAgICAgICB9XSxcbiAgICAgICAgICBjb3Vyc2VzOiBbXCJhcGlcIiwgZnVuY3Rpb24gKGFwaSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRDb3Vyc2VzKCk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC53aGVuKCcvbWFuYWdlLzp0ZWFtX2tleS9zd2VlcHMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tYW5hZ2Vfc3dlZXBzLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnU3dlZXBzVGVhbUN0cmwgYXMgc3dlZXBzJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgIHRlYW1zOiBbXCJhcGlcIiwgZnVuY3Rpb24oYXBpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldExlYWRUZWFtcygpO1xuICAgICAgICAgIH1dLFxuICAgICAgICAgIHN3ZWVwczogW1wiYXBpXCIsIFwiJHJvdXRlXCIsIGZ1bmN0aW9uKGFwaSwgJHJvdXRlKSB7XG4gICAgICAgIFx0ICByZXR1cm4gYXBpLmdldFN3ZWVwcygkcm91dGUuY3VycmVudC5wYXJhbXMpO1xuICAgICAgICAgIH1dLFxuICAgICAgICAgIHByb2dyZXNzOiBbXCJhcGlcIiwgXCIkcm91dGVcIiwgZnVuY3Rpb24oYXBpLCAkcm91dGUpIHtcbiAgICAgICAgXHQgIHJldHVybiBhcGkuZ2V0UHJvZ3Jlc3MoJHJvdXRlLmN1cnJlbnQucGFyYW1zKTtcbiAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLm90aGVyd2lzZSh7XG4gICAgICAgIHJlZGlyZWN0VG86ICcvb3ZlcnZpZXcvJ1xuICAgICAgfSk7XG4gIH1dKVxuICAucnVuKFtcIiRyb290U2NvcGVcIiwgXCIkbG9jYXRpb25cIiwgXCJvQXV0aFwiLCBcInNpZGViYXJcIiwgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGxvY2F0aW9uLCBvQXV0aCwgc2lkZWJhcikge1xuXHQgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhpZGRlbi5jb250YWluZXJcIikpLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuXHQgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LnNwaW5uZXJcIikpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuXHQgIG9BdXRoLmNoZWNrKCkudGhlbihudWxsLCBmdW5jdGlvbigpIHtcbiAgXHRcdCRsb2NhdGlvbi5wYXRoKCcvcHJldmlldycpO1xuICBcdFx0c2lkZWJhci5zaG93LnNldChmYWxzZSk7XG5cdCAgfSk7XG5cdH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdJbnZpdGVDb250cm9sbGVycycsIFtdKVxuLmNvbnRyb2xsZXIoJ0ludml0ZXNDdHJsJywgW1wiaW52aXRlc1wiLCBcImFwaVwiLCBcInNuYWNrYmFyXCIsIGZ1bmN0aW9uKGludml0ZXMsIGFwaSwgc25hY2tiYXIpIHtcblx0dGhpcy5wZW5kaW5nID0gW107XG5cdHRoaXMuYWNjZXB0ZWQgPSBbXTtcblx0dmFyIGFsbEludml0ZXMgPSBpbnZpdGVzW1wiaW52aXRlc1wiXTtcblx0aWYgKGFsbEludml0ZXMgPT0gdW5kZWZpbmVkKSB7XG5cdFx0YWxsSW52aXRlcyA9IFtdO1xuXHR9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYWxsSW52aXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdGlmIChhbGxJbnZpdGVzW2ldLnJlc3BvbnNlID09PSBcIk5PVF9DSE9TRU5cIikge1xuXHRcdFx0dGhpcy5wZW5kaW5nLnB1c2goYWxsSW52aXRlc1tpXSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuYWNjZXB0ZWQucHVzaChhbGxJbnZpdGVzW2ldKTtcblx0XHR9XG5cdH1cblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLmVkaXRJbnZpdGUgPSBmdW5jdGlvbihpbnZpdGUsIG5ld1Jlc3BvbnNlKSB7XG5cdFx0dmFyIHJlZnJlc2hUZWFtcyA9IGZhbHNlO1xuXHRcdGlmKGludml0ZS5yZXNwb25zZSA9PT0gXCJOT1RfQ0hPU0VOXCIgJiYgbmV3UmVzcG9uc2UgIT09IFwiTk9UX0NIT1NFTlwiKSB7XG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2VsZi5wZW5kaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChzZWxmLnBlbmRpbmdbaV0udGVhbV9rZXkgPT09IGludml0ZS50ZWFtX2tleSkge1xuXHRcdFx0XHRcdHNlbGYucGVuZGluZy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHNlbGYuYWNjZXB0ZWQucHVzaChpbnZpdGUpO1xuXHRcdFx0cmVmcmVzaFRlYW1zID0gdHJ1ZTtcblx0XHR9XG5cdFx0aWYgKG5ld1Jlc3BvbnNlID09PSBcIlJFSkVDVF9JTlZJVEVcIikge1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNlbGYuYWNjZXB0ZWQubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHNlbGYuYWNjZXB0ZWRbaV0udGVhbV9rZXkgPT09IGludml0ZS50ZWFtX2tleSkge1xuXHRcdFx0XHRcdHNlbGYuYWNjZXB0ZWQuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZWZyZXNoVGVhbXMgPSB0cnVlO1xuXHRcdH1cblx0XHRpbnZpdGUucmVzcG9uc2UgPSBuZXdSZXNwb25zZTtcblx0XHRzbmFja2Jhci5jcmVhdGUoXCJTZW5kaW5nIHJlc3BvbnNlLi4uXCIsIDQpO1xuXHRcdGFwaS5lZGl0SW52aXRlKGludml0ZSkudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdHNuYWNrYmFyLnJlbW92ZSg0KTtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+U3VjY2VzcyE8L2I+IFJlc3BvbnNlIHNhdmVkXCIpO1xuXHRcdFx0aWYgKHJlZnJlc2hUZWFtcykge1xuXHRcdFx0XHRhcGkuZ2V0VGVhbXModHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRzbmFja2Jhci5yZW1vdmUoNCk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gUmVzcG9uc2Ugbm90IHNhdmVkXCIpO1xuXHRcdH0pO1xuXHR9XG5cdHRoaXMucGVuZGluZ1Jlc3BvbnNlcyA9IFtcIk5PVF9DSE9TRU5cIiwgXCJBTExfTUVNQkVSU1wiLCBcIlRFQU1fTEVBREVSXCIsIFwiUkVKRUNUX0lOVklURVwiXTtcblx0dGhpcy5hY2NlcHRlZFJlc3BvbnNlcyA9IFtcIkFMTF9NRU1CRVJTXCIsIFwiVEVBTV9MRUFERVJcIiwgXCJSRUpFQ1RfSU5WSVRFXCJdO1xuIFx0dGhpcy5yZXNwb25zZU9wdGlvbnMgPSB7XCJOT1RfQ0hPU0VOXCIgOiBcIk5vIHJlc3BvbnNlXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiQUxMX01FTUJFUlNcIiA6IFwiQWxsIG1lbWJlcnMgY2FuIHNlZSBteSBwcm9ncmVzc1wiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIlRFQU1fTEVBREVSXCI6IFwiT25seSB0aGUgbGVhZGVyIGNhbiBzZWUgbXkgcHJvZ3Jlc3NcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCJSRUpFQ1RfSU5WSVRFXCI6IFwiUmVqZWN0IGludml0ZSBhbmQgbm8gb25lIGNhbiBzZWUgbXkgcHJvZ3Jlc3NcIn07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnTWFuYWdlQ29udHJvbGxlcnMnLCBbXSlcbi5jb250cm9sbGVyKCdNYW5hZ2VDdHJsJywgW1wiJG1vZGFsXCIsIFwidGVhbXNcIiwgXCJhcGlcIiwgXCJzbmFja2JhclwiLCBcIm9BdXRoXCIsIGZ1bmN0aW9uKCRtb2RhbCwgdGVhbXMsIGFwaSwgc25hY2tiYXIsIG9BdXRoKSB7XG5cdHRoaXMuaXRlbXMgPSB0ZWFtc1tcInRlYW1zXCJdO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHRoaXMudG9nZ2xlQ3JlYXRlVGVhbU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbW9kYWxzL2NyZWF0ZV90ZWFtX21vZGFsLmh0bWwnLFxuXHRcdCAgY29udHJvbGxlcjogJ0NyZWF0ZVRlYW1Nb2RhbEluc3RhbmNlQ3RybCcsXG5cdFx0ICBjb250cm9sbGVyQXM6ICdtb2RhbCcsXG5cdFx0XHRyZXNvbHZlOiB7XG5cdFx0XHRcdHVzZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBvQXV0aC5nZXRVc2VySW5mbygpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb3Vyc2VzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gYXBpLmdldENvdXJzZXMoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obmV3VGVhbSkge1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlKFwiQ3JlYXRpbmcgdGVhbS4uLlwiLCAxKTtcblx0XHRcdGFwaS5pbnNlcnRUZWFtKG5ld1RlYW0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cdFx0XHRcdHNuYWNrYmFyLnJlbW92ZSgxKTtcblx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5TdWNjZXNzITwvYj4gVGVhbSBjcmVhdGVkXCIpO1xuXHRcdFx0XHRpZiAodGVhbXNbXCJ0ZWFtc1wiXSA9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHR0ZWFtc1tcInRlYW1zXCJdID0gW107XG5cdFx0XHRcdFx0c2VsZi5pdGVtcyA9IHRlYW1zW1widGVhbXNcIl07XG5cdFx0XHRcdH1cblx0XHRcdFx0dGVhbXNbXCJ0ZWFtc1wiXS5wdXNoKHJlc3VsdCk7XG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHRzbmFja2Jhci5yZW1vdmUoMSk7XG5cdFx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+RXJyb3IhPC9iPiBUZWFtIG5vdCBjcmVhdGVkXCIpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdNYW5hZ2VUZWFtQ3RybCcsIFtcIiRyb3V0ZVBhcmFtc1wiLCBcIiRtb2RhbFwiLCBcInRlYW1zXCIsIFwiJHNjb3BlXCIsIFwic25hY2tiYXJcIiwgXCJhcGlcIiwgXCIkbG9jYXRpb25cIiwgXCJ1c2VyXCIsIFwiY291cnNlc1wiLCBmdW5jdGlvbigkcm91dGVQYXJhbXMsICRtb2RhbCwgdGVhbXMsICRzY29wZSwgc25hY2tiYXIsIGFwaSwgJGxvY2F0aW9uLCB1c2VyLCBjb3Vyc2VzKSB7XG5cdHZhciBpdGVtcyA9IHRlYW1zW1widGVhbXNcIl07XG5cdHZhciB0ZWFtTnVtYmVyID0gLTE7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuXHRcdGlmKGl0ZW1zW2ldLnRlYW1fa2V5ID09ICRyb3V0ZVBhcmFtcy50ZWFtX2tleSkge1xuXHRcdFx0dGhpcy50ZWFtID0gaXRlbXNbaV07XG5cdFx0XHR0ZWFtTnVtYmVyID0gaTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHR0aGlzLmdvVG9Td2VlcCA9IGZ1bmN0aW9uKCkge1xuXHRcdCRsb2NhdGlvbi5wYXRoKCRsb2NhdGlvbi5wYXRoKCkgKyBcIi9zd2VlcHNcIik7XG5cdH07XG5cdHRoaXMub2ZmZXJlZENvdXJzZXMgPSBjb3Vyc2VzO1xuXHRjb25zb2xlLmxvZyhjb3Vyc2VzKTtcblx0dGhpcy5nZXRDb3Vyc2VUaXRsZSA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNvdXJzZXMuaWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoY291cnNlcy5pZHNbaV0gPT09IHByZWZpeCkge1xuXHRcdFx0XHRyZXR1cm4gY291cnNlcy50aXRsZXNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cdHZhciB0aW1lc0NoYW5nZWQgPSAwO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHZhciBkZXJlZ2lzdGVyID0gJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gIFx0cmV0dXJuIHNlbGYudGVhbTtcblx0fSwgZnVuY3Rpb24oKXtcblx0XHR0aW1lc0NoYW5nZWQrKztcblx0XHRzZWxmLm9uSW5wdXRNYWRlRGlydHkodGltZXNDaGFuZ2VkKTtcblx0fSwgdHJ1ZSk7XG5cdHRoaXMub25JbnB1dE1hZGVEaXJ0eSA9IGZ1bmN0aW9uKHRpbWVzQ2hhbmdlZCkgIHtcblx0XHRpZih0aW1lc0NoYW5nZWQgPiAxKSB7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPldhcm5pbmchPC9iPiBZb3UgbXVzdCBwcmVzcyBzdWJtaXQgdG8gc2F2ZSB5b3VyIGNoYW5nZXNcIik7XG5cdFx0XHRkZXJlZ2lzdGVyKCk7XG5cdFx0fVxuXHR9O1xuXHR0aGlzLmRlbGV0ZU1lbWJlciA9IGZ1bmN0aW9uKG1lbWJlcikge1xuXHRcdHZhciBtZW1iZXJzID0gc2VsZi50ZWFtLm1lbWJlcnM7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1lbWJlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmKG1lbWJlcnNbaV0uZW1haWwgPT0gbWVtYmVyLmVtYWlsKSB7XG5cdFx0XHRcdG1lbWJlcnMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHRoaXMuc2F2ZVRlYW0gPSBmdW5jdGlvbigpIHtcblx0XHRzbmFja2Jhci5jcmVhdGUoXCJTYXZpbmcgdGVhbS4uLlwiLCAzKTtcblx0XHRhcGkuaW5zZXJ0VGVhbShzZWxmLnRlYW0pLnRoZW4oZnVuY3Rpb24obmV3VGVhbSkge1xuXHRcdFx0c25hY2tiYXIucmVtb3ZlKDMpO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5TdWNjZXNzITwvYj4gVGVhbSBzYXZlZFwiKTtcblx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdHNuYWNrYmFyLnJlbW92ZSgzKTtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+RXJyb3IhPC9iPiBUZWFtIG5vdCBzYXZlZFwiKTtcblx0XHR9KTtcblx0fVxuXHR0aGlzLnRvZ2dsZURlbGV0ZVRlYW1Nb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21vZGFscy9kZWxldGVfdGVhbV9tb2RhbC5odG1sJyxcblx0XHQgIGNvbnRyb2xsZXI6ICdEZWxldGVUZWFtTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnXG5cdFx0fSk7XG5cdFx0bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdGl0ZW1zLnNwbGljZShpLCAxKTtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZShcIkRlbGV0aW5nIHRlYW0uLi5cIiwgMik7XG5cdFx0XHRhcGkuZGVsZXRlVGVhbShzZWxmLnRlYW0pLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNuYWNrYmFyLnJlbW92ZSgyKTtcblx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5TdWNjZXNzITwvYj4gVGVhbSBkZWxldGVkXCIpO1xuXHRcdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNuYWNrYmFyLnJlbW92ZSgyKTtcblx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFRlYW0gbm90IGRlbGV0ZWRcIik7XG5cdFx0XHR9KTtcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvbWFuYWdlJyk7XG5cdFx0fSk7XG5cdH07XG5cdHRoaXMudG9nZ2xlQ3JlYXRlTWVtYmVyTW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tb2RhbHMvY3JlYXRlX21lbWJlcl9tb2RhbC5odG1sJyxcblx0XHQgIGNvbnRyb2xsZXI6ICdOZXdNZW1iZXJNb2RhbEluc3RhbmNlQ3RybCcsXG5cdFx0ICBjb250cm9sbGVyQXM6ICdtb2RhbCdcblx0XHR9KTtcblx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKG5ld0VtYWlsKSB7XG5cdFx0XHR2YXIgbmV3TWVtYmVyID0ge2VtYWlsOiBuZXdFbWFpbCwgdmlzaWJpbGl0eTogXCJOT1RfQ0hPU0VOXCJ9O1xuXHRcdFx0aWYgKHNlbGYudGVhbS5tZW1iZXJzID09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRzZWxmLnRlYW0ubWVtYmVycyA9IFtdO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG5ld0VtYWlsID09IHVzZXIuZW1haWwpIHtcblx0XHRcdFx0bmV3TWVtYmVyLnZpc2liaWxpdHkgPSBcIkFMTF9NRU1CRVJTXCI7XG5cdFx0XHR9XG5cdFx0XHRzZWxmLnRlYW0ubWVtYmVycy5wdXNoKG5ld01lbWJlcik7XG5cdFx0XHRzZWxmLnRlYW0ubmV3TWVtYmVycyA9IHRydWU7XG5cdFx0fSk7XG5cdH07XG5cdHRoaXMudmlzaWJpbGl0eU9wdGlvbnMgPSB7XCJOT1RfQ0hPU0VOXCIgOiBcIk5vIFJlc3BvbnNlXCIsXG5cdFx0XHRcdFx0XHRcdCAgXCJBTExfTUVNQkVSU1wiIDogXCJQcm9ncmVzcyB2aXNpYmxlIGJ5IGV2ZXJ5b25lXCIsXG5cdFx0XHRcdFx0XHRcdCAgXCJURUFNX0xFQURFUlwiOiBcIlByb2dyZXNzIHZpc2libGUgYnkgbGVhZGVyIG9ubHlcIn07XG59XSlcbi5jb250cm9sbGVyKCdTd2VlcHNUZWFtQ3RybCcsIFtcIiRyb3V0ZVBhcmFtc1wiLCBcIiRtb2RhbFwiLCBcInRlYW1zXCIsIFwic3dlZXBzXCIsIFwiJGxvY2F0aW9uXCIsIFwicHJvZ3Jlc3NcIiwgXCJzbmFja2JhclwiLCBcImFwaVwiLCBcIiRzY29wZVwiLCBmdW5jdGlvbigkcm91dGVQYXJhbXMsICRtb2RhbCwgdGVhbXMsIHN3ZWVwcywgJGxvY2F0aW9uLCBwcm9ncmVzcywgc25hY2tiYXIsIGFwaSwgJHNjb3BlKSB7XG5cdHZhciBpdGVtcyA9IHRlYW1zW1widGVhbXNcIl07XG5cdHRoaXMuc3dlZXBzID0gc3dlZXBzW1wic3dlZXBzXCJdIHx8IFtdO1xuXHR2YXIgdGVhbU51bWJlciA9IC0xO1xuXHR0aGlzLnRvZGF5ID0gbmV3IERhdGUoKTtcblx0dGhpcy50aW1lem9uZXMgPSBbJ1VUQycsICdFYXN0ZXJuJywgJ0NlbnRyYWwnLCAnTW91bnRhaW4nLCAnUGFjaWZpYyddO1xuXHR0aGlzLmRvbmUgPSBmdW5jdGlvbigpIHtcblx0XHQkbG9jYXRpb24ucGF0aChcIi9tYW5hZ2UvXCIgKyAkcm91dGVQYXJhbXMudGVhbV9rZXkpO1xuXHR9O1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcblx0XHRpZihpdGVtc1tpXS50ZWFtX2tleSA9PSAkcm91dGVQYXJhbXMudGVhbV9rZXkpIHtcblx0XHRcdHRoaXMudGVhbSA9IGl0ZW1zW2ldO1xuXHRcdFx0dGVhbU51bWJlciA9IGk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zd2VlcHMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgc3dlZXAgPSB0aGlzLnN3ZWVwc1tpXTtcblx0XHRzd2VlcC5ob3VyTnVtID0gcGFyc2VJbnQoc3dlZXAuaG91cik7XG5cdFx0dmFyIGR0ID0gbmV3IERhdGUoMCk7XG5cdFx0ZHQuc2V0RnVsbFllYXIoc3dlZXAueWVhcik7XG5cdFx0ZHQuc2V0TW9udGgocGFyc2VJbnQoc3dlZXAubW9udGgpIC0gMSwgcGFyc2VJbnQoc3dlZXAuZGF5KSk7XG5cdFx0c3dlZXAuZHQgPSBkdDtcblx0fVxuXHR0aGlzLnNhdmVTd2VlcCA9IGZ1bmN0aW9uKHN3ZWVwKSB7XG5cdFx0c25hY2tiYXIuY3JlYXRlKFwiU2F2aW5nIFN3ZWVwLi4uXCIsIDYpO1xuXHRcdHN3ZWVwLmhvdXIgPSBzd2VlcC5ob3VyTnVtLnRvU3RyaW5nKCk7XG5cdFx0c3dlZXAueWVhciA9IHN3ZWVwLmR0LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKTtcblx0XHRzd2VlcC5tb250aCA9IChzd2VlcC5kdC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKTtcblx0XHRzd2VlcC5kYXkgPSBzd2VlcC5kdC5nZXREYXRlKCkudG9TdHJpbmcoKTtcblx0XHRhcGkuaW5zZXJ0U3dlZXAoc3dlZXApLnRoZW4oZnVuY3Rpb24obmV3U3dlZXApIHtcblx0XHRcdHNuYWNrYmFyLnJlbW92ZSg2KTtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+U3VjY2VzcyE8L2I+IFN3ZWVwIHNhdmVkXCIpO1xuXHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0c25hY2tiYXIucmVtb3ZlKDYpO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFN3ZWVwIG5vdCBzYXZlZFwiKTtcblx0XHR9KTtcblx0fTtcblx0dGhpcy5kZWxldGVTd2VlcCA9IGZ1bmN0aW9uKHN3ZWVwKSB7XG5cdFx0c25hY2tiYXIuY3JlYXRlKFwiUmVtb3ZpbmcgU3dlZXAuLi5cIiwgNyk7XG5cdFx0YXBpLmRlbGV0ZVN3ZWVwKHN3ZWVwKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNlbGYuc3dlZXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmKHN3ZWVwLnN3ZWVwX2tleSA9PT0gc2VsZi5zd2VlcHNbaV0uc3dlZXBfa2V5KSB7XG5cdFx0XHRcdFx0c2VsZi5zd2VlcHMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRzbmFja2Jhci5yZW1vdmUoNyk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBTd2VlcCByZW1vdmVkXCIpO1xuXG5cdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRzbmFja2Jhci5yZW1vdmUoNyk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gU3dlZXAgbm90IHJlbW92ZWRcIik7XG5cdFx0fSk7XG5cdH07XG5cdHRoaXMuc3RvcEV2ZW50ID0gZnVuY3Rpb24oJGV2ZW50KSB7XG5cdFx0JGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9O1xuXHR0aGlzLnRvZ2dsZUltcG9ydFN3ZWVwc0RpYWxvZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdFx0ICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbW9kYWxzL2ltcG9ydF9zd2VlcHNfbW9kYWwuaHRtbCcsXG5cdFx0XHQgIGNvbnRyb2xsZXI6ICdJbXBvcnRTd2VlcHNNb2RhbEluc3RhbmNlQ3RybCcsXG5cdFx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJyxcblx0XHRcdCAgcmVzb2x2ZToge1xuXHRcdFx0XHQgIHRlYW1zOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQgIHJldHVybiBpdGVtcztcblx0XHRcdFx0ICB9XG5cdFx0XHQgIH1cblx0XHR9KTtcblx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHRlYW1Ub0ltcG9ydEZyb20pIHtcblx0XHRcdGNvbnNvbGUubG9nKHRlYW1Ub0ltcG9ydEZyb20pO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlKFwiSW1wb3J0aW5nIGZyb20gXCIgKyB0ZWFtVG9JbXBvcnRGcm9tLm5hbWUgKyBcIi4uLlwiLCAxMCk7XG5cdFx0XHRhcGkuZ2V0U3dlZXBzKHRlYW1Ub0ltcG9ydEZyb20pLnRoZW4oZnVuY3Rpb24oaW1wb3J0ZWRTd2VlcHMpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coaW1wb3J0ZWRTd2VlcHMpO1xuXHRcdFx0XHRpZiAoIWltcG9ydGVkU3dlZXBzLnN3ZWVwcyB8fCAhaW1wb3J0ZWRTd2VlcHMuc3dlZXBzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHNuYWNrYmFyLnJlbW92ZSgxMCk7XG5cdFx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFRoZXJlIHdlcmUgbm8gc3dlZXBzIHRvIGltcG9ydFwiKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGltcG9ydGVkU3dlZXBzLnN3ZWVwcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHZhciBzd2VlcCA9IGltcG9ydGVkU3dlZXBzLnN3ZWVwc1tpXTtcblx0XHRcdFx0XHRkZWxldGUgc3dlZXAuc3dlZXBfa2V5O1xuXHRcdFx0XHRcdHN3ZWVwLnRlYW1fa2V5ID0gc2VsZi50ZWFtLnRlYW1fa2V5O1xuXHRcdFx0XHRcdGFwaS5pbnNlcnRTd2VlcChzd2VlcCkudGhlbihmdW5jdGlvbihuZXdTd2VlcCkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cobmV3U3dlZXApO1xuXHRcdFx0XHRcdFx0bmV3U3dlZXAuaG91ck51bSA9IHBhcnNlSW50KG5ld1N3ZWVwLmhvdXIpO1xuXHRcdFx0XHRcdFx0dmFyIGR0ID0gbmV3IERhdGUoMCk7XG5cdFx0XHRcdFx0XHRkdC5zZXRGdWxsWWVhcihuZXdTd2VlcC55ZWFyKTtcblx0XHRcdFx0XHRcdGR0LnNldE1vbnRoKHBhcnNlSW50KG5ld1N3ZWVwLm1vbnRoKSAtIDEsIHBhcnNlSW50KG5ld1N3ZWVwLmRheSkpO1xuXHRcdFx0XHRcdFx0bmV3U3dlZXAuZHQgPSBkdDtcblx0XHRcdFx0XHRcdGlmIChzd2VlcHNbXCJzd2VlcHNcIl0gPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdHN3ZWVwc1tcInN3ZWVwc1wiXSA9IFtdO1xuXHRcdFx0XHRcdFx0XHRzZWxmLnN3ZWVwcyA9IHN3ZWVwc1tcInN3ZWVwc1wiXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBpbnNlcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNlbGYuc3dlZXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdGlmKHNlbGYuc3dlZXBzW2ldLmR0LmdldFRpbWUoKSA8IG5ld1N3ZWVwLmR0LmdldFRpbWUoKSB8fCAoc2VsZi5zd2VlcHNbaV0uZHQuZ2V0VGltZSgpID09PSBuZXdTd2VlcC5kdC5nZXRUaW1lKCkgJiYgc2VsZi5zd2VlcHNbaV0uaG91ck51bSA8IG5ld1N3ZWVwLmhvdXJOdW0pKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5zd2VlcHMuc3BsaWNlKGksIDAsIG5ld1N3ZWVwKTtcblx0XHRcdFx0XHRcdFx0XHRpbnNlcnRlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKCFpbnNlcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLnN3ZWVwcy5wdXNoKG5ld1N3ZWVwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzbmFja2Jhci5yZW1vdmUoMTApO1xuXHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBTd2VlcHMgSW1wb3J0ZWRcIik7XG5cdFx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c25hY2tiYXIucmVtb3ZlKDEwKTtcblx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IEltcG9ydCBmYWlsZWRcIik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXHR0aGlzLnRvZ2dsZVN3ZWVwT3B0aW9uc01vZGFsID0gZnVuY3Rpb24oc3dlZXApIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21vZGFscy9leHBvcnRfcHJvZ3Jlc3NfbW9kYWwuaHRtbCcsXG5cdFx0XHQgIGNvbnRyb2xsZXI6ICdTd2VlcE9wdGlvbnNNb2RhbEluc3RhbmNlQ3RybCcsXG5cdFx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJyxcblx0XHRcdCAgcmVzb2x2ZToge1xuXHRcdFx0XHQgIHRlYW06IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCAgcmV0dXJuIHByb2dyZXNzO1xuXHRcdFx0XHQgIH0sXG5cdFx0XHRcdCAgb3B0aW9uU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQgIHJldHVybiBzd2VlcC5vcHRpb25zO1xuXHRcdFx0XHQgIH1cblx0XHRcdCAgfVxuXHRcdH0pO1xuXHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obmV3T3B0aW9ucykge1xuXHRcdFx0c3dlZXAub3B0aW9ucyA9IG5ld09wdGlvbnM7XG5cdFx0fSk7XG5cdH07XG5cdHRoaXMudG9nZ2xlQ3JlYXRlU3dlZXBEaWFsb2cgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21vZGFscy9jcmVhdGVfc3dlZXBfbW9kYWwuaHRtbCcsXG5cdFx0XHQgIGNvbnRyb2xsZXI6ICdOZXdTd2VlcE1vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnLFxuXHRcdFx0ICByZXNvbHZlOiB7XG5cdFx0XHRcdCAgdGVhbV9rZXk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCAgcmV0dXJuICRyb3V0ZVBhcmFtcy50ZWFtX2tleTtcblx0XHRcdFx0ICB9LFxuXHRcdFx0XHQgIHByb2dyZXNzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQgIHJldHVybiBwcm9ncmVzcztcblx0XHRcdFx0ICB9XG5cdFx0XHQgIH1cblx0XHR9KTtcblx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHN3ZWVwKSB7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGUoXCJDcmVhdGluZyBTd2VlcC4uLlwiLCA4KTtcblx0XHRcdHN3ZWVwLmhvdXIgPSBzd2VlcC5ob3VyTnVtLnRvU3RyaW5nKCk7XG5cdFx0XHRzd2VlcC55ZWFyID0gc3dlZXAuZHQuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuXHRcdFx0c3dlZXAubW9udGggPSAoc3dlZXAuZHQuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCk7XG5cdFx0XHRzd2VlcC5kYXkgPSBzd2VlcC5kdC5nZXREYXRlKCkudG9TdHJpbmcoKTtcblx0XHRcdGFwaS5pbnNlcnRTd2VlcChzd2VlcCkudGhlbihmdW5jdGlvbihuZXdTd2VlcCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhuZXdTd2VlcCk7XG5cdFx0XHRcdG5ld1N3ZWVwLmhvdXJOdW0gPSBwYXJzZUludChuZXdTd2VlcC5ob3VyKTtcblx0XHRcdFx0dmFyIGR0ID0gbmV3IERhdGUoMCk7XG5cdFx0XHRcdGR0LnNldEZ1bGxZZWFyKG5ld1N3ZWVwLnllYXIpO1xuXHRcdFx0XHRkdC5zZXRNb250aChwYXJzZUludChuZXdTd2VlcC5tb250aCkgLSAxLCBwYXJzZUludChuZXdTd2VlcC5kYXkpKTtcblx0XHRcdFx0bmV3U3dlZXAuZHQgPSBkdDtcblx0XHRcdFx0aWYgKHN3ZWVwc1tcInN3ZWVwc1wiXSA9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRzd2VlcHNbXCJzd2VlcHNcIl0gPSBbXTtcblx0XHRcdFx0XHRzZWxmLnN3ZWVwcyA9IHN3ZWVwc1tcInN3ZWVwc1wiXTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgaW5zZXJ0ZWQgPSBmYWxzZTtcblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNlbGYuc3dlZXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYoc2VsZi5zd2VlcHNbaV0uZHQuZ2V0VGltZSgpIDwgbmV3U3dlZXAuZHQuZ2V0VGltZSgpIHx8IChzZWxmLnN3ZWVwc1tpXS5kdC5nZXRUaW1lKCkgPT09IG5ld1N3ZWVwLmR0LmdldFRpbWUoKSAmJiBzZWxmLnN3ZWVwc1tpXS5ob3VyTnVtIDwgbmV3U3dlZXAuaG91ck51bSkpIHtcblx0XHRcdFx0XHRcdHNlbGYuc3dlZXBzLnNwbGljZShpLCAwLCBuZXdTd2VlcCk7XG5cdFx0XHRcdFx0XHRpbnNlcnRlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoIWluc2VydGVkKSB7XG5cdFx0XHRcdFx0c2VsZi5zd2VlcHMucHVzaChuZXdTd2VlcCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c25hY2tiYXIucmVtb3ZlKDgpO1xuXHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBTd2VlcCBjcmVhdGVkXCIpO1xuXHRcdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNuYWNrYmFyLnJlbW92ZSg4KTtcblx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFN3ZWVwIG5vdCBjcmVhdGVkXCIpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycsIFtdKVxuLmNvbnRyb2xsZXIoJ01vZGFsVG9nZ2xlQ3RybCcsIFtcIiRtb2RhbFwiLCBmdW5jdGlvbigkbW9kYWwpIHtcblx0dGhpcy50b2dnbGVTaWduT3V0TW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgIHRlbXBsYXRlVXJsOiAnbG9nb3V0X21vZGFsLmh0bWwnLFxuXHRcdCAgY29udHJvbGxlcjogJ1NpbXBsZU1vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJ1xuXHRcdH0pO1xuXHR9O1xuXHR0aGlzLnRvZ2dsZUVkaXRQcm9maWxlTW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgIHRlbXBsYXRlVXJsOiAnZWRpdF9wcm9maWxlX21vZGFsLmh0bWwnLFxuXHRcdCAgY29udHJvbGxlcjogJ1NpbXBsZU1vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJ1xuXHRcdH0pO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLCBbXCIkbW9kYWxJbnN0YW5jZVwiLCBmdW5jdGlvbiAoJG1vZGFsSW5zdGFuY2UpIHtcbiAgdGhpcy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgfTtcbn1dKVxuLmNvbnRyb2xsZXIoJ05ld01lbWJlck1vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBmdW5jdGlvbiAoJG1vZGFsSW5zdGFuY2UsICRjb250cm9sbGVyKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdTaW1wbGVNb2RhbEluc3RhbmNlQ3RybCcsIHskbW9kYWxJbnN0YW5jZTogJG1vZGFsSW5zdGFuY2V9KSk7XG5cdHRoaXMuZW1haWwgPSBcIlwiO1xuXHR0aGlzLmFkZE1lbWJlciA9IGZ1bmN0aW9uKGVtYWlsKSB7XG5cdFx0ZW1haWwgPSBlbWFpbC50cmltKCk7XG5cdFx0aWYgKGVtYWlsLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0JG1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChlbWFpbC5pbmRleE9mKCdAJykgPCAwKSB7XG5cdFx0XHRlbWFpbCArPSAnQGdtYWlsLmNvbSc7XG5cdFx0fVxuXHQgICRtb2RhbEluc3RhbmNlLmNsb3NlKGVtYWlsKTtcblx0fTtcbn1dKVxuLmNvbnRyb2xsZXIoJ0RlbGV0ZVRlYW1Nb2RhbEluc3RhbmNlQ3RybCcsIFtcIiRtb2RhbEluc3RhbmNlXCIsIFwiJGNvbnRyb2xsZXJcIiwgZnVuY3Rpb24gKCRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlcikge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6ICRtb2RhbEluc3RhbmNlfSkpO1xuXHR0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuXHQgICRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdJbXBvcnRTd2VlcHNNb2RhbEluc3RhbmNlQ3RybCcsIFtcIiRtb2RhbEluc3RhbmNlXCIsIFwiJGNvbnRyb2xsZXJcIiwgXCJ0ZWFtc1wiLCBmdW5jdGlvbiAoJG1vZGFsSW5zdGFuY2UsICRjb250cm9sbGVyLCB0ZWFtcykge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6ICRtb2RhbEluc3RhbmNlfSkpO1xuXHR0aGlzLnRlYW1zID0gdGVhbXM7XG5cdHRoaXMuc2VsZWN0ZWRUZWFtID0gdGVhbXNbMF07XG5cdHRoaXMuaW1wb3J0ID0gZnVuY3Rpb24oKSB7XG5cdCAgJG1vZGFsSW5zdGFuY2UuY2xvc2UodGhpcy5zZWxlY3RlZFRlYW0pO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignQ3JlYXRlVGVhbU1vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBcInVzZXJcIiwgXCJjb3Vyc2VzXCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXIsIHVzZXIsIGNvdXJzZXMpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1NpbXBsZU1vZGFsSW5zdGFuY2VDdHJsJywgeyRtb2RhbEluc3RhbmNlOiAkbW9kYWxJbnN0YW5jZX0pKTtcblx0dGhpcy50ZWFtTmFtZSA9IFwiXCI7XG5cdHRoaXMudGVhbU1lbWJlcnMgPSBcIlwiO1xuXHR0aGlzLmluY2x1ZGVMZWFkZXIgPSBmYWxzZTtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLmNvdXJzZXMgPSBhbmd1bGFyLmNvcHkoY291cnNlcy5pZHMpO1xuXHR0aGlzLm9mZmVyZWRDb3Vyc2VzID0gY291cnNlcztcblx0dGhpcy5nZXRDb3Vyc2VUaXRsZSA9IGZ1bmN0aW9uKHByZWZpeCkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY291cnNlcy5pZHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChjb3Vyc2VzLmlkc1tpXSA9PT0gcHJlZml4KSB7XG5cdFx0XHRcdHJldHVybiBjb3Vyc2VzLnRpdGxlc1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH07XG5cdHRoaXMuYWRkID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld1RlYW0gPSB7bmFtZTogc2VsZi50ZWFtTmFtZSwgbGVhZGVyOiB1c2VyLmVtYWlsLCBtZW1iZXJzOltdLCBjb3Vyc2VzOnNlbGYuY291cnNlc307XG5cdFx0dmFyIG1lbWJlcnMgPSBzZWxmLnRlYW1NZW1iZXJzLnNwbGl0KCcsJyk7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZW1haWwgPSBtZW1iZXJzW2ldLnRyaW0oKTtcblx0XHRcdGlmIChlbWFpbC5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZW1haWwuaW5kZXhPZignQCcpIDwgMCkge1xuXHRcdFx0XHRlbWFpbCArPSAnQGdtYWlsLmNvbSc7XG5cdFx0XHR9XG5cdFx0XHRuZXdUZWFtLm1lbWJlcnMucHVzaCh7ZW1haWw6ZW1haWwsIHZpc2liaWxpdHk6XCJOT1RfQ0hPU0VOXCJ9KTtcblx0XHR9XG5cdFx0aWYgKHNlbGYuaW5jbHVkZUxlYWRlcikge1xuXHRcdFx0bmV3VGVhbS5tZW1iZXJzLnB1c2goe2VtYWlsOnVzZXIuZW1haWwsIHZpc2liaWxpdHk6XCJBTExfTUVNQkVSU1wifSk7XG5cdFx0fVxuXHQgICRtb2RhbEluc3RhbmNlLmNsb3NlKG5ld1RlYW0pO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignRXhwb3J0TW9kYWxQYXJlbnRDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBcInRlYW1cIiwgXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXIsIHRlYW0pIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1NpbXBsZU1vZGFsSW5zdGFuY2VDdHJsJywgeyRtb2RhbEluc3RhbmNlOiAkbW9kYWxJbnN0YW5jZX0pKTtcblx0dGhpcy50ZWFtID0gdGVhbTtcblx0dGhpcy5mdWxsbmFtZSA9IHRydWU7XG5cdHRoaXMudXNlcm5hbWUgPSB0cnVlO1xuXHR0aGlzLmhhc1RpbWVzdGFtcCA9IHRydWU7XG5cdHRoaXMucG9pbnRWYWx1ZSA9IFwicG9pbnRzXCI7XG5cdHRoaXMucG9pbnRzUGVyVW5pdCA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHB1XCIpKSB8fCAxO1xuXHR0aGlzLnBvaW50c1BlclRhc2sgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInBwdFwiKSkgfHwgMTtcblx0dGhpcy5pbmNsdWRlQ291cnNlUHJvZ3Jlc3MgPSBmYWxzZTtcblx0dGhpcy5pbmNsdWRlVHJhY2tQcm9ncmVzcyA9IGZhbHNlO1xuXHR0aGlzLnRpbWV6b25lID0gJ0Vhc3Rlcm4nO1xuXHR0aGlzLnRpbWV6b25lcyA9IFsnVVRDJywgJ0Vhc3Rlcm4nLCAnQ2VudHJhbCcsICdNb3VudGFpbicsICdQYWNpZmljJ107XG5cdHRoaXMuZGF0YSA9IFtdO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdGlmICh0ZWFtLm1lbWJlcnNfcHJvZ3Jlc3MubGVuZ3RoID4gMCkge1xuXHQgIHZhciBjb3Vyc2VzID0gdGVhbS5tZW1iZXJzX3Byb2dyZXNzWzBdLmNvdXJzZV9wcm9ncmVzcztcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdXJzZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBjb3Vyc2UgPSB7bmFtZTogY291cnNlc1tpXS5uYW1lLCB0cmFja3M6W10sIHRvZ2dsZWQ6ZmFsc2UsIGlkOmNvdXJzZXNbaV0uaWR9O1xuXHRcdFx0dmFyIHRyYWNrcyA9IGNvdXJzZXNbaV0udHJhY2tfcHJvZ3Jlc3M7XG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRyYWNrcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHR2YXIgdHJhY2sgPSB7bmFtZTp0cmFja3Nbal0ubmFtZSwgdW5pdHM6W10sIHRvZ2dsZWQ6ZmFsc2V9O1xuXHRcdFx0XHR2YXIgdW5pdHMgPSB0cmFja3Nbal0udW5pdF9wcm9ncmVzcztcblx0XHRcdFx0Zm9yKHZhciBrID0gMDsgayA8IHVuaXRzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0dmFyIHVuaXQgPSB7bmFtZTp1bml0c1trXS5uYW1lLCB0b2dnbGVkOmZhbHNlfTtcblx0XHRcdFx0XHR0cmFja1tcInVuaXRzXCJdLnB1c2godW5pdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y291cnNlW1widHJhY2tzXCJdLnB1c2godHJhY2spO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5kYXRhLnB1c2goY291cnNlKTtcblx0ICB9XG5cdH0gZWxzZSB7XG5cdFx0YWxlcnQoXCJZb3UgbmVlZCBhdCBsZWFzdCBvbmUgbWVtYmVyIHRvIGRvIHRoaXMhXCIpO1xuXHR9XG5cdHZhciBjaGVja1RyYWNrVG9nZ2xlID0gZnVuY3Rpb24odHJhY2spIHtcblx0XHR0cmFjay50b2dnbGVkID0gdHJ1ZTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdHJhY2sudW5pdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmKCF0cmFjay51bml0c1tpXS50b2dnbGVkKSB7XG5cdFx0XHRcdHRyYWNrLnRvZ2dsZWQgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHR2YXIgY2hlY2tDb3Vyc2VUb2dnbGUgPSBmdW5jdGlvbihjb3Vyc2UpIHtcblx0XHRjb3Vyc2UudG9nZ2xlZCA9IHRydWU7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGNvdXJzZS50cmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmKCFjb3Vyc2UudHJhY2tzW2ldLnRvZ2dsZWQpIHtcblx0XHRcdFx0Y291cnNlLnRvZ2dsZWQgPSBmYWxzZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHR0aGlzLnRvZ2dsZUNvdXJzZSA9IGZ1bmN0aW9uKGNvdXJzZSkge1xuXHRcdHZhciB0cmFja3MgPSBjb3Vyc2UudHJhY2tzO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgdHJhY2tzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHR2YXIgdW5pdHMgPSB0cmFja3Nbal0udW5pdHM7XG5cdFx0XHRmb3IodmFyIGsgPSAwOyBrIDwgdW5pdHMubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0dW5pdHNba10udG9nZ2xlZCA9ICFjb3Vyc2UudG9nZ2xlZDtcblx0XHRcdH1cblx0XHRcdHRyYWNrc1tqXS50b2dnbGVkID0gIWNvdXJzZS50b2dnbGVkO1xuXHRcdH1cblx0XHRjb3Vyc2UudG9nZ2xlZCA9ICFjb3Vyc2UudG9nZ2xlZDtcblx0fVxuXHR0aGlzLnRvZ2dsZVRyYWNrID0gZnVuY3Rpb24oY291cnNlLCB0cmFjaykge1xuXHRcdHZhciB1bml0cyA9IHRyYWNrLnVuaXRzO1xuXHRcdGZvcih2YXIgayA9IDA7IGsgPCB1bml0cy5sZW5ndGg7IGsrKykge1xuXHRcdFx0dW5pdHNba10udG9nZ2xlZCA9ICF0cmFjay50b2dnbGVkO1xuXHRcdH1cblx0XHR0cmFjay50b2dnbGVkID0gIXRyYWNrLnRvZ2dsZWQ7XG5cdFx0Y2hlY2tDb3Vyc2VUb2dnbGUoY291cnNlKTtcblx0fVxuXHR0aGlzLnVuaXRUb2dnbGVkID0gZnVuY3Rpb24oY291cnNlLCB0cmFjaykge1xuXHRcdGNoZWNrVHJhY2tUb2dnbGUodHJhY2spO1xuXHRcdGNoZWNrQ291cnNlVG9nZ2xlKGNvdXJzZSk7XG5cdH07XG5cdHRoaXMuZ2VuZXJhdGUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbGFuZGluZ1FzID0gXCJ0ZWFtX3VybHNhZmU9XCIgKyB0ZWFtLnRlYW1fa2V5O1xuXHRcdGlmKHRoaXMuZnVsbG5hbWUpIHtcblx0XHRcdGxhbmRpbmdRcyArPSBcIiZzdHVkZW50X25hbWU9dHJ1ZVwiO1xuXHRcdH1cblx0XHRpZih0aGlzLnVzZXJuYW1lKSB7XG5cdFx0XHRsYW5kaW5nUXMgKz0gXCImcm9zZV91c2VybmFtZT10cnVlXCI7XG5cdFx0fVxuXHRcdGlmKHRoaXMuaGFzVGltZXN0YW1wKSB7XG5cdFx0XHRsYW5kaW5nUXMgKz0gXCImdGltZXpvbmU9XCIgKyB0aGlzLnRpbWV6b25lO1xuXHRcdH1cblx0XHRpZih0aGlzLmluY2x1ZGVDb3Vyc2VQcm9ncmVzcykge1xuXHRcdFx0bGFuZGluZ1FzICs9IFwiJmNvdXJzZV9wcm9ncmVzcz10cnVlXCI7XG5cdFx0fVxuXHRcdGlmKHRoaXMuaW5jbHVkZVRyYWNrUHJvZ3Jlc3MpIHtcblx0XHRcdGxhbmRpbmdRcyArPSBcIiZ0cmFja19wcm9ncmVzcz10cnVlXCI7XG5cdFx0fVxuXHRcdGlmKHRoaXMucG9pbnRWYWx1ZSA9PT0gXCJwb2ludHNcIikge1xuXHRcdFx0bGFuZGluZ1FzICs9IFwiJnBwdT1cIiArIHRoaXMucG9pbnRzUGVyVW5pdDtcblx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicHB1XCIsIHRoaXMucG9pbnRzUGVyVW5pdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxhbmRpbmdRcyArPSBcIiZwcHQ9XCIgKyB0aGlzLnBvaW50c1BlclRhc2s7XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBwdFwiLCB0aGlzLnBvaW50c1BlclRhc2spO1xuXHRcdH1cblx0XHR2YXIgcHJvZ3Jlc3NfZGF0YSA9IGFuZ3VsYXIuY29weSh0aGlzLmRhdGEpO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcHJvZ3Jlc3NfZGF0YS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGNvdXJzZSA9IHByb2dyZXNzX2RhdGFbaV07XG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNvdXJzZS50cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0dmFyIHRyYWNrID0gY291cnNlLnRyYWNrc1tqXTtcblx0XHRcdFx0dmFyIHVuaXRMaXN0ID0gW107XG5cdFx0XHRcdGZvcih2YXIgayA9IDA7IGsgPCB0cmFjay51bml0cy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdHZhciB1bml0ID0gdHJhY2sudW5pdHNba107XG5cdFx0XHRcdFx0aWYodW5pdC50b2dnbGVkKSB7XG5cdFx0XHRcdFx0XHR1bml0TGlzdC5wdXNoKHVuaXQubmFtZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRyYWNrLnVuaXRzID0gdW5pdExpc3Q7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHZhciBqc29uU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocHJvZ3Jlc3NfZGF0YSk7XG5cdFx0bGFuZGluZ1FzICs9IFwiJnByb2dyZXNzX2RhdGE9XCIgKyBqc29uU3RyaW5nO1xuXHRcdHRoaXMub25Qb3N0R2VuZXJhdGUobGFuZGluZ1FzKTtcblx0fTtcbn1dKVxuLmNvbnRyb2xsZXIoJ0V4cG9ydE1vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBcInRlYW1cIiwgXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXIsIHRlYW0sICR3aW5kb3cpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ0V4cG9ydE1vZGFsUGFyZW50Q3RybCcsIHskbW9kYWxJbnN0YW5jZTokbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXI6JGNvbnRyb2xsZXIsIHRlYW06dGVhbX0pKTtcblx0dGhpcy5vblBvc3RHZW5lcmF0ZSA9IGZ1bmN0aW9uKHFzKSB7XG5cdFx0dmFyIGxhbmRpbmdVcmwgPSBcImh0dHA6Ly9cIiArICR3aW5kb3cubG9jYXRpb24uaG9zdCArIFwiL3RlYW1zL2V4cG9ydC5jc3Y/XCI7XG5cdFx0JHdpbmRvdy5vcGVuKGxhbmRpbmdVcmwgKyBlbmNvZGVVUkkocXMpLCBcIl9ibGFua1wiKTtcblx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuXHR9XG5cdHRoaXMuZG9uZUJ1dHRvblRleHQgPSAnR2VuZXJhdGUnO1xufV0pXG4uY29udHJvbGxlcignTmV3U3dlZXBNb2RhbEluc3RhbmNlQ3RybCcsIFtcIiRtb2RhbEluc3RhbmNlXCIsIFwiJGNvbnRyb2xsZXJcIiwgXCJ0ZWFtX2tleVwiLCBcIiRtb2RhbFwiLCBcInByb2dyZXNzXCIsICBmdW5jdGlvbiAoJG1vZGFsSW5zdGFuY2UsICRjb250cm9sbGVyLCB0ZWFtX2tleSwgJG1vZGFsLCBwcm9ncmVzcykge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6ICRtb2RhbEluc3RhbmNlfSkpO1xuXHR0aGlzLnN3ZWVwID0ge2R0Om5ldyBEYXRlKCksIHRlYW1fa2V5OnRlYW1fa2V5LCBvcHRpb25zOlwiXCIsIGhvdXJOdW06MTIsIHR6OlwiRWFzdGVyblwifTtcblx0dGhpcy50aW1lem9uZXMgPSBbJ1VUQycsICdFYXN0ZXJuJywgJ0NlbnRyYWwnLCAnTW91bnRhaW4nLCAnUGFjaWZpYyddO1xuXHR0aGlzLnRvZGF5ID0gbmV3IERhdGUoKTtcblx0dGhpcy5zdG9wRXZlbnQgPSBmdW5jdGlvbigkZXZlbnQpIHtcblx0XHQkZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH07XG5cdHRoaXMuYWRkU3dlZXAgPSBmdW5jdGlvbigpIHtcblx0ICAkbW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzLnN3ZWVwKTtcblx0fTtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLnRvZ2dsZVN3ZWVwT3B0aW9uc01vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tb2RhbHMvZXhwb3J0X3Byb2dyZXNzX21vZGFsLmh0bWwnLFxuXHRcdFx0ICBjb250cm9sbGVyOiAnU3dlZXBPcHRpb25zTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdFx0ICBjb250cm9sbGVyQXM6ICdtb2RhbCcsXG5cdFx0XHQgIHJlc29sdmU6IHtcblx0XHRcdFx0ICB0ZWFtOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQgIHJldHVybiBwcm9ncmVzcztcblx0XHRcdFx0ICB9LFxuXHRcdFx0XHQgIG9wdGlvblN0cmluZzogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ICByZXR1cm4gc2VsZi5zd2VlcC5vcHRpb25zO1xuXHRcdFx0XHQgIH1cblx0XHRcdCAgfVxuXHRcdH0pO1xuXHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obmV3T3B0aW9ucykge1xuXHRcdFx0c2VsZi5zd2VlcC5vcHRpb25zID0gbmV3T3B0aW9ucztcblx0XHR9KTtcblx0fTtcbn1dKVxuLmNvbnRyb2xsZXIoJ1N3ZWVwT3B0aW9uc01vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBcInRlYW1cIiwgXCJvcHRpb25TdHJpbmdcIiwgZnVuY3Rpb24gKCRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlciwgdGVhbSwgb3B0aW9uU3RyaW5nKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdFeHBvcnRNb2RhbFBhcmVudEN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6JG1vZGFsSW5zdGFuY2UsICRjb250cm9sbGVyOiRjb250cm9sbGVyLCB0ZWFtOnRlYW19KSk7XG5cdHRoaXMub25Qb3N0R2VuZXJhdGUgPSBmdW5jdGlvbihxcykge1xuXHRcdCRtb2RhbEluc3RhbmNlLmNsb3NlKHFzKTtcblx0fVxuXHR0aGlzLmRvbmVCdXR0b25UZXh0ID0gJ0RvbmUnO1xuXHRpZiAob3B0aW9uU3RyaW5nICE9PSBcIlwiKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB7fTtcblx0XHRvcHRpb25TdHJpbmcgPSBvcHRpb25TdHJpbmcuc3BsaXQoJyYnKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3B0aW9uU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgb3AgPSBvcHRpb25TdHJpbmdbaV0uc3BsaXQoJz0nKTtcblx0XHRcdG9wdGlvbnNbb3BbMF1dID0gb3BbMV07XG5cdFx0fVxuXHRcdHRoaXMuZnVsbG5hbWUgPSBvcHRpb25zWydzdHVkZW50X25hbWUnXSA9PT0gJ3RydWUnO1xuXHRcdHRoaXMudXNlcm5hbWUgPSBvcHRpb25zWydyb3NlX3VzZXJuYW1lJ10gPT09ICd0cnVlJztcblx0XHR0aGlzLmhhc1RpbWVzdGFtcCA9IG9wdGlvbnNbJ3RpbWV6b25lJ10gIT0gdW5kZWZpbmVkO1xuXHRcdHRoaXMucG9pbnRWYWx1ZSA9IG9wdGlvbnNbJ3BwdSddID8gXCJwb2ludHNcIiA6IFwidGFza3NcIjtcblx0XHR0aGlzLnBvaW50c1BlclVuaXQgPSBwYXJzZUludChvcHRpb25zWydwcHUnXSkgfHwgcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcHVcIikpIHx8IDE7XG5cdFx0dGhpcy5wb2ludHNQZXJUYXNrID0gcGFyc2VJbnQob3B0aW9uc1sncHB0J10pIHx8IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHB0XCIpKSB8fCAxO1xuXHRcdHRoaXMuaW5jbHVkZUNvdXJzZVByb2dyZXNzID0gb3B0aW9uc1snY291cnNlX3Byb2dyZXNzJ10gPT09ICd0cnVlJztcblx0XHR0aGlzLmluY2x1ZGVUcmFja1Byb2dyZXNzID0gb3B0aW9uc1sndHJhY2tfcHJvZ3Jlc3MnXSA9PT0gJ3RydWUnO1xuXHRcdHRoaXMudGltZXpvbmUgPSBvcHRpb25zWyd0aW1lem9uZSddIHx8ICdFYXN0ZXJuJztcblx0XHR0aGlzLnRpbWV6b25lcyA9IFsnVVRDJywgJ0Vhc3Rlcm4nLCAnQ2VudHJhbCcsICdNb3VudGFpbicsICdQYWNpZmljJ107XG5cdFx0dmFyIHByb2dyZXNzX2RhdGEgPSBKU09OLnBhcnNlKG9wdGlvbnNbJ3Byb2dyZXNzX2RhdGEnXSk7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBjb3Vyc2UgPSB0aGlzLmRhdGFbaV07XG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNvdXJzZS50cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0dmFyIHRyYWNrID0gY291cnNlLnRyYWNrc1tqXTtcblx0XHRcdFx0dmFyIHRvZ2dsZWRVbml0cyA9IHByb2dyZXNzX2RhdGFbaV0udHJhY2tzW2pdLnVuaXRzO1xuXHRcdFx0XHRmb3IodmFyIGsgPSAwOyBrIDwgdHJhY2sudW5pdHMubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0XHR2YXIgdW5pdCA9IHRyYWNrLnVuaXRzW2tdO1xuXHRcdFx0XHRcdHVuaXQudG9nZ2xlZCA9IHRvZ2dsZWRVbml0cy5pbmRleE9mKHVuaXQubmFtZSkgIT09IC0xO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnT3ZlcnZpZXdDb250cm9sbGVycycsIFtdKVxuLmNvbnRyb2xsZXIoJ092ZXJ2aWV3Q3RybCcsIGZ1bmN0aW9uKCkge1xufSlcbi5jb250cm9sbGVyKCdQcmV2aWV3Q3RybCcsIFtcIm9BdXRoXCIsIFwiJGxvY2F0aW9uXCIsIFwic2lkZWJhclwiLCBcIiRyb290U2NvcGVcIiwgXCJzbmFja2JhclwiLCBcInVzZXJFbWFpbFwiLCBmdW5jdGlvbihvQXV0aCwgJGxvY2F0aW9uLCBzaWRlYmFyLCAkcm9vdFNjb3BlLCBzbmFja2JhciwgdXNlckVtYWlsKSB7XG5cdG9BdXRoLmNoZWNrKCkudGhlbihmdW5jdGlvbigpIHtcblx0XHQkbG9jYXRpb24ucGF0aCgnL292ZXJ2aWV3Jyk7XG5cdFx0c2lkZWJhci5zaG93LnNldCh0cnVlKTtcblx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xuXHR9KTtcblx0dGhpcy5zaWdudXAgPSBmdW5jdGlvbigpIHtcblx0XHRvQXV0aC5zaWdudXAoKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0b0F1dGguZ2V0VXNlckluZm8oKS50aGVuKGZ1bmN0aW9uKHVzZXJJbmZvKSB7XG5cdFx0XHRcdGlmKHVzZXJJbmZvLmVtYWlsICE9PSB1c2VyRW1haWwpIHtcblx0XHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkRhbmdlciE8L2I+IFNpZ25pbmcgdXAgZm9yIHRlYW1zIHdpdGggYW5vdGhlciBhY2NvdW50IG1heSBjYXVzZSBlcnJvcnMhXCIsIDYwMDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvb3ZlcnZpZXcnKTtcblx0XHRcdHNpZGViYXIuc2hvdy5zZXQodHJ1ZSk7XG5cdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gU2lnbiB1cCBmYWlsZWRcIik7XG5cdFx0fSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdTaWRlYmFyQ3RybCcsIFtcInNpZGViYXJcIiwgXCIkbG9jYXRpb25cIiwgXCIkc2NvcGVcIiwgZnVuY3Rpb24oc2lkZWJhciwgJGxvY2F0aW9uLCAkc2NvcGUpIHtcblx0dGhpcy5yb3V0ZXMgPSBzaWRlYmFyLnJvdXRlcztcblx0dGhpcy5zaG93ID0gc2lkZWJhci5zaG93LmdldCgpO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdCRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gc2lkZWJhci5zaG93LmdldCgpOyB9LFxuXHRcdFx0ZnVuY3Rpb24gKHZhbHVlKSB7IHNlbGYuc2hvdyA9IHZhbHVlOyB9KTtcblxuXHR0aGlzLmlzQWN0aXZlID0gZnVuY3Rpb24ocm91dGVVcmwpIHtcblx0XHR2YXIgcGF0aCA9ICRsb2NhdGlvbi5wYXRoKCk7XG5cdFx0cm91dGVVcmwgPSByb3V0ZVVybC5zdWJzdHJpbmcoMSk7XG5cdFx0cmV0dXJuIHBhdGguc3RhcnRzV2l0aChyb3V0ZVVybCk7XG5cdH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdUZWFtQ29udHJvbGxlcnMnLCBbXSlcbi5jb250cm9sbGVyKCdUZWFtc0N0cmwnLCBbXCIkbW9kYWxcIiwgXCJ0ZWFtc1wiLCBmdW5jdGlvbigkbW9kYWwsIHRlYW1zKSB7XG5cdHRoaXMuaXRlbXMgPSB0ZWFtc1tcInRlYW1zXCJdO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG59XSlcbi5jb250cm9sbGVyKCdUZWFtc1BhcmVudEN0cmwnLCBbJyRtb2RhbCcsICd0ZWFtJywgZnVuY3Rpb24oJG1vZGFsLCB0ZWFtKSB7XG5cdHRoaXMudG9nZ2xlRXhwb3J0UHJvZ3Jlc3NNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21vZGFscy9leHBvcnRfcHJvZ3Jlc3NfbW9kYWwuaHRtbCcsXG5cdFx0ICBjb250cm9sbGVyOiAnRXhwb3J0TW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnLFxuXHRcdCAgcmVzb2x2ZToge1xuXHRcdFx0ICB0ZWFtOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICByZXR1cm4gdGVhbTtcblx0XHRcdCAgfVxuXHRcdCAgfVxuXHRcdH0pO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignVGVhbXNDb3Vyc2VDdHJsJywgW1wiJG1vZGFsXCIsIFwidGVhbVwiLCBcIiRjb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRtb2RhbCwgdGVhbSwgJGNvbnRyb2xsZXIpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1RlYW1zUGFyZW50Q3RybCcsIHskbW9kYWw6ICRtb2RhbCwgdGVhbTogdGVhbX0pKTtcbiAgdGhpcy50ZWFtID0gdGVhbTtcblx0aWYgKHRlYW0ubWVtYmVyc19wcm9ncmVzcyA9PSB1bmRlZmluZWQpIHtcblx0XHR0aGlzLnRlYW0ubWVtYmVyc19wcm9ncmVzcyA9IFtdO1xuXHR9XG5cdHRoaXMuY291cnNlcyA9IFtdO1xuXHRpZiAodGVhbS5tZW1iZXJzX3Byb2dyZXNzLmxlbmd0aCA+IDApIHtcblx0XHRjb3Vyc2VzID0gdGVhbS5tZW1iZXJzX3Byb2dyZXNzWzBdLmNvdXJzZV9wcm9ncmVzcztcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNvdXJzZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuY291cnNlcy5wdXNoKGNvdXJzZXNbaV0ubmFtZSk7XG5cdFx0fVxuXHR9XG59XSlcbi5jb250cm9sbGVyKCdUZWFtc1RyYWNrQ3RybCcsIFtcIiRyb3V0ZVBhcmFtc1wiLCBcInRlYW1cIiwgXCIkbW9kYWxcIiwgXCIkY29udHJvbGxlclwiLCBmdW5jdGlvbigkcm91dGVQYXJhbXMsIHRlYW0sICRtb2RhbCwgJGNvbnRyb2xsZXIpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1RlYW1zUGFyZW50Q3RybCcsIHskbW9kYWw6ICRtb2RhbCwgdGVhbTogdGVhbX0pKTtcblx0dGhpcy50ZWFtID0gdGVhbTtcblx0aWYgKHRlYW0ubWVtYmVyc19wcm9ncmVzcyA9PSB1bmRlZmluZWQpIHtcblx0XHR0aGlzLnRlYW0ubWVtYmVyc19wcm9ncmVzcyA9IFtdO1xuXHR9XG5cdHRoaXMuY291cnNlID0gJHJvdXRlUGFyYW1zLmNvdXJzZV9uYW1lO1xuXHR0aGlzLnRyYWNrcyA9IFtdO1xuXHRpZiAodGVhbS5tZW1iZXJzX3Byb2dyZXNzLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgY291cnNlcyA9IHRlYW0ubWVtYmVyc19wcm9ncmVzc1swXS5jb3Vyc2VfcHJvZ3Jlc3M7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3Vyc2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoY291cnNlc1tpXS5uYW1lID09PSB0aGlzLmNvdXJzZSkge1xuXHRcdFx0XHR0aGlzLmNvdXJzZU51bSA9IGk7XG5cdFx0XHRcdHZhciBjb3Vyc2VUcmFja3MgPSBjb3Vyc2VzW2ldLnRyYWNrX3Byb2dyZXNzO1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNvdXJzZVRyYWNrcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdHRoaXMudHJhY2tzLnB1c2goY291cnNlVHJhY2tzW2pdLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHRoaXMuZ2V0UHJvZ3Jlc3NGb3JNZW1iZXJUcmFjayA9IGZ1bmN0aW9uKG1lbWJlciwgdHJhY2tOdW0pIHtcblx0XHRyZXR1cm4gbWVtYmVyLmNvdXJzZV9wcm9ncmVzc1tzZWxmLmNvdXJzZU51bV0udHJhY2tfcHJvZ3Jlc3NbdHJhY2tOdW1dLnByb2dyZXNzO1xuXHR9XG59XSlcbi5jb250cm9sbGVyKCdUZWFtc1VuaXRDdHJsJywgW1wiJHJvdXRlUGFyYW1zXCIsIFwidGVhbVwiLCBcIiRtb2RhbFwiLCBcIiRjb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRyb3V0ZVBhcmFtcywgdGVhbSwgJG1vZGFsLCAkY29udHJvbGxlcikge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignVGVhbXNQYXJlbnRDdHJsJywgeyRtb2RhbDogJG1vZGFsLCB0ZWFtOiB0ZWFtfSkpO1xuXHR0aGlzLnRlYW0gPSB0ZWFtO1xuXHRpZiAodGVhbS5tZW1iZXJzX3Byb2dyZXNzID09IHVuZGVmaW5lZCkge1xuXHRcdHRoaXMudGVhbS5tZW1iZXJzX3Byb2dyZXNzID0gW107XG5cdH1cblx0dGhpcy5jb3Vyc2UgPSAkcm91dGVQYXJhbXMuY291cnNlX25hbWU7XG5cdHRoaXMudHJhY2sgPSAkcm91dGVQYXJhbXMudHJhY2tfbmFtZTtcblx0dGhpcy51bml0cyA9IFtdO1xuXHRpZiAodGVhbS5tZW1iZXJzX3Byb2dyZXNzLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgY291cnNlcyA9IHRlYW0ubWVtYmVyc19wcm9ncmVzc1swXS5jb3Vyc2VfcHJvZ3Jlc3M7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3Vyc2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoY291cnNlc1tpXS5uYW1lID09PSB0aGlzLmNvdXJzZSkge1xuXHRcdFx0XHR0aGlzLmNvdXJzZU51bSA9IGk7XG5cdFx0XHRcdHZhciB0cmFja3MgPSBjb3Vyc2VzW2ldLnRyYWNrX3Byb2dyZXNzO1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRyYWNrcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGlmICh0cmFja3Nbal0ubmFtZSA9PT0gdGhpcy50cmFjaykge1xuXHRcdFx0XHRcdFx0dGhpcy50cmFja051bSA9IGo7XG5cdFx0XHRcdFx0XHR2YXIgdHJhY2tVbml0cyA9IHRyYWNrc1tqXS51bml0X3Byb2dyZXNzO1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgayA9IDA7IGsgPCB0cmFja1VuaXRzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMudW5pdHMucHVzaCh0cmFja1VuaXRzW2tdLm5hbWUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHRoaXMuZ2V0UHJvZ3Jlc3NGb3JNZW1iZXJVbml0ID0gZnVuY3Rpb24obWVtYmVyLCB1bml0TnVtKSB7XG5cdFx0cmV0dXJuIG1lbWJlci5jb3Vyc2VfcHJvZ3Jlc3Nbc2VsZi5jb3Vyc2VOdW1dLnRyYWNrX3Byb2dyZXNzW3NlbGYudHJhY2tOdW1dLnVuaXRfcHJvZ3Jlc3NbdW5pdE51bV0ucHJvZ3Jlc3M7XG5cdH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdUZWFtU2VydmljZXMnLCBbXSlcbi5mYWN0b3J5KCdzaWRlYmFyJywgZnVuY3Rpb24oKSB7XG5cdHZhciBpc1Nob3dpbmcgPSB0cnVlO1xuXHRyZXR1cm4geyByb3V0ZXMgOlxuXHRcdFt7bmFtZTonT3ZlcnZpZXcnLCBocmVmOicjL292ZXJ2aWV3Lyd9LFxuXHRcdHtuYW1lOidUZWFtcycsIGhyZWY6JyMvdGVhbXMvJ30sXG5cdFx0e25hbWU6J0ludml0ZXMnLCBocmVmOicjL2ludml0ZXMvJ30sXG5cdFx0e25hbWU6J01hbmFnZScsIGhyZWY6JyMvbWFuYWdlLyd9XSxcblx0XHRzaG93OlxuXHRcdHtcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBpc1Nob3dpbmc7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiBmdW5jdGlvbihzaG93aW5nKSB7XG5cdFx0XHRcdGlzU2hvd2luZyA9IHNob3dpbmc7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufSlcbi5mYWN0b3J5KCd1c2VyRW1haWwnLCBbXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcblx0cmV0dXJuICRyb290U2NvcGUudXNlckVtYWlsO1xufV0pXG4uc2VydmljZSgnb0F1dGgnLCBbXCIkcVwiLCBcIiRsb2NhdGlvblwiLCBmdW5jdGlvbiAoJHEsICRsb2NhdGlvbikge1xuXHR2YXIgc2lnbmluID0gZnVuY3Rpb24oaW1tZWRpYXRlKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHAgPSAkcS5kZWZlcigpO1xuXHRcdFx0Z2FwaS5hdXRoLmF1dGhvcml6ZSh7XG5cdFx0XHRcdGNsaWVudF9pZDogQ0xJRU5UX0lELFxuXHRcdFx0XHRzY29wZTogU0NPUEVTLFxuXHRcdFx0XHRpbW1lZGlhdGU6IGltbWVkaWF0ZVxuXHRcdFx0fSwgZnVuY3Rpb24oYXV0aFJlc3VsdCkge1xuXHRcdFx0XHRpZiAoYXV0aFJlc3VsdC5lcnJvcikge1xuXHRcdFx0XHRcdHAucmVqZWN0KGF1dGhSZXN1bHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHAucmVzb2x2ZShhdXRoUmVzdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcC5wcm9taXNlO1xuXHRcdH1cblx0fTtcblx0dGhpcy5zaWdudXAgPSBzaWduaW4oZmFsc2UpO1xuXHR0aGlzLmNoZWNrID0gc2lnbmluKHRydWUpO1xuXHR0aGlzLmV4ZWN1dGUgPSBmdW5jdGlvbihhcGlNZXRob2QpIHtcblx0XHR2YXIgcCA9ICRxLmRlZmVyKCk7XG5cdFx0Z2FwaS5hdXRoLmF1dGhvcml6ZSh7XG5cdFx0XHRjbGllbnRfaWQgOiBDTElFTlRfSUQsXG5cdFx0XHRzY29wZSA6IFNDT1BFUyxcblx0XHRcdGltbWVkaWF0ZSA6IHRydWVcblx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdGFwaU1ldGhvZC5leGVjdXRlKGZ1bmN0aW9uKHJlc3ApIHtcblx0XHRcdFx0aWYgKCFyZXNwLmNvZGUpIHtcblx0XHRcdFx0XHRwLnJlc29sdmUocmVzcC5yZXN1bHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHAucmVqZWN0KHJlc3ApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gcC5wcm9taXNlO1xuXHR9O1xuXHR0aGlzLmdldFVzZXJJbmZvID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXhlY3V0ZShnYXBpLmNsaWVudC5vYXV0aDIudXNlcmluZm8uZ2V0KCkpO1xuXHR9O1xufV0pXG4uc2VydmljZSgnYXBpJywgW1wib0F1dGhcIiwgXCIkcVwiLCBmdW5jdGlvbiAob0F1dGgsICRxKSB7XG5cdHZhciBjYWNoZSA9IHt9O1xuXHR0aGlzLmRlbGV0ZUNhY2hlID0gZnVuY3Rpb24oKSB7XG5cdFx0Y2FjaGUgPSB7fTtcblx0fVxuXHR2YXIgY2FjaGVkQXBpQ2FsbCA9IGZ1bmN0aW9uKGNhY2hlS2V5LCBhcGlNZXRob2QpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oZm9yY2VSZWZyZXNoKSB7XG5cdFx0XHR2YXIgcCA9ICRxLmRlZmVyKCk7XG5cdFx0XHRpZiAoY2FjaGVbY2FjaGVLZXldICE9IHVuZGVmaW5lZCAmJiBmb3JjZVJlZnJlc2ggPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHAucmVzb2x2ZShjYWNoZVtjYWNoZUtleV0pO1xuXHRcdFx0XHRyZXR1cm4gcC5wcm9taXNlO1xuXHRcdFx0fVxuXHRcdFx0b0F1dGguZXhlY3V0ZShhcGlNZXRob2QpXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXNwKSB7XG5cdFx0XHRcdGNhY2hlW2NhY2hlS2V5XSA9IHJlc3A7XG5cdFx0XHRcdHAucmVzb2x2ZShyZXNwKTtcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdHAucmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0XHR9O1xuXHR9O1xuXHR2YXIgY2FjaGVkVGVhbUFwaUNhbGwgPSBmdW5jdGlvbih0eXBlLCBhcGlNZXRob2QpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0XHR2YXIgcCA9ICRxLmRlZmVyKCk7XG5cdFx0XHRpZihjYWNoZVt0eXBlICsgcGFyYW1zLnRlYW1fa2V5XSAhPSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cC5yZXNvbHZlKGNhY2hlW3R5cGUgKyBwYXJhbXMudGVhbV9rZXldKTtcblx0XHRcdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0XHRcdH1cblx0XHRcdG9BdXRoLmV4ZWN1dGUoYXBpTWV0aG9kKHBhcmFtcykpXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXNwKSB7XG5cdFx0XHRcdGNhY2hlW3R5cGUgKyBwYXJhbXMudGVhbV9rZXldID0gcmVzcDtcblx0XHRcdFx0cC5yZXNvbHZlKHJlc3ApO1xuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0cC5yZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcC5wcm9taXNlO1xuXHRcdH07XG5cdH07XG5cdHRoaXMuZGVsZXRlVGVhbSA9IGZ1bmN0aW9uKHRlYW0pIHtcblx0XHRpZiAoY2FjaGVbXCJnZXRfdGVhbXNcIl0gIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR2YXIgdGVhbXMgPSBjYWNoZVtcImdldF90ZWFtc1wiXVtcInRlYW1zXCJdO1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmKHRlYW0udGVhbV9rZXkgPT0gdGVhbXNbaV0udGVhbV9rZXkpIHtcblx0XHRcdFx0XHR0ZWFtcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG9BdXRoLmV4ZWN1dGUoZ2FwaS5jbGllbnQudGVhbXMuZGVsZXRlKHRlYW0pKTtcblx0fTtcblx0dGhpcy5pbnNlcnRUZWFtID0gZnVuY3Rpb24odGVhbSkge1xuXHRcdHZhciBwID0gJHEuZGVmZXIoKTtcblx0XHR2YXIgdXBkYXRlQ2FjaGUgPSBjYWNoZVtcImdldF90ZWFtc1wiXSAhPSB1bmRlZmluZWQ7XG5cdFx0dmFyIHRlYW1zID0gdW5kZWZpbmVkO1xuXHRcdHZhciBuZXdUZWFtID0gdGVhbS50ZWFtX2tleSA9PSB1bmRlZmluZWQ7XG5cdFx0aWYgKHVwZGF0ZUNhY2hlKSB7XG5cdFx0XHR0ZWFtcyA9IGNhY2hlW1wiZ2V0X3RlYW1zXCJdW1widGVhbXNcIl07XG5cdFx0XHRpZih0ZWFtcyA9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y2FjaGVbXCJnZXRfdGVhbXNcIl1bXCJ0ZWFtc1wiXSA9IFtdO1xuXHRcdFx0XHR0ZWFtcyA9IGNhY2hlW1wiZ2V0X3RlYW1zXCJdW1widGVhbXNcIl07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdG9BdXRoLmV4ZWN1dGUoZ2FwaS5jbGllbnQudGVhbXMuaW5zZXJ0KHRlYW0pKVxuXHRcdC50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcblx0XHRcdGlmKHVwZGF0ZUNhY2hlKSB7XG5cdFx0XHRcdGlmKG5ld1RlYW0pIHtcblx0XHRcdFx0XHR0ZWFtcy5wdXNoKHJlc3ApXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRpZihyZXNwLnRlYW1fa2V5ID09PSB0ZWFtc1tpXS50ZWFtX2tleSkge1xuXHRcdFx0XHRcdFx0XHR0ZWFtc1tpXSA9IHJlc3A7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cC5yZXNvbHZlKHJlc3ApO1xuXHRcdH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRwLnJlamVjdChlcnJvcik7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0fTtcblx0dGhpcy5nZXRJbnZpdGVzID0gY2FjaGVkQXBpQ2FsbChcImdldF9pbnZpdGVzXCIsIGdhcGkuY2xpZW50LnRlYW1zLmludml0ZXMubGlzdCgpKTtcblx0dGhpcy5lZGl0SW52aXRlID0gZnVuY3Rpb24oaW52aXRlKSB7XG5cdFx0cmV0dXJuIG9BdXRoLmV4ZWN1dGUoZ2FwaS5jbGllbnQudGVhbXMuaW52aXRlcy5yZXNwb25kKGludml0ZSkpO1xuXHR9O1xuXHR0aGlzLmdldFRlYW1zID0gY2FjaGVkQXBpQ2FsbChcImdldF90ZWFtc1wiLCBnYXBpLmNsaWVudC50ZWFtcy5saXN0LmFsbCgpKTtcblx0dGhpcy5nZXRMZWFkVGVhbXMgPSBjYWNoZWRBcGlDYWxsKFwiZ2V0X2xlYWRfdGVhbXNcIiwgZ2FwaS5jbGllbnQudGVhbXMubGlzdC5sZWFkZXIoKSk7XG5cdHRoaXMuZ2V0UHJvZ3Jlc3MgPSBjYWNoZWRUZWFtQXBpQ2FsbChcInByb2dyZXNzXCIsIGdhcGkuY2xpZW50LnRlYW1zLnByb2dyZXNzKTtcblx0dGhpcy5nZXRTd2VlcHMgPSBjYWNoZWRUZWFtQXBpQ2FsbChcInN3ZWVwXCIsIGdhcGkuY2xpZW50LnRlYW1zLnN3ZWVwcy5nZXQpO1xuXHR0aGlzLmluc2VydFN3ZWVwID0gZnVuY3Rpb24oc3dlZXApIHtcblx0XHRyZXR1cm4gb0F1dGguZXhlY3V0ZShnYXBpLmNsaWVudC50ZWFtcy5zd2VlcHMuaW5zZXJ0KHN3ZWVwKSk7XG5cdH1cblx0dGhpcy5kZWxldGVTd2VlcCA9IGZ1bmN0aW9uKHN3ZWVwKSB7XG5cdFx0cmV0dXJuIG9BdXRoLmV4ZWN1dGUoZ2FwaS5jbGllbnQudGVhbXMuc3dlZXBzLmRlbGV0ZShzd2VlcCkpO1xuXHR9XG5cdHRoaXMuZ2V0Q291cnNlcyA9IGNhY2hlZEFwaUNhbGwoXCJjb3Vyc2VzXCIsIGdhcGkuY2xpZW50LnRlYW1zLmNvdXJzZXMoKSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnVGVhbURpcmVjdGl2ZXMnLCBbXSlcbi5kaXJlY3RpdmUoJ3RlYW1UaXRsZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRlYW06ICc9J1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL2NvbXBvbmVudHMvdGVhbV90aXRsZS5odG1sJ1xuICB9O1xufSlcbi5kaXJlY3RpdmUoJ3JvdXRlTG9hZGluZ0luZGljYXRvcicsIFsnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9jb21wb25lbnRzL2xvYWRpbmdfc3Bpbm5lci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcblxuICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKXtcbiAgICAgICAgJHJvb3RTY29wZS5pc1JvdXRlTG9hZGluZyA9IHRydWU7XG4gICAgICB9KTtcblxuICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpe1xuICAgICAgICAkcm9vdFNjb3BlLmlzUm91dGVMb2FkaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSlcbi5maWx0ZXIoJ3BlcmNlbnRhZ2UnLCBbJyRmaWx0ZXInLCBmdW5jdGlvbiAoJGZpbHRlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBkZWNpbWFscykge1xuICAgIHJldHVybiAkZmlsdGVyKCdudW1iZXInKShpbnB1dCAqIDEwMCwgZGVjaW1hbHMpICsgJyUnO1xuICB9O1xufV0pXG4uZmlsdGVyKCdwZW5kaW5nU3dlZXBzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBjb21wYXJlRGF0ZSA9IG5ldyBEYXRlKDApO1xuICAgICAgY29tcGFyZURhdGUuc2V0RnVsbFllYXIobm93LmdldEZ1bGxZZWFyKCkpO1xuXHQgIGNvbXBhcmVEYXRlLnNldE1vbnRoKG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpKTtcbiAgICAgIHZhciBob3VyTnVtID0gbm93LmdldEhvdXJzKCk7XG4gICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZihpdGVtLmR0LmdldFRpbWUoKSA+IGNvbXBhcmVEYXRlLmdldFRpbWUoKSB8fCAoaXRlbS5kdC5nZXRUaW1lKCkgPT09IGNvbXBhcmVEYXRlLmdldFRpbWUoKSAmJiBpdGVtLmhvdXJOdW0gPiBob3VyTnVtKSkge1xuICAgICAgICAgIGZpbHRlcmVkLnB1c2goaXRlbSk7IFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICB9O1xufSlcbi5maWx0ZXIoJ2ZpcmVkU3dlZXBzJywgZnVuY3Rpb24oKSB7XG5cdHJldHVybiBmdW5jdGlvbihpdGVtcykge1xuXHQgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuXHQgIHZhciBjb21wYXJlRGF0ZSA9IG5ldyBEYXRlKDApO1xuXHQgIGNvbXBhcmVEYXRlLnNldEZ1bGxZZWFyKG5vdy5nZXRGdWxsWWVhcigpKTtcblx0ICBjb21wYXJlRGF0ZS5zZXRNb250aChub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSk7XG5cdCAgdmFyIGhvdXJOdW0gPSBub3cuZ2V0SG91cnMoKTtcblx0ICB2YXIgZmlsdGVyZWQgPSBbXTtcblx0ICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICAgIGlmKGl0ZW0uZHQuZ2V0VGltZSgpIDwgY29tcGFyZURhdGUuZ2V0VGltZSgpIHx8IChpdGVtLmR0LmdldFRpbWUoKSA9PT0gY29tcGFyZURhdGUuZ2V0VGltZSgpICYmIGl0ZW0uaG91ck51bSA8PSBob3VyTnVtKSkge1xuXHQgICAgICBmaWx0ZXJlZC5wdXNoKGl0ZW0pO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBmaWx0ZXJlZDtcblx0fTtcbn0pO1xuIiwiLypcblx0QGxpY2Vuc2UgQW5ndWxhciBTbmFja2JhciB2ZXJzaW9uIDEuMC4xXG5cdOKTkiAyMDE1IFR5bGVyIFJvY2t3b29kIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2Nrd290ai9hbmd1bGFyLnNuYWNrYmFyXG5cdExpY2Vuc2U6IE1JVFxuKi9cblxuIWZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO3ZhciBuPWEubW9kdWxlKFwiYW5ndWxhci5zbmFja2JhclwiLFtdKTtuLmZhY3RvcnkoXCJzbmFja2JhclwiLFtcIiRyb290U2NvcGVcIixmdW5jdGlvbihhKXtyZXR1cm57Y3JlYXRlV2l0aFRpbWVvdXQ6ZnVuY3Rpb24obixlKXthLiRicm9hZGNhc3QoXCJjcmVhdGVTbmFja2JhcldpdGhUaW1lb3V0XCIse2NvbnRlbnQ6bixkdXJhdGlvbjplfSl9LGNyZWF0ZTpmdW5jdGlvbihuLGUpe2EuJGJyb2FkY2FzdChcImNyZWF0ZVNuYWNrYmFyXCIse2NvbnRlbnQ6bixpZDplfSl9LHJlbW92ZTpmdW5jdGlvbihuKXthLiRicm9hZGNhc3QoXCJyZW1vdmVTbmFja2JhclwiLHtpZDpufSl9fX1dKSxuLmRpcmVjdGl2ZShcInNuYWNrYmFyXCIsW1wiJHJvb3RTY29wZVwiLFwiJGNvbXBpbGVcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24obixlLGMpe3JldHVybiBmdW5jdGlvbih0LHIsbyl7dmFyIHM9YS5lbGVtZW50KHIpLGk9by5zbmFja2JhckR1cmF0aW9ufHwzZTMsdT1vLnNuYWNrYmFyUmVtb3ZlRGVsYXl8fDIwO24uJG9uKFwiY3JlYXRlU25hY2tiYXJXaXRoVGltZW91dFwiLGZ1bmN0aW9uKG4scil7dmFyIG89JzxkaXYgY2xhc3M9XCJzbmFja2JhciBzbmFja2Jhci1vcGVuZWRcIj48c3BhbiBjbGFzcz1cInNuYWNrYmFyLWNvbnRlbnRcIj4nK3IuY29udGVudCtcIjwvc3Bhbj48L2Rpdj5cIixiPWEuZWxlbWVudChlKG8pKHQpKTtzLmFwcGVuZChiKSxjKGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhcInNuYWNrYmFyLW9wZW5lZFwiKSxjKGZ1bmN0aW9uKCl7Yi5yZW1vdmUoKX0sdSwhMSl9LHIuZHVyYXRpb258fGksITEpfSksbi4kb24oXCJjcmVhdGVTbmFja2JhclwiLGZ1bmN0aW9uKG4sYyl7dmFyIHI9JzxkaXYgY2xhc3M9XCJzbmFja2JhciBzbmFja2Jhci1vcGVuZWQgc25hY2tiYXItaWQtJytjLmlkKydcIj48c3BhbiBjbGFzcz1cInNuYWNrYmFyLWNvbnRlbnRcIj4nK2MuY29udGVudCtcIjwvc3Bhbj48L2Rpdj5cIixvPWEuZWxlbWVudChlKHIpKHQpKTtzLmFwcGVuZChvKX0pLG4uJG9uKFwicmVtb3ZlU25hY2tiYXJcIixmdW5jdGlvbihuLGUpe3ZhciBjPWEuZWxlbWVudChzWzBdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzbmFja2Jhci1pZC1cIitlLmlkKSk7Yy5yZW1vdmVDbGFzcyhcInNuYWNrYmFyLW9wZW5lZFwiKSxjLnJlbW92ZSgpfSl9fV0pfShhbmd1bGFyKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
