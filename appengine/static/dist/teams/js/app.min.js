CLIENT_ID="963009065087-2a5ccl5rhm4ghgm88li21fkjgsu5eua0@developer.gserviceaccount.com",SCOPES="https://www.googleapis.com/auth/userinfo.email",RESPONSE_TYPE="token id_token",init=function(){var o,a="//"+window.location.host+"/_ah/api";-1===window.location.host.indexOf("localhost")&&(a="https://roseboticsweb.appspot.com/_ah/api");var t=function(){0==--o&&angular.bootstrap(document,["TeamApp"])};o=2,gapi.client.load("teams","v1",t,a),gapi.client.load("oauth2","v2",t)};
"use strict";angular.module("TeamApp",["TeamControllers","ModalControllers","OverviewControllers","ManageControllers","TeamServices","InviteControllers","ui.bootstrap","ngRoute","TeamDirectives","angular.snackbar"]).config(["$routeProvider",function(e){e.when("/overview/",{templateUrl:"/static/teams/partials/overview.html",controller:"OverviewCtrl as overview"}).when("/preview/",{templateUrl:"/static/teams/partials/preview.html",controller:"PreviewCtrl as preview"}).when("/teams/",{templateUrl:"/static/teams/partials/teams.html",controller:"TeamsCtrl as teams",resolve:{teams:["api",function(e){return e.getTeams()}]}}).when("/teams/:team_key/courses",{templateUrl:"/static/teams/partials/teams_course.html",controller:"TeamsCourseCtrl as courses",resolve:{team:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).when("/teams/:team_key/courses/:course_name/tracks",{templateUrl:"/static/teams/partials/teams_track.html",controller:"TeamsTrackCtrl as tracks",resolve:{team:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).when("/teams/:team_key/courses/:course_name/tracks/:track_name/units",{templateUrl:"/static/teams/partials/teams_unit.html",controller:"TeamsUnitCtrl as units",resolve:{team:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).when("/invites/",{templateUrl:"/static/teams/partials/invites.html",controller:"InvitesCtrl as invites",resolve:{invites:["api",function(e){return e.getInvites()}]}}).when("/manage/",{templateUrl:"/static/teams/partials/manage.html",controller:"ManageCtrl as manage",resolve:{teams:["api",function(e){return e.getLeadTeams()}]}}).when("/manage/:team_key",{templateUrl:"/static/teams/partials/manage_team.html",controller:"ManageTeamCtrl as manage",resolve:{teams:["api",function(e){return e.getLeadTeams()}],user:["oAuth",function(e){return e.getUserInfo()}],courses:["api",function(e){return e.getCourses()}]}}).when("/manage/:team_key/sweeps",{templateUrl:"/static/teams/partials/manage_sweeps.html",controller:"SweepsTeamCtrl as sweeps",resolve:{teams:["api",function(e){return e.getLeadTeams()}],sweeps:["api","$route",function(e,t){return e.getSweeps(t.current.params)}],progress:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).otherwise({redirectTo:"/overview/"})}]).run(["$rootScope","$location","oAuth","sidebar",function(e,t,r,a){angular.element(document.querySelectorAll(".hidden.container")).removeClass("hidden"),angular.element(document.querySelector("div.spinner")).addClass("hidden"),r.check().then(null,function(){t.path("/preview"),a.show.set(!1)})}]);
angular.module("InviteControllers",[]).controller("InvitesCtrl",["invites","api","snackbar",function(e,s,n){this.pending=[],this.accepted=[];var t=e.invites;void 0==t&&(t=[]);for(var i=0;i<t.length;i++)"NOT_CHOSEN"===t[i].response?this.pending.push(t[i]):this.accepted.push(t[i]);var r=this;this.editInvite=function(e,t){var i=!1;if("NOT_CHOSEN"===e.response&&"NOT_CHOSEN"!==t){for(var o=0;o<r.pending.length;o++)if(r.pending[o].team_key===e.team_key){r.pending.splice(o,1);break}r.accepted.push(e),i=!0}if("REJECT_INVITE"===t){for(var o=0;o<r.accepted.length;o++)if(r.accepted[o].team_key===e.team_key){r.accepted.splice(o,1);break}i=!0}e.response=t,n.create("Sending response...",4),s.editInvite(e).then(function(){n.remove(4),n.createWithTimeout("<b>Success!</b> Response saved"),i&&s.getTeams(!0)},function(){n.remove(4),n.createWithTimeout("<b>Error!</b> Response not saved")})},this.pendingResponses=["NOT_CHOSEN","ALL_MEMBERS","TEAM_LEADER","REJECT_INVITE"],this.acceptedResponses=["ALL_MEMBERS","TEAM_LEADER","REJECT_INVITE"],this.responseOptions={NOT_CHOSEN:"No response",ALL_MEMBERS:"All members can see my progress",TEAM_LEADER:"Only the leader can see my progress",REJECT_INVITE:"Reject invite and no one can see my progress"}}]);
angular.module("ManageControllers",[]).controller("ManageCtrl",["$modal","teams","api","snackbar","oAuth",function(e,t,r,o,a){this.items=t.teams;var s=this;this.toggleCreateTeamModal=function(){var n=e.open({templateUrl:"/static/teams/partials/modals/create_team_modal.html",controller:"CreateTeamModalInstanceCtrl",controllerAs:"modal",resolve:{user:function(){return a.getUserInfo()},courses:function(){return r.getCourses()}}});n.result.then(function(e){o.create("Creating team...",1),r.insertTeam(e).then(function(e){o.remove(1),o.createWithTimeout("<b>Success!</b> Team created"),void 0==t.teams&&(t.teams=[],s.items=t.teams),t.teams.push(e)},function(e){o.remove(1),o.createWithTimeout("<b>Error!</b> Team not created")})})}}]).controller("ManageTeamCtrl",["$routeParams","$modal","teams","$scope","snackbar","api","$location","user","courses",function(e,t,r,o,a,s,n,i,m){for(var l=r.teams,u=-1,c=0;c<l.length;c++)if(l[c].team_key==e.team_key){this.team=l[c],u=c;break}this.goToSweep=function(){n.path(n.path()+"/sweeps")},this.offeredCourses=m,console.log(m),this.getCourseTitle=function(e){for(var t=0;t<m.ids.length;t++)if(m.ids[t]===e)return m.titles[t];return""};var p=0,h=this,d=o.$watch(function(){return h.team},function(){p++,h.onInputMadeDirty(p)},!0);this.onInputMadeDirty=function(e){e>1&&(a.createWithTimeout("<b>Warning!</b> You must press submit to save your changes"),d())},this.deleteMember=function(e){for(var t=h.team.members,r=0;r<t.length;r++)if(t[r].email==e.email){t.splice(r,1);break}},this.saveTeam=function(){a.create("Saving team...",3),s.insertTeam(h.team).then(function(e){a.remove(3),a.createWithTimeout("<b>Success!</b> Team saved")},function(){a.remove(3),a.createWithTimeout("<b>Error!</b> Team not saved")})},this.toggleDeleteTeamModal=function(){var e=t.open({templateUrl:"/static/teams/partials/modals/delete_team_modal.html",controller:"DeleteTeamModalInstanceCtrl",controllerAs:"modal"});e.result.then(function(){l.splice(c,1),a.create("Deleting team...",2),s.deleteTeam(h.team).then(function(){a.remove(2),a.createWithTimeout("<b>Success!</b> Team deleted")},function(){a.remove(2),a.createWithTimeout("<b>Error!</b> Team not deleted")}),n.path("/manage")})},this.toggleCreateMemberModal=function(){var e=t.open({templateUrl:"/static/teams/partials/modals/create_member_modal.html",controller:"NewMemberModalInstanceCtrl",controllerAs:"modal"});e.result.then(function(e){var t={email:e,visibility:"NOT_CHOSEN"};void 0==h.team.members&&(h.team.members=[]),e==i.email&&(t.visibility="ALL_MEMBERS"),h.team.members.push(t),h.team.newMembers=!0})},this.visibilityOptions={NOT_CHOSEN:"No Response",ALL_MEMBERS:"Progress visible by everyone",TEAM_LEADER:"Progress visible by leader only"}}]).controller("SweepsTeamCtrl",["$routeParams","$modal","teams","sweeps","$location","progress","snackbar","api","$scope",function(e,t,r,o,a,s,n,i,m){var l=r.teams;this.sweeps=o.sweeps||[];var u=-1;this.today=new Date,this.timezones=["UTC","PDT","MDT","CDT","EDT","PST","MST","CST","EST"],this.done=function(){a.path("/manage/"+e.team_key)};for(var c=0;c<l.length;c++)if(l[c].team_key==e.team_key){this.team=l[c],u=c;break}for(var p=this,c=0;c<this.sweeps.length;c++){var h=this.sweeps[c];h.hourNum=parseInt(h.hour);var d=new Date(0);d.setFullYear(h.year),d.setMonth(parseInt(h.month)-1,parseInt(h.day)),h.dt=d}this.saveSweep=function(e){n.create("Saving Sweep...",6),e.hour=e.hourNum.toString(),e.year=e.dt.getFullYear().toString(),e.month=(e.dt.getMonth()+1).toString(),e.day=e.dt.getDate().toString(),i.insertSweep(e).then(function(e){n.remove(6),n.createWithTimeout("<b>Success!</b> Sweep saved")},function(){n.remove(6),n.createWithTimeout("<b>Error!</b> Sweep not saved")})},this.deleteSweep=function(e){n.create("Removing Sweep...",7),i.deleteSweep(e).then(function(){for(var t=0;t<p.sweeps.length;t++)if(e.sweep_key===p.sweeps[t].sweep_key){p.sweeps.splice(t,1);break}n.remove(7),n.createWithTimeout("<b>Success!</b> Sweep removed")},function(){n.remove(7),n.createWithTimeout("<b>Error!</b> Sweep not removed")})},this.stopEvent=function(e){e.preventDefault(),e.stopPropagation()},this.toggleImportSweepsDialog=function(){var e=t.open({templateUrl:"/static/teams/partials/modals/import_sweeps_modal.html",controller:"ImportSweepsModalInstanceCtrl",controllerAs:"modal",resolve:{teams:function(){return l}}});e.result.then(function(e){console.log(e),n.create("Importing from "+e.name+"...",10),i.getSweeps(e).then(function(e){if(console.log(e),!e.sweeps||!e.sweeps.length)return n.remove(10),void n.createWithTimeout("<b>Error!</b> There were no sweeps to import");for(var t=0;t<e.sweeps.length;t++){var r=e.sweeps[t];delete r.sweep_key,r.team_key=p.team.team_key,i.insertSweep(r).then(function(e){console.log(e),e.hourNum=parseInt(e.hour);var t=new Date(0);t.setFullYear(e.year),t.setMonth(parseInt(e.month)-1,parseInt(e.day)),e.dt=t,void 0==o.sweeps&&(o.sweeps=[],p.sweeps=o.sweeps);for(var r=!1,a=0;a<p.sweeps.length;a++)if(p.sweeps[a].dt.getTime()<e.dt.getTime()||p.sweeps[a].dt.getTime()===e.dt.getTime()&&p.sweeps[a].hourNum<e.hourNum){p.sweeps.splice(a,0,e),r=!0;break}r||p.sweeps.push(e)})}n.remove(10),n.createWithTimeout("<b>Success!</b> Sweeps Imported")},function(){n.remove(10),n.createWithTimeout("<b>Error!</b> Import failed")})})},this.toggleSweepOptionsModal=function(e){var r=t.open({templateUrl:"/static/teams/partials/modals/export_progress_modal.html",controller:"SweepOptionsModalInstanceCtrl",controllerAs:"modal",resolve:{team:function(){return s},optionString:function(){return e.options}}});r.result.then(function(t){e.options=t})},this.toggleCreateSweepDialog=function(){var r=t.open({templateUrl:"/static/teams/partials/modals/create_sweep_modal.html",controller:"NewSweepModalInstanceCtrl",controllerAs:"modal",resolve:{team_key:function(){return e.team_key},progress:function(){return s}}});r.result.then(function(e){n.create("Creating Sweep...",8),e.hour=e.hourNum.toString(),e.year=e.dt.getFullYear().toString(),e.month=(e.dt.getMonth()+1).toString(),e.day=e.dt.getDate().toString();for(var t=e.repeats||0,r=[e],a=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+7*t)},s=1;t>=s;s++){var m=angular.copy(r[0]),l=a(m.dt,s);m.year=l.getFullYear().toString(),m.month=(l.getMonth()+1).toString(),m.day=l.getDate().toString(),r.push(m)}for(var u=0;u<r.length;u++)e=r[u],i.insertSweep(e).then(function(e){e.hourNum=parseInt(e.hour);var t=new Date(0);t.setFullYear(e.year),t.setMonth(parseInt(e.month)-1,parseInt(e.day)),e.dt=t,void 0==o.sweeps&&(o.sweeps=[],p.sweeps=o.sweeps);for(var r=!1,a=0;a<p.sweeps.length;a++)if(p.sweeps[a].dt.getTime()<e.dt.getTime()||p.sweeps[a].dt.getTime()===e.dt.getTime()&&p.sweeps[a].hourNum<e.hourNum){p.sweeps.splice(a,0,e),r=!0;break}r||p.sweeps.push(e),n.remove(8),n.createWithTimeout("<b>Success!</b> Sweep created")},function(){n.remove(8),n.createWithTimeout("<b>Error!</b> Sweep not created")})})}}]);
angular.module("ModalControllers",[]).controller("ModalToggleCtrl",["$modal",function(e){this.toggleSignOutModal=function(){e.open({templateUrl:"logout_modal.html",controller:"SimpleModalInstanceCtrl",controllerAs:"modal"})},this.toggleEditProfileModal=function(){e.open({templateUrl:"edit_profile_modal.html",controller:"SimpleModalInstanceCtrl",controllerAs:"modal"})}}]).controller("SimpleModalInstanceCtrl",["$modalInstance",function(e){this.cancel=function(){e.dismiss("cancel")}}]).controller("NewMemberModalInstanceCtrl",["$modalInstance","$controller",function(e,t){angular.extend(this,t("SimpleModalInstanceCtrl",{$modalInstance:e})),this.email="",this.addMember=function(t){return t=t.trim(),0===t.length?void e.dismiss("cancel"):(t.indexOf("@")<0&&(t+="@gmail.com"),void e.close(t))}}]).controller("DeleteTeamModalInstanceCtrl",["$modalInstance","$controller",function(e,t){angular.extend(this,t("SimpleModalInstanceCtrl",{$modalInstance:e})),this.remove=function(){e.close()}}]).controller("ImportSweepsModalInstanceCtrl",["$modalInstance","$controller","teams",function(e,t,n){angular.extend(this,t("SimpleModalInstanceCtrl",{$modalInstance:e})),this.teams=n,this.selectedTeam=n[0],this["import"]=function(){e.close(this.selectedTeam)}}]).controller("CreateTeamModalInstanceCtrl",["$modalInstance","$controller","user","courses",function(e,t,n,o){angular.extend(this,t("SimpleModalInstanceCtrl",{$modalInstance:e})),this.teamName="",this.teamMembers="",this.includeLeader=!1;var s=this;this.courses=angular.copy(o.ids),this.offeredCourses=o,this.getCourseTitle=function(e){for(var t=0;t<o.ids.length;t++)if(o.ids[t]===e)return o.titles[t];return""},this.add=function(){for(var t={name:s.teamName,leader:n.email,members:[],courses:s.courses},o=s.teamMembers.split(","),a=0;a<o.length;a++){var r=o[a].trim();0!==r.length&&(r.indexOf("@")<0&&(r+="@gmail.com"),t.members.push({email:r,visibility:"NOT_CHOSEN"}))}s.includeLeader&&t.members.push({email:n.email,visibility:"ALL_MEMBERS"}),e.close(t)}}]).controller("ExportModalParentCtrl",["$modalInstance","$controller","team","$window",function(e,t,n){angular.extend(this,t("SimpleModalInstanceCtrl",{$modalInstance:e})),this.team=n,this.fullname=!0,this.username=!0,this.hasTimestamp=!0,this.pointValue="tasks",this.pointsPerUnit=parseInt(localStorage.getItem("ppu"))||1,this.pointsPerTask=parseInt(localStorage.getItem("ppt"))||1,this.includeCourseProgress=!1,this.includeTrackProgress=!1,this.timezone="EST",this.timezones=["UTC","PDT","MDT","CDT","EDT","PST","MST","CST","EST"];this.generate=function(){var e="team_urlsafe="+n.team_key;this.fullname&&(e+="&student_name=true"),this.username&&(e+="&rose_username=true"),this.hasTimestamp&&(e+="&timezone="+this.timezone),this.includeCourseProgress&&(e+="&course_progress=true"),this.includeTrackProgress&&(e+="&track_progress=true"),"points"===this.pointValue?(e+="&ppu="+this.pointsPerUnit,localStorage.setItem("ppu",this.pointsPerUnit)):(e+="&ppt="+this.pointsPerTask,localStorage.setItem("ppt",this.pointsPerTask)),this.onPostGenerate(e)}}]).controller("ExportModalInstanceCtrl",["$modalInstance","$controller","team","$window",function(e,t,n,o){angular.extend(this,t("ExportModalParentCtrl",{$modalInstance:e,$controller:t,team:n})),this.onPostGenerate=function(t){var n="http://"+o.location.host+"/teams/export.csv?";o.open(n+encodeURI(t),"_blank"),e.close()},this.doneButtonText="Generate"}]).controller("NewSweepModalInstanceCtrl",["$modalInstance","$controller","team_key","$modal","progress",function(e,t,n,o,s){angular.extend(this,t("SimpleModalInstanceCtrl",{$modalInstance:e}));var a=localStorage.getItem("ppu")||"1";this.sweep={dt:new Date,team_key:n,options:"student_name=true&rose_username=true&timezone=EST&ppu="+a,hourNum:12,tz:"EST"},this.timezones=["UTC","PDT","MDT","CDT","EDT","PST","MST","CST","EST"],this.today=new Date,this.doesRepeat=!1,this.repeatWeeks=0,this.stopEvent=function(e){e.preventDefault(),e.stopPropagation()},this.addSweep=function(){this.doesRepeat&&(this.sweep.repeats=this.repeatWeeks),e.close(this.sweep)};var r=this;this.toggleSweepOptionsModal=function(){var e=o.open({templateUrl:"/static/teams/partials/modals/export_progress_modal.html",controller:"SweepOptionsModalInstanceCtrl",controllerAs:"modal",resolve:{team:function(){return s},optionString:function(){return r.sweep.options}}});e.result.then(function(e){r.sweep.options=e})}}]).controller("SweepOptionsModalInstanceCtrl",["$modalInstance","$controller","team","optionString",function(e,t,n,o){if(angular.extend(this,t("ExportModalParentCtrl",{$modalInstance:e,$controller:t,team:n})),this.onPostGenerate=function(t){e.close(t)},this.doneButtonText="Done",""!==o){var s={};o=o.split("&");for(var a=0;a<o.length;a++){var r=o[a].split("=");s[r[0]]=r[1]}this.fullname="true"===s.student_name,this.username="true"===s.rose_username,this.hasTimestamp=void 0!=s.timezone,this.pointValue=s.ppu?"points":"tasks",this.pointsPerUnit=parseInt(s.ppu)||parseInt(localStorage.getItem("ppu"))||1,this.pointsPerTask=parseInt(s.ppt)||parseInt(localStorage.getItem("ppt"))||1,this.includeCourseProgress="true"===s.course_progress,this.includeTrackProgress="true"===s.track_progress,this.timezone=s.timezone||"EST",this.timezones=["UTC","PDT","MDT","CDT","EDT","PST","MST","CST","EST"]}}]);
angular.module("OverviewControllers",[]).controller("OverviewCtrl",function(){}).controller("PreviewCtrl",["oAuth","$location","sidebar","$rootScope","snackbar","userEmail",function(t,e,o,n,r,i){t.check().then(function(){e.path("/overview"),o.show.set(!0),n.$apply()}),this.signup=function(){t.signup().then(function(){t.getUserInfo().then(function(t){t.email!==i&&r.createWithTimeout("<b>Danger!</b> Signing up for teams with another account may cause errors!",6e3)}),e.path("/overview"),o.show.set(!0)},function(){r.createWithTimeout("<b>Error!</b> Sign up failed")})}}]).controller("SidebarCtrl",["sidebar","$location","$scope",function(t,e,o){this.routes=t.routes,this.show=t.show.get();var n=this;o.$watch(function(){return t.show.get()},function(t){n.show=t}),this.isActive=function(t){var o=e.path();return t=t.substring(1),o.startsWith(t)}}]);
angular.module("TeamControllers",[]).controller("TeamsCtrl",["$modal","teams",function(r,e){this.items=e.teams}]).controller("TeamsParentCtrl",["$modal","team",function(r,e){this.toggleExportProgressModal=function(){r.open({templateUrl:"/static/teams/partials/modals/export_progress_modal.html",controller:"ExportModalInstanceCtrl",controllerAs:"modal",resolve:{team:function(){return e}}})}}]).controller("TeamsCourseCtrl",["$modal","team","$controller",function(r,e,s){if(angular.extend(this,s("TeamsParentCtrl",{$modal:r,team:e})),this.team=e,void 0==e.members_progress&&(this.team.members_progress=[]),this.courses=[],e.members_progress.length>0){courses=e.members_progress[0].course_progress;for(var t=0;t<courses.length;t++)this.courses.push(courses[t].name)}}]).controller("TeamsTrackCtrl",["$routeParams","team","$modal","$controller",function(r,e,s,t){if(angular.extend(this,t("TeamsParentCtrl",{$modal:s,team:e})),this.team=e,void 0==e.members_progress&&(this.team.members_progress=[]),this.course=r.course_name,this.tracks=[],e.members_progress.length>0)for(var o=e.members_progress[0].course_progress,a=0;a<o.length;a++)if(o[a].name===this.course){this.courseNum=a;for(var m=o[a].track_progress,n=0;n<m.length;n++)this.tracks.push(m[n].name);break}var l=this;this.getProgressForMemberTrack=function(r,e){return r.course_progress[l.courseNum].track_progress[e].progress}}]).controller("TeamsUnitCtrl",["$routeParams","team","$modal","$controller",function(r,e,s,t){if(angular.extend(this,t("TeamsParentCtrl",{$modal:s,team:e})),this.team=e,void 0==e.members_progress&&(this.team.members_progress=[]),this.course=r.course_name,this.track=r.track_name,this.units=[],e.members_progress.length>0)for(var o=e.members_progress[0].course_progress,a=0;a<o.length;a++)if(o[a].name===this.course){this.courseNum=a;for(var m=o[a].track_progress,n=0;n<m.length;n++)if(m[n].name===this.track){this.trackNum=n;for(var l=m[n].unit_progress,i=0;i<l.length;i++)this.units.push(l[i].name);break}break}var c=this;this.getProgressForMemberUnit=function(r,e){return r.course_progress[c.courseNum].track_progress[c.trackNum].unit_progress[e].progress}}]);
angular.module("TeamServices",[]).factory("sidebar",function(){var e=!0;return{routes:[{name:"Overview",href:"#/overview/"},{name:"Teams",href:"#/teams/"},{name:"Invites",href:"#/invites/"},{name:"Manage",href:"#/manage/"}],show:{get:function(){return e},set:function(t){e=t}}}}).factory("userEmail",["$rootScope",function(e){return e.userEmail}]).service("oAuth",["$q","$location",function(e,t){var i=function(t){return function(){var i=e.defer();return gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:t},function(e){e.error?i.reject(e):i.resolve(e)}),i.promise}};this.signup=i(!1),this.check=i(!0),this.execute=function(t){var i=e.defer();return gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:!0},function(){t.execute(function(e){e.code?i.reject(e):i.resolve(e.result)})}),i.promise},this.getUserInfo=function(){return this.execute(gapi.client.oauth2.userinfo.get())}}]).service("api",["oAuth","$q",function(e,t){var i={};this.deleteCache=function(){i={}};var n=function(n,r){return function(s){var a=t.defer();return void 0!=i[n]&&void 0==s?(a.resolve(i[n]),a.promise):(e.execute(r).then(function(e){i[n]=e,a.resolve(e)},function(e){a.reject(e)}),a.promise)}},r=function(n,r){return function(s){var a=t.defer();return void 0!=i[n+s.team_key]?(a.resolve(i[n+s.team_key]),a.promise):(e.execute(r(s)).then(function(e){i[n+s.team_key]=e,a.resolve(e)},function(e){a.reject(e)}),a.promise)}};this.deleteTeam=function(t){if(void 0!=i.get_teams)for(var n=i.get_teams.teams,r=0;r<n.length;r++)if(t.team_key==n[r].team_key){n.splice(r,1);break}return e.execute(gapi.client.teams["delete"](t))},this.insertTeam=function(n){var r=t.defer(),s=void 0!=i.get_teams,a=void 0,o=void 0==n.team_key;return s&&(a=i.get_teams.teams,void 0==a&&(i.get_teams.teams=[],a=i.get_teams.teams)),e.execute(gapi.client.teams.insert(n)).then(function(e){if(s)if(o)a.push(e);else for(var t=0;t<a.length;t++)if(e.team_key===a[t].team_key){a[t]=e;break}r.resolve(e)},function(e){r.reject(e)}),r.promise},this.getInvites=n("get_invites",gapi.client.teams.invites.list()),this.editInvite=function(t){return e.execute(gapi.client.teams.invites.respond(t))},this.getTeams=n("get_teams",gapi.client.teams.list.all()),this.getLeadTeams=n("get_lead_teams",gapi.client.teams.list.leader()),this.getProgress=r("progress",gapi.client.teams.progress),this.getSweeps=r("sweep",gapi.client.teams.sweeps.get),this.insertSweep=function(t){return e.execute(gapi.client.teams.sweeps.insert(t))},this.deleteSweep=function(t){return e.execute(gapi.client.teams.sweeps["delete"](t))},this.getCourses=n("courses",gapi.client.teams.courses())}]);
angular.module("TeamDirectives",[]).directive("teamTitle",function(){return{restrict:"E",scope:{team:"="},templateUrl:"/static/teams/partials/components/team_title.html"}}).directive("routeLoadingIndicator",["$rootScope",function(e){return{restrict:"E",templateUrl:"/static/teams/partials/components/loading_spinner.html",link:function(t,n,r){e.$on("$routeChangeStart",function(){e.isRouteLoading=!0}),e.$on("$routeChangeSuccess",function(){e.isRouteLoading=!1})}}}]).filter("percentage",["$filter",function(e){return function(t,n){return e("number")(100*t,n)+"%"}}]).filter("pendingSweeps",function(){return function(e){var t=new Date,n=new Date(0);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth(),t.getDate());var r=t.getHours(),i=[];return angular.forEach(e,function(e){(e.dt.getTime()>n.getTime()||e.dt.getTime()===n.getTime()&&e.hourNum>r)&&i.push(e)}),i}}).filter("firedSweeps",function(){return function(e){var t=new Date,n=new Date(0);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth(),t.getDate());var r=t.getHours(),i=[];return angular.forEach(e,function(e){(e.dt.getTime()<n.getTime()||e.dt.getTime()===n.getTime()&&e.hourNum<=r)&&i.push(e)}),i}});
!function(a){"use strict";var n=a.module("angular.snackbar",[]);n.factory("snackbar",["$rootScope",function(a){return{createWithTimeout:function(n,e){a.$broadcast("createSnackbarWithTimeout",{content:n,duration:e})},create:function(n,e){a.$broadcast("createSnackbar",{content:n,id:e})},remove:function(n){a.$broadcast("removeSnackbar",{id:n})}}}]),n.directive("snackbar",["$rootScope","$compile","$timeout",function(n,e,c){return function(t,r,o){var s=a.element(r),i=o.snackbarDuration||3e3,u=o.snackbarRemoveDelay||20;n.$on("createSnackbarWithTimeout",function(n,r){var o='<div class="snackbar snackbar-opened"><span class="snackbar-content">'+r.content+"</span></div>",b=a.element(e(o)(t));s.append(b),c(function(){b.removeClass("snackbar-opened"),c(function(){b.remove()},u,!1)},r.duration||i,!1)}),n.$on("createSnackbar",function(n,c){var r='<div class="snackbar snackbar-opened snackbar-id-'+c.id+'"><span class="snackbar-content">'+c.content+"</span></div>",o=a.element(e(r)(t));s.append(o)}),n.$on("removeSnackbar",function(n,e){var c=a.element(s[0].getElementsByClassName("snackbar-id-"+e.id));c.removeClass("snackbar-opened"),c.remove()})}}])}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiLCJhcHAuanMiLCJpbnZpdGVzX2NvbnRyb2xsZXJzLmpzIiwibWFuYWdlX2NvbnRyb2xsZXJzLmpzIiwibW9kYWxfY29udHJvbGxlcnMuanMiLCJvdmVydmlld19jb250cm9sbGVycy5qcyIsInRlYW1zX2NvbnRyb2xsZXJzLmpzIiwic2VydmljZXMuanMiLCJkaXJlY3RpdmVzLmpzIiwiYW5ndWxhci5zbmFja2Jhci5taW4uanMiXSwibmFtZXMiOlsiQ0xJRU5UX0lEIiwiU0NPUEVTIiwiUkVTUE9OU0VfVFlQRSIsImluaXQiLCJhcGlzVG9Mb2FkIiwiYXBpUm9vdCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsImluZGV4T2YiLCJjYWxsYmFjayIsImFuZ3VsYXIiLCJib290c3RyYXAiLCJkb2N1bWVudCIsImdhcGkiLCJjbGllbnQiLCJsb2FkIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicmVzb2x2ZSIsInRlYW1zIiwiYXBpIiwiZ2V0VGVhbXMiLCJ0ZWFtIiwiJHJvdXRlIiwiZ2V0UHJvZ3Jlc3MiLCJjdXJyZW50IiwicGFyYW1zIiwiaW52aXRlcyIsImdldEludml0ZXMiLCJnZXRMZWFkVGVhbXMiLCJ1c2VyIiwib0F1dGgiLCJnZXRVc2VySW5mbyIsImNvdXJzZXMiLCJnZXRDb3Vyc2VzIiwic3dlZXBzIiwiZ2V0U3dlZXBzIiwicHJvZ3Jlc3MiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwicnVuIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsInNpZGViYXIiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZUNsYXNzIiwicXVlcnlTZWxlY3RvciIsImFkZENsYXNzIiwiY2hlY2siLCJ0aGVuIiwicGF0aCIsInNob3ciLCJzZXQiLCJzbmFja2JhciIsInRoaXMiLCJwZW5kaW5nIiwiYWNjZXB0ZWQiLCJhbGxJbnZpdGVzIiwidW5kZWZpbmVkIiwiaSIsImxlbmd0aCIsInJlc3BvbnNlIiwicHVzaCIsInNlbGYiLCJlZGl0SW52aXRlIiwiaW52aXRlIiwibmV3UmVzcG9uc2UiLCJyZWZyZXNoVGVhbXMiLCJ0ZWFtX2tleSIsInNwbGljZSIsImNyZWF0ZSIsInJlbW92ZSIsImNyZWF0ZVdpdGhUaW1lb3V0IiwicGVuZGluZ1Jlc3BvbnNlcyIsImFjY2VwdGVkUmVzcG9uc2VzIiwicmVzcG9uc2VPcHRpb25zIiwiTk9UX0NIT1NFTiIsIkFMTF9NRU1CRVJTIiwiVEVBTV9MRUFERVIiLCJSRUpFQ1RfSU5WSVRFIiwiJG1vZGFsIiwiaXRlbXMiLCJ0b2dnbGVDcmVhdGVUZWFtTW9kYWwiLCJtb2RhbEluc3RhbmNlIiwib3BlbiIsImNvbnRyb2xsZXJBcyIsInJlc3VsdCIsIm5ld1RlYW0iLCJpbnNlcnRUZWFtIiwiZXJyb3IiLCIkcm91dGVQYXJhbXMiLCIkc2NvcGUiLCJ0ZWFtTnVtYmVyIiwiZ29Ub1N3ZWVwIiwib2ZmZXJlZENvdXJzZXMiLCJjb25zb2xlIiwibG9nIiwiZ2V0Q291cnNlVGl0bGUiLCJwcmVmaXgiLCJpZHMiLCJ0aXRsZXMiLCJ0aW1lc0NoYW5nZWQiLCJkZXJlZ2lzdGVyIiwiJHdhdGNoIiwib25JbnB1dE1hZGVEaXJ0eSIsImRlbGV0ZU1lbWJlciIsIm1lbWJlciIsIm1lbWJlcnMiLCJlbWFpbCIsInNhdmVUZWFtIiwidG9nZ2xlRGVsZXRlVGVhbU1vZGFsIiwiZGVsZXRlVGVhbSIsInRvZ2dsZUNyZWF0ZU1lbWJlck1vZGFsIiwibmV3RW1haWwiLCJuZXdNZW1iZXIiLCJ2aXNpYmlsaXR5IiwibmV3TWVtYmVycyIsInZpc2liaWxpdHlPcHRpb25zIiwidG9kYXkiLCJEYXRlIiwidGltZXpvbmVzIiwiZG9uZSIsInN3ZWVwIiwiaG91ck51bSIsInBhcnNlSW50IiwiaG91ciIsImR0Iiwic2V0RnVsbFllYXIiLCJ5ZWFyIiwic2V0TW9udGgiLCJtb250aCIsImRheSIsInNhdmVTd2VlcCIsInRvU3RyaW5nIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJpbnNlcnRTd2VlcCIsIm5ld1N3ZWVwIiwiZGVsZXRlU3dlZXAiLCJzd2VlcF9rZXkiLCJzdG9wRXZlbnQiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInRvZ2dsZUltcG9ydFN3ZWVwc0RpYWxvZyIsInRlYW1Ub0ltcG9ydEZyb20iLCJuYW1lIiwiaW1wb3J0ZWRTd2VlcHMiLCJpbnNlcnRlZCIsImdldFRpbWUiLCJ0b2dnbGVTd2VlcE9wdGlvbnNNb2RhbCIsIm9wdGlvblN0cmluZyIsIm9wdGlvbnMiLCJuZXdPcHRpb25zIiwidG9nZ2xlQ3JlYXRlU3dlZXBEaWFsb2ciLCJyZXBlYXRzIiwibmV3U3dlZXBzIiwibmV4dFdlZWsiLCJkYXRlIiwidGltZXMiLCJjb3B5IiwiaiIsInRvZ2dsZVNpZ25PdXRNb2RhbCIsInRvZ2dsZUVkaXRQcm9maWxlTW9kYWwiLCIkbW9kYWxJbnN0YW5jZSIsImNhbmNlbCIsImRpc21pc3MiLCIkY29udHJvbGxlciIsImV4dGVuZCIsImFkZE1lbWJlciIsInRyaW0iLCJjbG9zZSIsInNlbGVjdGVkVGVhbSIsInRlYW1OYW1lIiwidGVhbU1lbWJlcnMiLCJpbmNsdWRlTGVhZGVyIiwiYWRkIiwibGVhZGVyIiwic3BsaXQiLCJmdWxsbmFtZSIsInVzZXJuYW1lIiwiaGFzVGltZXN0YW1wIiwicG9pbnRWYWx1ZSIsInBvaW50c1BlclVuaXQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicG9pbnRzUGVyVGFzayIsImluY2x1ZGVDb3Vyc2VQcm9ncmVzcyIsImluY2x1ZGVUcmFja1Byb2dyZXNzIiwidGltZXpvbmUiLCJnZW5lcmF0ZSIsImxhbmRpbmdRcyIsInNldEl0ZW0iLCJvblBvc3RHZW5lcmF0ZSIsIiR3aW5kb3ciLCJxcyIsImxhbmRpbmdVcmwiLCJlbmNvZGVVUkkiLCJkb25lQnV0dG9uVGV4dCIsInBwdURlZmF1bHQiLCJ0eiIsImRvZXNSZXBlYXQiLCJyZXBlYXRXZWVrcyIsImFkZFN3ZWVwIiwib3AiLCJ1c2VyRW1haWwiLCIkYXBwbHkiLCJzaWdudXAiLCJ1c2VySW5mbyIsInJvdXRlcyIsImdldCIsInZhbHVlIiwiaXNBY3RpdmUiLCJyb3V0ZVVybCIsInN1YnN0cmluZyIsInN0YXJ0c1dpdGgiLCJ0b2dnbGVFeHBvcnRQcm9ncmVzc01vZGFsIiwibWVtYmVyc19wcm9ncmVzcyIsImNvdXJzZV9wcm9ncmVzcyIsImNvdXJzZSIsImNvdXJzZV9uYW1lIiwidHJhY2tzIiwiY291cnNlTnVtIiwiY291cnNlVHJhY2tzIiwidHJhY2tfcHJvZ3Jlc3MiLCJnZXRQcm9ncmVzc0Zvck1lbWJlclRyYWNrIiwidHJhY2tOdW0iLCJ0cmFjayIsInRyYWNrX25hbWUiLCJ1bml0cyIsInRyYWNrVW5pdHMiLCJ1bml0X3Byb2dyZXNzIiwiayIsImdldFByb2dyZXNzRm9yTWVtYmVyVW5pdCIsInVuaXROdW0iLCJmYWN0b3J5IiwiaXNTaG93aW5nIiwiaHJlZiIsInNob3dpbmciLCJzZXJ2aWNlIiwiJHEiLCJzaWduaW4iLCJpbW1lZGlhdGUiLCJwIiwiZGVmZXIiLCJhdXRoIiwiYXV0aG9yaXplIiwiY2xpZW50X2lkIiwic2NvcGUiLCJhdXRoUmVzdWx0IiwicmVqZWN0IiwicHJvbWlzZSIsImV4ZWN1dGUiLCJhcGlNZXRob2QiLCJyZXNwIiwiY29kZSIsIm9hdXRoMiIsInVzZXJpbmZvIiwiY2FjaGUiLCJkZWxldGVDYWNoZSIsImNhY2hlZEFwaUNhbGwiLCJjYWNoZUtleSIsImZvcmNlUmVmcmVzaCIsImNhY2hlZFRlYW1BcGlDYWxsIiwidHlwZSIsInVwZGF0ZUNhY2hlIiwiaW5zZXJ0IiwibGlzdCIsInJlc3BvbmQiLCJhbGwiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsImxpbmsiLCJlbGVtIiwiYXR0cnMiLCIkb24iLCJpc1JvdXRlTG9hZGluZyIsImZpbHRlciIsIiRmaWx0ZXIiLCJpbnB1dCIsImRlY2ltYWxzIiwibm93IiwiY29tcGFyZURhdGUiLCJnZXRIb3VycyIsImZpbHRlcmVkIiwiZm9yRWFjaCIsIml0ZW0iLCJhIiwibiIsImUiLCIkYnJvYWRjYXN0IiwiY29udGVudCIsImR1cmF0aW9uIiwiaWQiLCJjIiwidCIsInIiLCJvIiwicyIsInNuYWNrYmFyRHVyYXRpb24iLCJ1Iiwic25hY2tiYXJSZW1vdmVEZWxheSIsImIiLCJhcHBlbmQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIl0sIm1hcHBpbmdzIjoiQUFxQkFBLFVBQVksOEVBTVpDLE9BQVMsaURBT1RDLGNBQWdCLGlCQVFoQkMsS0FBTyxXQUNOLEdBQUlDLEdBQ0FDLEVBQVUsS0FBT0MsT0FBT0MsU0FBU0MsS0FBTyxVQUVNLE1BQTlDRixPQUFPQyxTQUFTQyxLQUFLQyxRQUFRLGVBQ2hDSixFQUFVLDRDQUVYLElBQUlLLEdBQVcsV0FDTSxLQUFkTixHQUVMTyxRQUFRQyxVQUFVQyxVQUFXLFlBRy9CVCxHQUFhLEVBQ2JVLEtBQUtDLE9BQU9DLEtBQUssUUFBUyxLQUFNTixFQUFVTCxHQUMxQ1MsS0FBS0MsT0FBT0MsS0FBSyxTQUFVLEtBQU1OO0FDekRsQyxZQUVBQyxTQUFRTSxPQUFPLFdBQVksa0JBQW1CLG1CQUFvQixzQkFBdUIsb0JBQzlELGVBQWlCLG9CQUFxQixlQUFnQixVQUFXLGlCQUNqRSxxQkFDMUJDLFFBQVEsaUJBQ1AsU0FBU0MsR0FDUEEsRUFDR0MsS0FBSyxjQUNKQyxZQUFhLHVDQUNiQyxXQUFZLDZCQUViRixLQUFLLGFBQ0pDLFlBQWEsc0NBQ2JDLFdBQVksMkJBRWJGLEtBQUssV0FDSkMsWUFBYSxvQ0FDYkMsV0FBWSxxQkFDWkMsU0FDRUMsT0FBUSxNQUFPLFNBQVNDLEdBQ3RCLE1BQU9BLEdBQUlDLGdCQUloQk4sS0FBSyw0QkFDSkMsWUFBYSwyQ0FDYkMsV0FBWSw2QkFDWkMsU0FDRUksTUFBTyxNQUFPLFNBQVUsU0FBU0YsRUFBS0csR0FDcEMsTUFBT0gsR0FBSUksWUFBWUQsRUFBT0UsUUFBUUMsYUFJM0NYLEtBQUssZ0RBQ0pDLFlBQWEsMENBQ2JDLFdBQVksMkJB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ZWYsRUFBRUksSUFBS0MsR0FBRTFQLFlBQVksbUJBQW1CMFAsRUFBRWhPLGdCQUFnQmxFIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgMjAxMyBTZmVpciBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQ2xpZW50IElEIG9mIHRoZSBhcHBsaWNhdGlvbiAoZnJvbSB0aGUgQVBJcyBDb25zb2xlKS5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG4vLyBCZWxvdyBpcyBmb3IgdGhlIGRlcGxveWVkIGFuZCBsb2NhbGhvc3QuXG5DTElFTlRfSUQgPSAnOTYzMDA5MDY1MDg3LTJhNWNjbDVyaG00Z2hnbTg4bGkyMWZramdzdTVldWEwQGRldmVsb3Blci5nc2VydmljZWFjY291bnQuY29tJztcbi8qKlxuICogU2NvcGVzIHVzZWQgYnkgdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cblNDT1BFUyA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL3VzZXJpbmZvLmVtYWlsJztcblxuLyoqXG4gKiBSZXNwb25zZSB0eXBlIG9mIHRoZSBhdXRoIHRva2VuLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cblJFU1BPTlNFX1RZUEUgPSAndG9rZW4gaWRfdG9rZW4nO1xuXG4vKipcbiAqIEluaXRpYWxpemVzIHRoZSBhcHBsaWNhdGlvbi4gSXQgbG9hZHMgYXN5bmNocm9ub3VzbHkgYWxsIG5lZWRlZCBsaWJyYXJpZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ31cbiAqICAgICAgICAgICAgYXBpUm9vdCBSb290IG9mIHRoZSBBUEkncyBwYXRoLlxuICovXG5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdHZhciBhcGlzVG9Mb2FkO1xuXHR2YXIgYXBpUm9vdCA9ICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArICcvX2FoL2FwaSc7XG5cdC8vIENoYW5nZSB0byBodHRwcyBhcHBzcG90IGRvbWFpbiBmb3IgZGVwbG95bWVudC5cblx0aWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0LmluZGV4T2YoXCJsb2NhbGhvc3RcIikgPT09IC0xKSB7XG5cdFx0YXBpUm9vdCA9IFwiaHR0cHM6Ly9yb3NlYm90aWNzd2ViLmFwcHNwb3QuY29tL19haC9hcGlcIlxuXHR9XG5cdHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICgtLWFwaXNUb0xvYWQgPT0gMCkge1xuXHRcdFx0Ly8gYm9vdHN0cmFwIG1hbnVhbGx5IGFuZ3VsYXJqcyBhZnRlciBvdXIgYXBpIGFyZSBsb2FkZWRcblx0XHRcdGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbXCJUZWFtQXBwXCJdKTtcblx0XHR9XG5cdH1cblx0YXBpc1RvTG9hZCA9IDI7IC8vIG11c3QgbWF0Y2ggbnVtYmVyIG9mIGNhbGxzIHRvIGdhcGkuY2xpZW50LmxvYWQoKVxuXHRnYXBpLmNsaWVudC5sb2FkKCd0ZWFtcycsICd2MScsIGNhbGxiYWNrLCBhcGlSb290KTtcblx0Z2FwaS5jbGllbnQubG9hZCgnb2F1dGgyJywgJ3YyJywgY2FsbGJhY2spO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuYW5ndWxhci5tb2R1bGUoJ1RlYW1BcHAnLCBbJ1RlYW1Db250cm9sbGVycycsICdNb2RhbENvbnRyb2xsZXJzJywgJ092ZXJ2aWV3Q29udHJvbGxlcnMnLCAnTWFuYWdlQ29udHJvbGxlcnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RlYW1TZXJ2aWNlcycsICAnSW52aXRlQ29udHJvbGxlcnMnLCAndWkuYm9vdHN0cmFwJywgJ25nUm91dGUnLCAnVGVhbURpcmVjdGl2ZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuZ3VsYXIuc25hY2tiYXInXSlcbi5jb25maWcoWyckcm91dGVQcm92aWRlcicsXG4gIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgIC53aGVuKCcvb3ZlcnZpZXcvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvb3ZlcnZpZXcuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdPdmVydmlld0N0cmwgYXMgb3ZlcnZpZXcnXG4gICAgICB9KVxuICAgICAgLndoZW4oJy9wcmV2aWV3LycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL3ByZXZpZXcuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdQcmV2aWV3Q3RybCBhcyBwcmV2aWV3J1xuICAgICAgfSlcbiAgICAgIC53aGVuKCcvdGVhbXMvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvdGVhbXMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUZWFtc0N0cmwgYXMgdGVhbXMnLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgdGVhbXM6IFsnYXBpJywgZnVuY3Rpb24oYXBpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldFRlYW1zKCk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC53aGVuKCcvdGVhbXMvOnRlYW1fa2V5L2NvdXJzZXMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy90ZWFtc19jb3Vyc2UuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUZWFtc0NvdXJzZUN0cmwgYXMgY291cnNlcycsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICB0ZWFtOiBbXCJhcGlcIiwgXCIkcm91dGVcIiwgZnVuY3Rpb24oYXBpLCAkcm91dGUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0UHJvZ3Jlc3MoJHJvdXRlLmN1cnJlbnQucGFyYW1zKTtcbiAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLndoZW4oJy90ZWFtcy86dGVhbV9rZXkvY291cnNlcy86Y291cnNlX25hbWUvdHJhY2tzJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvdGVhbXNfdHJhY2suaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUZWFtc1RyYWNrQ3RybCBhcyB0cmFja3MnLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgdGVhbTogW1wiYXBpXCIsIFwiJHJvdXRlXCIsIGZ1bmN0aW9uKGFwaSwgJHJvdXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldFByb2dyZXNzKCRyb3V0ZS5jdXJyZW50LnBhcmFtcyk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC53aGVuKCcvdGVhbXMvOnRlYW1fa2V5L2NvdXJzZXMvOmNvdXJzZV9uYW1lL3RyYWNrcy86dHJhY2tfbmFtZS91bml0cycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL3RlYW1zX3VuaXQuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdUZWFtc1VuaXRDdHJsIGFzIHVuaXRzJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgIHRlYW06IFtcImFwaVwiLCBcIiRyb3V0ZVwiLCBmdW5jdGlvbihhcGksICRyb3V0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRQcm9ncmVzcygkcm91dGUuY3VycmVudC5wYXJhbXMpO1xuICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAud2hlbignL2ludml0ZXMvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvaW52aXRlcy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0ludml0ZXNDdHJsIGFzIGludml0ZXMnLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgaW52aXRlczogW1wiYXBpXCIsIGZ1bmN0aW9uKGFwaSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRJbnZpdGVzKCk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC53aGVuKCcvbWFuYWdlLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21hbmFnZS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ01hbmFnZUN0cmwgYXMgbWFuYWdlJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgIHRlYW1zOiBbXCJhcGlcIiwgZnVuY3Rpb24oYXBpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldExlYWRUZWFtcygpO1xuICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAud2hlbignL21hbmFnZS86dGVhbV9rZXknLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tYW5hZ2VfdGVhbS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ01hbmFnZVRlYW1DdHJsIGFzIG1hbmFnZScsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICB0ZWFtczogW1wiYXBpXCIsIGZ1bmN0aW9uKGFwaSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRMZWFkVGVhbXMoKTtcbiAgICAgICAgICB9XSxcbiAgICAgICAgICB1c2VyOiBbXCJvQXV0aFwiLCBmdW5jdGlvbihvQXV0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG9BdXRoLmdldFVzZXJJbmZvKCk7XG4gICAgICAgICAgfV0sXG4gICAgICAgICAgY291cnNlczogW1wiYXBpXCIsIGZ1bmN0aW9uIChhcGkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0Q291cnNlcygpO1xuICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAud2hlbignL21hbmFnZS86dGVhbV9rZXkvc3dlZXBzJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbWFuYWdlX3N3ZWVwcy5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ1N3ZWVwc1RlYW1DdHJsIGFzIHN3ZWVwcycsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICB0ZWFtczogW1wiYXBpXCIsIGZ1bmN0aW9uKGFwaSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRMZWFkVGVhbXMoKTtcbiAgICAgICAgICB9XSxcbiAgICAgICAgICBzd2VlcHM6IFtcImFwaVwiLCBcIiRyb3V0ZVwiLCBmdW5jdGlvbihhcGksICRyb3V0ZSkge1xuICAgICAgICBcdCAgcmV0dXJuIGFwaS5nZXRTd2VlcHMoJHJvdXRlLmN1cnJlbnQucGFyYW1zKTtcbiAgICAgICAgICB9XSxcbiAgICAgICAgICBwcm9ncmVzczogW1wiYXBpXCIsIFwiJHJvdXRlXCIsIGZ1bmN0aW9uKGFwaSwgJHJvdXRlKSB7XG4gICAgICAgIFx0ICByZXR1cm4gYXBpLmdldFByb2dyZXNzKCRyb3V0ZS5jdXJyZW50LnBhcmFtcyk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5vdGhlcndpc2Uoe1xuICAgICAgICByZWRpcmVjdFRvOiAnL292ZXJ2aWV3LydcbiAgICAgIH0pO1xuICB9XSlcbiAgLnJ1bihbXCIkcm9vdFNjb3BlXCIsIFwiJGxvY2F0aW9uXCIsIFwib0F1dGhcIiwgXCJzaWRlYmFyXCIsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRsb2NhdGlvbiwgb0F1dGgsIHNpZGViYXIpIHtcblx0ICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oaWRkZW4uY29udGFpbmVyXCIpKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcblx0ICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImRpdi5zcGlubmVyXCIpKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcblx0ICBvQXV0aC5jaGVjaygpLnRoZW4obnVsbCwgZnVuY3Rpb24oKSB7XG4gIFx0XHQkbG9jYXRpb24ucGF0aCgnL3ByZXZpZXcnKTtcbiAgXHRcdHNpZGViYXIuc2hvdy5zZXQoZmFsc2UpO1xuXHQgIH0pO1xuXHR9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnSW52aXRlQ29udHJvbGxlcnMnLCBbXSlcbi5jb250cm9sbGVyKCdJbnZpdGVzQ3RybCcsIFtcImludml0ZXNcIiwgXCJhcGlcIiwgXCJzbmFja2JhclwiLCBmdW5jdGlvbihpbnZpdGVzLCBhcGksIHNuYWNrYmFyKSB7XG5cdHRoaXMucGVuZGluZyA9IFtdO1xuXHR0aGlzLmFjY2VwdGVkID0gW107XG5cdHZhciBhbGxJbnZpdGVzID0gaW52aXRlc1tcImludml0ZXNcIl07XG5cdGlmIChhbGxJbnZpdGVzID09IHVuZGVmaW5lZCkge1xuXHRcdGFsbEludml0ZXMgPSBbXTtcblx0fVxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFsbEludml0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAoYWxsSW52aXRlc1tpXS5yZXNwb25zZSA9PT0gXCJOT1RfQ0hPU0VOXCIpIHtcblx0XHRcdHRoaXMucGVuZGluZy5wdXNoKGFsbEludml0ZXNbaV0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmFjY2VwdGVkLnB1c2goYWxsSW52aXRlc1tpXSk7XG5cdFx0fVxuXHR9XG5cdHZhciBzZWxmID0gdGhpcztcblx0dGhpcy5lZGl0SW52aXRlID0gZnVuY3Rpb24oaW52aXRlLCBuZXdSZXNwb25zZSkge1xuXHRcdHZhciByZWZyZXNoVGVhbXMgPSBmYWxzZTtcblx0XHRpZihpbnZpdGUucmVzcG9uc2UgPT09IFwiTk9UX0NIT1NFTlwiICYmIG5ld1Jlc3BvbnNlICE9PSBcIk5PVF9DSE9TRU5cIikge1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNlbGYucGVuZGluZy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoc2VsZi5wZW5kaW5nW2ldLnRlYW1fa2V5ID09PSBpbnZpdGUudGVhbV9rZXkpIHtcblx0XHRcdFx0XHRzZWxmLnBlbmRpbmcuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRzZWxmLmFjY2VwdGVkLnB1c2goaW52aXRlKTtcblx0XHRcdHJlZnJlc2hUZWFtcyA9IHRydWU7XG5cdFx0fVxuXHRcdGlmIChuZXdSZXNwb25zZSA9PT0gXCJSRUpFQ1RfSU5WSVRFXCIpIHtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzZWxmLmFjY2VwdGVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChzZWxmLmFjY2VwdGVkW2ldLnRlYW1fa2V5ID09PSBpbnZpdGUudGVhbV9rZXkpIHtcblx0XHRcdFx0XHRzZWxmLmFjY2VwdGVkLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmVmcmVzaFRlYW1zID0gdHJ1ZTtcblx0XHR9XG5cdFx0aW52aXRlLnJlc3BvbnNlID0gbmV3UmVzcG9uc2U7XG5cdFx0c25hY2tiYXIuY3JlYXRlKFwiU2VuZGluZyByZXNwb25zZS4uLlwiLCA0KTtcblx0XHRhcGkuZWRpdEludml0ZShpbnZpdGUpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRzbmFja2Jhci5yZW1vdmUoNCk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBSZXNwb25zZSBzYXZlZFwiKTtcblx0XHRcdGlmIChyZWZyZXNoVGVhbXMpIHtcblx0XHRcdFx0YXBpLmdldFRlYW1zKHRydWUpO1xuXHRcdFx0fVxuXHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0c25hY2tiYXIucmVtb3ZlKDQpO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFJlc3BvbnNlIG5vdCBzYXZlZFwiKTtcblx0XHR9KTtcblx0fVxuXHR0aGlzLnBlbmRpbmdSZXNwb25zZXMgPSBbXCJOT1RfQ0hPU0VOXCIsIFwiQUxMX01FTUJFUlNcIiwgXCJURUFNX0xFQURFUlwiLCBcIlJFSkVDVF9JTlZJVEVcIl07XG5cdHRoaXMuYWNjZXB0ZWRSZXNwb25zZXMgPSBbXCJBTExfTUVNQkVSU1wiLCBcIlRFQU1fTEVBREVSXCIsIFwiUkVKRUNUX0lOVklURVwiXTtcbiBcdHRoaXMucmVzcG9uc2VPcHRpb25zID0ge1wiTk9UX0NIT1NFTlwiIDogXCJObyByZXNwb25zZVwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIkFMTF9NRU1CRVJTXCIgOiBcIkFsbCBtZW1iZXJzIGNhbiBzZWUgbXkgcHJvZ3Jlc3NcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCJURUFNX0xFQURFUlwiOiBcIk9ubHkgdGhlIGxlYWRlciBjYW4gc2VlIG15IHByb2dyZXNzXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiUkVKRUNUX0lOVklURVwiOiBcIlJlamVjdCBpbnZpdGUgYW5kIG5vIG9uZSBjYW4gc2VlIG15IHByb2dyZXNzXCJ9O1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ01hbmFnZUNvbnRyb2xsZXJzJywgW10pXG4uY29udHJvbGxlcignTWFuYWdlQ3RybCcsIFtcIiRtb2RhbFwiLCBcInRlYW1zXCIsIFwiYXBpXCIsIFwic25hY2tiYXJcIiwgXCJvQXV0aFwiLCBmdW5jdGlvbigkbW9kYWwsIHRlYW1zLCBhcGksIHNuYWNrYmFyLCBvQXV0aCkge1xuXHR0aGlzLml0ZW1zID0gdGVhbXNbXCJ0ZWFtc1wiXTtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLnRvZ2dsZUNyZWF0ZVRlYW1Nb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21vZGFscy9jcmVhdGVfdGVhbV9tb2RhbC5odG1sJyxcblx0XHQgIGNvbnRyb2xsZXI6ICdDcmVhdGVUZWFtTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnLFxuXHRcdFx0cmVzb2x2ZToge1xuXHRcdFx0XHR1c2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gb0F1dGguZ2V0VXNlckluZm8oKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Y291cnNlczogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGFwaS5nZXRDb3Vyc2VzKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKG5ld1RlYW0pIHtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZShcIkNyZWF0aW5nIHRlYW0uLi5cIiwgMSk7XG5cdFx0XHRhcGkuaW5zZXJ0VGVhbShuZXdUZWFtKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0XHRzbmFja2Jhci5yZW1vdmUoMSk7XG5cdFx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+U3VjY2VzcyE8L2I+IFRlYW0gY3JlYXRlZFwiKTtcblx0XHRcdFx0aWYgKHRlYW1zW1widGVhbXNcIl0gPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0dGVhbXNbXCJ0ZWFtc1wiXSA9IFtdO1xuXHRcdFx0XHRcdHNlbGYuaXRlbXMgPSB0ZWFtc1tcInRlYW1zXCJdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRlYW1zW1widGVhbXNcIl0ucHVzaChyZXN1bHQpO1xuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0c25hY2tiYXIucmVtb3ZlKDEpO1xuXHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gVGVhbSBub3QgY3JlYXRlZFwiKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignTWFuYWdlVGVhbUN0cmwnLCBbXCIkcm91dGVQYXJhbXNcIiwgXCIkbW9kYWxcIiwgXCJ0ZWFtc1wiLCBcIiRzY29wZVwiLCBcInNuYWNrYmFyXCIsIFwiYXBpXCIsIFwiJGxvY2F0aW9uXCIsIFwidXNlclwiLCBcImNvdXJzZXNcIiwgZnVuY3Rpb24oJHJvdXRlUGFyYW1zLCAkbW9kYWwsIHRlYW1zLCAkc2NvcGUsIHNuYWNrYmFyLCBhcGksICRsb2NhdGlvbiwgdXNlciwgY291cnNlcykge1xuXHR2YXIgaXRlbXMgPSB0ZWFtc1tcInRlYW1zXCJdO1xuXHR2YXIgdGVhbU51bWJlciA9IC0xO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcblx0XHRpZihpdGVtc1tpXS50ZWFtX2tleSA9PSAkcm91dGVQYXJhbXMudGVhbV9rZXkpIHtcblx0XHRcdHRoaXMudGVhbSA9IGl0ZW1zW2ldO1xuXHRcdFx0dGVhbU51bWJlciA9IGk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblx0dGhpcy5nb1RvU3dlZXAgPSBmdW5jdGlvbigpIHtcblx0XHQkbG9jYXRpb24ucGF0aCgkbG9jYXRpb24ucGF0aCgpICsgXCIvc3dlZXBzXCIpO1xuXHR9O1xuXHR0aGlzLm9mZmVyZWRDb3Vyc2VzID0gY291cnNlcztcblx0Y29uc29sZS5sb2coY291cnNlcyk7XG5cdHRoaXMuZ2V0Q291cnNlVGl0bGUgPSBmdW5jdGlvbiAocHJlZml4KSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3Vyc2VzLmlkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGNvdXJzZXMuaWRzW2ldID09PSBwcmVmaXgpIHtcblx0XHRcdFx0cmV0dXJuIGNvdXJzZXMudGl0bGVzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gXCJcIjtcblx0fVxuXHR2YXIgdGltZXNDaGFuZ2VkID0gMDtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR2YXIgZGVyZWdpc3RlciA9ICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICBcdHJldHVybiBzZWxmLnRlYW07XG5cdH0sIGZ1bmN0aW9uKCl7XG5cdFx0dGltZXNDaGFuZ2VkKys7XG5cdFx0c2VsZi5vbklucHV0TWFkZURpcnR5KHRpbWVzQ2hhbmdlZCk7XG5cdH0sIHRydWUpO1xuXHR0aGlzLm9uSW5wdXRNYWRlRGlydHkgPSBmdW5jdGlvbih0aW1lc0NoYW5nZWQpICB7XG5cdFx0aWYodGltZXNDaGFuZ2VkID4gMSkge1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5XYXJuaW5nITwvYj4gWW91IG11c3QgcHJlc3Mgc3VibWl0IHRvIHNhdmUgeW91ciBjaGFuZ2VzXCIpO1xuXHRcdFx0ZGVyZWdpc3RlcigpO1xuXHRcdH1cblx0fTtcblx0dGhpcy5kZWxldGVNZW1iZXIgPSBmdW5jdGlvbihtZW1iZXIpIHtcblx0XHR2YXIgbWVtYmVycyA9IHNlbGYudGVhbS5tZW1iZXJzO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZihtZW1iZXJzW2ldLmVtYWlsID09IG1lbWJlci5lbWFpbCkge1xuXHRcdFx0XHRtZW1iZXJzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHR0aGlzLnNhdmVUZWFtID0gZnVuY3Rpb24oKSB7XG5cdFx0c25hY2tiYXIuY3JlYXRlKFwiU2F2aW5nIHRlYW0uLi5cIiwgMyk7XG5cdFx0YXBpLmluc2VydFRlYW0oc2VsZi50ZWFtKS50aGVuKGZ1bmN0aW9uKG5ld1RlYW0pIHtcblx0XHRcdHNuYWNrYmFyLnJlbW92ZSgzKTtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+U3VjY2VzcyE8L2I+IFRlYW0gc2F2ZWRcIik7XG5cdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRzbmFja2Jhci5yZW1vdmUoMyk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gVGVhbSBub3Qgc2F2ZWRcIik7XG5cdFx0fSk7XG5cdH1cblx0dGhpcy50b2dnbGVEZWxldGVUZWFtTW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tb2RhbHMvZGVsZXRlX3RlYW1fbW9kYWwuaHRtbCcsXG5cdFx0ICBjb250cm9sbGVyOiAnRGVsZXRlVGVhbU1vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJ1xuXHRcdH0pO1xuXHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRpdGVtcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGUoXCJEZWxldGluZyB0ZWFtLi4uXCIsIDIpO1xuXHRcdFx0YXBpLmRlbGV0ZVRlYW0oc2VsZi50ZWFtKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzbmFja2Jhci5yZW1vdmUoMik7XG5cdFx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+U3VjY2VzcyE8L2I+IFRlYW0gZGVsZXRlZFwiKTtcblx0XHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzbmFja2Jhci5yZW1vdmUoMik7XG5cdFx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+RXJyb3IhPC9iPiBUZWFtIG5vdCBkZWxldGVkXCIpO1xuXHRcdFx0fSk7XG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL21hbmFnZScpO1xuXHRcdH0pO1xuXHR9O1xuXHR0aGlzLnRvZ2dsZUNyZWF0ZU1lbWJlck1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbW9kYWxzL2NyZWF0ZV9tZW1iZXJfbW9kYWwuaHRtbCcsXG5cdFx0ICBjb250cm9sbGVyOiAnTmV3TWVtYmVyTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnXG5cdFx0fSk7XG5cdFx0bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihuZXdFbWFpbCkge1xuXHRcdFx0dmFyIG5ld01lbWJlciA9IHtlbWFpbDogbmV3RW1haWwsIHZpc2liaWxpdHk6IFwiTk9UX0NIT1NFTlwifTtcblx0XHRcdGlmIChzZWxmLnRlYW0ubWVtYmVycyA9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0c2VsZi50ZWFtLm1lbWJlcnMgPSBbXTtcblx0XHRcdH1cblx0XHRcdGlmIChuZXdFbWFpbCA9PSB1c2VyLmVtYWlsKSB7XG5cdFx0XHRcdG5ld01lbWJlci52aXNpYmlsaXR5ID0gXCJBTExfTUVNQkVSU1wiO1xuXHRcdFx0fVxuXHRcdFx0c2VsZi50ZWFtLm1lbWJlcnMucHVzaChuZXdNZW1iZXIpO1xuXHRcdFx0c2VsZi50ZWFtLm5ld01lbWJlcnMgPSB0cnVlO1xuXHRcdH0pO1xuXHR9O1xuXHR0aGlzLnZpc2liaWxpdHlPcHRpb25zID0ge1wiTk9UX0NIT1NFTlwiIDogXCJObyBSZXNwb25zZVwiLFxuXHRcdFx0XHRcdFx0XHQgIFwiQUxMX01FTUJFUlNcIiA6IFwiUHJvZ3Jlc3MgdmlzaWJsZSBieSBldmVyeW9uZVwiLFxuXHRcdFx0XHRcdFx0XHQgIFwiVEVBTV9MRUFERVJcIjogXCJQcm9ncmVzcyB2aXNpYmxlIGJ5IGxlYWRlciBvbmx5XCJ9O1xufV0pXG4uY29udHJvbGxlcignU3dlZXBzVGVhbUN0cmwnLCBbXCIkcm91dGVQYXJhbXNcIiwgXCIkbW9kYWxcIiwgXCJ0ZWFtc1wiLCBcInN3ZWVwc1wiLCBcIiRsb2NhdGlvblwiLCBcInByb2dyZXNzXCIsIFwic25hY2tiYXJcIiwgXCJhcGlcIiwgXCIkc2NvcGVcIiwgZnVuY3Rpb24oJHJvdXRlUGFyYW1zLCAkbW9kYWwsIHRlYW1zLCBzd2VlcHMsICRsb2NhdGlvbiwgcHJvZ3Jlc3MsIHNuYWNrYmFyLCBhcGksICRzY29wZSkge1xuXHR2YXIgaXRlbXMgPSB0ZWFtc1tcInRlYW1zXCJdO1xuXHR0aGlzLnN3ZWVwcyA9IHN3ZWVwc1tcInN3ZWVwc1wiXSB8fCBbXTtcblx0dmFyIHRlYW1OdW1iZXIgPSAtMTtcblx0dGhpcy50b2RheSA9IG5ldyBEYXRlKCk7XG4gIHRoaXMudGltZXpvbmVzID0gWydVVEMnLCAnUERUJywgJ01EVCcsICdDRFQnLCAnRURUJywgJ1BTVCcsICdNU1QnLCAnQ1NUJywgJ0VTVCddO1xuXHR0aGlzLmRvbmUgPSBmdW5jdGlvbigpIHtcblx0XHQkbG9jYXRpb24ucGF0aChcIi9tYW5hZ2UvXCIgKyAkcm91dGVQYXJhbXMudGVhbV9rZXkpO1xuXHR9O1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcblx0XHRpZihpdGVtc1tpXS50ZWFtX2tleSA9PSAkcm91dGVQYXJhbXMudGVhbV9rZXkpIHtcblx0XHRcdHRoaXMudGVhbSA9IGl0ZW1zW2ldO1xuXHRcdFx0dGVhbU51bWJlciA9IGk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblx0dmFyIHNlbGYgPSB0aGlzO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5zd2VlcHMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgc3dlZXAgPSB0aGlzLnN3ZWVwc1tpXTtcblx0XHRzd2VlcC5ob3VyTnVtID0gcGFyc2VJbnQoc3dlZXAuaG91cik7XG5cdFx0dmFyIGR0ID0gbmV3IERhdGUoMCk7XG5cdFx0ZHQuc2V0RnVsbFllYXIoc3dlZXAueWVhcik7XG5cdFx0ZHQuc2V0TW9udGgocGFyc2VJbnQoc3dlZXAubW9udGgpIC0gMSwgcGFyc2VJbnQoc3dlZXAuZGF5KSk7XG5cdFx0c3dlZXAuZHQgPSBkdDtcblx0fVxuXHR0aGlzLnNhdmVTd2VlcCA9IGZ1bmN0aW9uKHN3ZWVwKSB7XG5cdFx0c25hY2tiYXIuY3JlYXRlKFwiU2F2aW5nIFN3ZWVwLi4uXCIsIDYpO1xuXHRcdHN3ZWVwLmhvdXIgPSBzd2VlcC5ob3VyTnVtLnRvU3RyaW5nKCk7XG5cdFx0c3dlZXAueWVhciA9IHN3ZWVwLmR0LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKTtcblx0XHRzd2VlcC5tb250aCA9IChzd2VlcC5kdC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKTtcblx0XHRzd2VlcC5kYXkgPSBzd2VlcC5kdC5nZXREYXRlKCkudG9TdHJpbmcoKTtcblx0XHRhcGkuaW5zZXJ0U3dlZXAoc3dlZXApLnRoZW4oZnVuY3Rpb24obmV3U3dlZXApIHtcblx0XHRcdHNuYWNrYmFyLnJlbW92ZSg2KTtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+U3VjY2VzcyE8L2I+IFN3ZWVwIHNhdmVkXCIpO1xuXHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0c25hY2tiYXIucmVtb3ZlKDYpO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFN3ZWVwIG5vdCBzYXZlZFwiKTtcblx0XHR9KTtcblx0fTtcblx0dGhpcy5kZWxldGVTd2VlcCA9IGZ1bmN0aW9uKHN3ZWVwKSB7XG5cdFx0c25hY2tiYXIuY3JlYXRlKFwiUmVtb3ZpbmcgU3dlZXAuLi5cIiwgNyk7XG5cdFx0YXBpLmRlbGV0ZVN3ZWVwKHN3ZWVwKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNlbGYuc3dlZXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmKHN3ZWVwLnN3ZWVwX2tleSA9PT0gc2VsZi5zd2VlcHNbaV0uc3dlZXBfa2V5KSB7XG5cdFx0XHRcdFx0c2VsZi5zd2VlcHMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRzbmFja2Jhci5yZW1vdmUoNyk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBTd2VlcCByZW1vdmVkXCIpO1xuXG5cdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRzbmFja2Jhci5yZW1vdmUoNyk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gU3dlZXAgbm90IHJlbW92ZWRcIik7XG5cdFx0fSk7XG5cdH07XG5cdHRoaXMuc3RvcEV2ZW50ID0gZnVuY3Rpb24oJGV2ZW50KSB7XG5cdFx0JGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9O1xuXHR0aGlzLnRvZ2dsZUltcG9ydFN3ZWVwc0RpYWxvZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdFx0ICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbW9kYWxzL2ltcG9ydF9zd2VlcHNfbW9kYWwuaHRtbCcsXG5cdFx0XHQgIGNvbnRyb2xsZXI6ICdJbXBvcnRTd2VlcHNNb2RhbEluc3RhbmNlQ3RybCcsXG5cdFx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJyxcblx0XHRcdCAgcmVzb2x2ZToge1xuXHRcdFx0XHQgIHRlYW1zOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQgIHJldHVybiBpdGVtcztcblx0XHRcdFx0ICB9XG5cdFx0XHQgIH1cblx0XHR9KTtcblx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHRlYW1Ub0ltcG9ydEZyb20pIHtcblx0XHRcdGNvbnNvbGUubG9nKHRlYW1Ub0ltcG9ydEZyb20pO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlKFwiSW1wb3J0aW5nIGZyb20gXCIgKyB0ZWFtVG9JbXBvcnRGcm9tLm5hbWUgKyBcIi4uLlwiLCAxMCk7XG5cdFx0XHRhcGkuZ2V0U3dlZXBzKHRlYW1Ub0ltcG9ydEZyb20pLnRoZW4oZnVuY3Rpb24oaW1wb3J0ZWRTd2VlcHMpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coaW1wb3J0ZWRTd2VlcHMpO1xuXHRcdFx0XHRpZiAoIWltcG9ydGVkU3dlZXBzLnN3ZWVwcyB8fCAhaW1wb3J0ZWRTd2VlcHMuc3dlZXBzLmxlbmd0aCkge1xuXHRcdFx0XHRcdHNuYWNrYmFyLnJlbW92ZSgxMCk7XG5cdFx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFRoZXJlIHdlcmUgbm8gc3dlZXBzIHRvIGltcG9ydFwiKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGltcG9ydGVkU3dlZXBzLnN3ZWVwcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHZhciBzd2VlcCA9IGltcG9ydGVkU3dlZXBzLnN3ZWVwc1tpXTtcblx0XHRcdFx0XHRkZWxldGUgc3dlZXAuc3dlZXBfa2V5O1xuXHRcdFx0XHRcdHN3ZWVwLnRlYW1fa2V5ID0gc2VsZi50ZWFtLnRlYW1fa2V5O1xuXHRcdFx0XHRcdGFwaS5pbnNlcnRTd2VlcChzd2VlcCkudGhlbihmdW5jdGlvbihuZXdTd2VlcCkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cobmV3U3dlZXApO1xuXHRcdFx0XHRcdFx0bmV3U3dlZXAuaG91ck51bSA9IHBhcnNlSW50KG5ld1N3ZWVwLmhvdXIpO1xuXHRcdFx0XHRcdFx0dmFyIGR0ID0gbmV3IERhdGUoMCk7XG5cdFx0XHRcdFx0XHRkdC5zZXRGdWxsWWVhcihuZXdTd2VlcC55ZWFyKTtcblx0XHRcdFx0XHRcdGR0LnNldE1vbnRoKHBhcnNlSW50KG5ld1N3ZWVwLm1vbnRoKSAtIDEsIHBhcnNlSW50KG5ld1N3ZWVwLmRheSkpO1xuXHRcdFx0XHRcdFx0bmV3U3dlZXAuZHQgPSBkdDtcblx0XHRcdFx0XHRcdGlmIChzd2VlcHNbXCJzd2VlcHNcIl0gPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdHN3ZWVwc1tcInN3ZWVwc1wiXSA9IFtdO1xuXHRcdFx0XHRcdFx0XHRzZWxmLnN3ZWVwcyA9IHN3ZWVwc1tcInN3ZWVwc1wiXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBpbnNlcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNlbGYuc3dlZXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdGlmKHNlbGYuc3dlZXBzW2ldLmR0LmdldFRpbWUoKSA8IG5ld1N3ZWVwLmR0LmdldFRpbWUoKSB8fCAoc2VsZi5zd2VlcHNbaV0uZHQuZ2V0VGltZSgpID09PSBuZXdTd2VlcC5kdC5nZXRUaW1lKCkgJiYgc2VsZi5zd2VlcHNbaV0uaG91ck51bSA8IG5ld1N3ZWVwLmhvdXJOdW0pKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2VsZi5zd2VlcHMuc3BsaWNlKGksIDAsIG5ld1N3ZWVwKTtcblx0XHRcdFx0XHRcdFx0XHRpbnNlcnRlZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKCFpbnNlcnRlZCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLnN3ZWVwcy5wdXNoKG5ld1N3ZWVwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzbmFja2Jhci5yZW1vdmUoMTApO1xuXHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBTd2VlcHMgSW1wb3J0ZWRcIik7XG5cdFx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c25hY2tiYXIucmVtb3ZlKDEwKTtcblx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IEltcG9ydCBmYWlsZWRcIik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXHR0aGlzLnRvZ2dsZVN3ZWVwT3B0aW9uc01vZGFsID0gZnVuY3Rpb24oc3dlZXApIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21vZGFscy9leHBvcnRfcHJvZ3Jlc3NfbW9kYWwuaHRtbCcsXG5cdFx0XHQgIGNvbnRyb2xsZXI6ICdTd2VlcE9wdGlvbnNNb2RhbEluc3RhbmNlQ3RybCcsXG5cdFx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJyxcblx0XHRcdCAgcmVzb2x2ZToge1xuXHRcdFx0XHQgIHRlYW06IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCAgcmV0dXJuIHByb2dyZXNzO1xuXHRcdFx0XHQgIH0sXG5cdFx0XHRcdCAgb3B0aW9uU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQgIHJldHVybiBzd2VlcC5vcHRpb25zO1xuXHRcdFx0XHQgIH1cblx0XHRcdCAgfVxuXHRcdH0pO1xuXHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obmV3T3B0aW9ucykge1xuXHRcdFx0c3dlZXAub3B0aW9ucyA9IG5ld09wdGlvbnM7XG5cdFx0fSk7XG5cdH07XG5cdHRoaXMudG9nZ2xlQ3JlYXRlU3dlZXBEaWFsb2cgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHRcdCAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21vZGFscy9jcmVhdGVfc3dlZXBfbW9kYWwuaHRtbCcsXG5cdFx0XHQgIGNvbnRyb2xsZXI6ICdOZXdTd2VlcE1vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnLFxuXHRcdFx0ICByZXNvbHZlOiB7XG5cdFx0XHRcdCAgdGVhbV9rZXk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCAgcmV0dXJuICRyb3V0ZVBhcmFtcy50ZWFtX2tleTtcblx0XHRcdFx0ICB9LFxuXHRcdFx0XHQgIHByb2dyZXNzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQgIHJldHVybiBwcm9ncmVzcztcblx0XHRcdFx0ICB9XG5cdFx0XHQgIH1cblx0XHR9KTtcblx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHN3ZWVwKSB7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGUoXCJDcmVhdGluZyBTd2VlcC4uLlwiLCA4KTtcblx0XHRcdHN3ZWVwLmhvdXIgPSBzd2VlcC5ob3VyTnVtLnRvU3RyaW5nKCk7XG5cdFx0XHRzd2VlcC55ZWFyID0gc3dlZXAuZHQuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuXHRcdFx0c3dlZXAubW9udGggPSAoc3dlZXAuZHQuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCk7XG5cdFx0XHRzd2VlcC5kYXkgPSBzd2VlcC5kdC5nZXREYXRlKCkudG9TdHJpbmcoKTtcbiAgICAgIHZhciByZXBlYXRzID0gc3dlZXAucmVwZWF0cyB8fCAwO1xuICAgICAgdmFyIG5ld1N3ZWVwcyA9IFtzd2VlcF07XG4gICAgICB2YXIgbmV4dFdlZWsgPSBmdW5jdGlvbiAoZGF0ZSwgdGltZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSsoNyp0aW1lcykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gcmVwZWF0czsgaSsrKSB7XG4gICAgICAgIHZhciBuZXdTd2VlcCA9IGFuZ3VsYXIuY29weShuZXdTd2VlcHNbMF0pO1xuICAgICAgICB2YXIgZHQgPSBuZXh0V2VlayhuZXdTd2VlcC5kdCwgaSk7IFxuICAgICAgICBuZXdTd2VlcC55ZWFyID0gZHQuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICAgICAgICBuZXdTd2VlcC5tb250aCA9IChkdC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgbmV3U3dlZXAuZGF5ID0gZHQuZ2V0RGF0ZSgpLnRvU3RyaW5nKCk7XG4gICAgICAgIG5ld1N3ZWVwcy5wdXNoKG5ld1N3ZWVwKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3U3dlZXBzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHN3ZWVwID0gbmV3U3dlZXBzW2pdO1xuICAgICAgICBhcGkuaW5zZXJ0U3dlZXAoc3dlZXApLnRoZW4oZnVuY3Rpb24obmV3U3dlZXApIHtcbiAgICAgICAgICBuZXdTd2VlcC5ob3VyTnVtID0gcGFyc2VJbnQobmV3U3dlZXAuaG91cik7XG4gICAgICAgICAgdmFyIGR0ID0gbmV3IERhdGUoMCk7XG4gICAgICAgICAgZHQuc2V0RnVsbFllYXIobmV3U3dlZXAueWVhcik7XG4gICAgICAgICAgZHQuc2V0TW9udGgocGFyc2VJbnQobmV3U3dlZXAubW9udGgpIC0gMSwgcGFyc2VJbnQobmV3U3dlZXAuZGF5KSk7XG4gICAgICAgICAgbmV3U3dlZXAuZHQgPSBkdDtcbiAgICAgICAgICBpZiAoc3dlZXBzW1wic3dlZXBzXCJdID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3dlZXBzW1wic3dlZXBzXCJdID0gW107XG4gICAgICAgICAgICBzZWxmLnN3ZWVwcyA9IHN3ZWVwc1tcInN3ZWVwc1wiXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluc2VydGVkID0gZmFsc2U7XG4gICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHNlbGYuc3dlZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZihzZWxmLnN3ZWVwc1tpXS5kdC5nZXRUaW1lKCkgPCBuZXdTd2VlcC5kdC5nZXRUaW1lKCkgfHwgXG4gICAgICAgICAgICAgICAoc2VsZi5zd2VlcHNbaV0uZHQuZ2V0VGltZSgpID09PSBuZXdTd2VlcC5kdC5nZXRUaW1lKCkgJiYgc2VsZi5zd2VlcHNbaV0uaG91ck51bSA8IG5ld1N3ZWVwLmhvdXJOdW0pKSB7XG4gICAgICAgICAgICAgIHNlbGYuc3dlZXBzLnNwbGljZShpLCAwLCBuZXdTd2VlcCk7XG4gICAgICAgICAgICAgIGluc2VydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKCFpbnNlcnRlZCkge1xuICAgICAgICAgICAgc2VsZi5zd2VlcHMucHVzaChuZXdTd2VlcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNuYWNrYmFyLnJlbW92ZSg4KTtcbiAgICAgICAgICBzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBTd2VlcCBjcmVhdGVkXCIpO1xuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzbmFja2Jhci5yZW1vdmUoOCk7XG4gICAgICAgICAgc25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFN3ZWVwIG5vdCBjcmVhdGVkXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblx0XHR9KTtcblx0fTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJywgW10pXG4uY29udHJvbGxlcignTW9kYWxUb2dnbGVDdHJsJywgW1wiJG1vZGFsXCIsIGZ1bmN0aW9uKCRtb2RhbCkge1xuXHR0aGlzLnRvZ2dsZVNpZ25PdXRNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgdGVtcGxhdGVVcmw6ICdsb2dvdXRfbW9kYWwuaHRtbCcsXG5cdFx0ICBjb250cm9sbGVyOiAnU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnXG5cdFx0fSk7XG5cdH07XG5cdHRoaXMudG9nZ2xlRWRpdFByb2ZpbGVNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgdGVtcGxhdGVVcmw6ICdlZGl0X3Byb2ZpbGVfbW9kYWwuaHRtbCcsXG5cdFx0ICBjb250cm9sbGVyOiAnU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnXG5cdFx0fSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdTaW1wbGVNb2RhbEluc3RhbmNlQ3RybCcsIFtcIiRtb2RhbEluc3RhbmNlXCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSkge1xuICB0aGlzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICB9O1xufV0pXG4uY29udHJvbGxlcignTmV3TWVtYmVyTW9kYWxJbnN0YW5jZUN0cmwnLCBbXCIkbW9kYWxJbnN0YW5jZVwiLCBcIiRjb250cm9sbGVyXCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXIpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1NpbXBsZU1vZGFsSW5zdGFuY2VDdHJsJywgeyRtb2RhbEluc3RhbmNlOiAkbW9kYWxJbnN0YW5jZX0pKTtcblx0dGhpcy5lbWFpbCA9IFwiXCI7XG5cdHRoaXMuYWRkTWVtYmVyID0gZnVuY3Rpb24oZW1haWwpIHtcblx0XHRlbWFpbCA9IGVtYWlsLnRyaW0oKTtcblx0XHRpZiAoZW1haWwubGVuZ3RoID09PSAwKSB7XG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKGVtYWlsLmluZGV4T2YoJ0AnKSA8IDApIHtcblx0XHRcdGVtYWlsICs9ICdAZ21haWwuY29tJztcblx0XHR9XG5cdCAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoZW1haWwpO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignRGVsZXRlVGVhbU1vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBmdW5jdGlvbiAoJG1vZGFsSW5zdGFuY2UsICRjb250cm9sbGVyKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdTaW1wbGVNb2RhbEluc3RhbmNlQ3RybCcsIHskbW9kYWxJbnN0YW5jZTogJG1vZGFsSW5zdGFuY2V9KSk7XG5cdHRoaXMucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG5cdCAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcblx0fTtcbn1dKVxuLmNvbnRyb2xsZXIoJ0ltcG9ydFN3ZWVwc01vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBcInRlYW1zXCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXIsIHRlYW1zKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdTaW1wbGVNb2RhbEluc3RhbmNlQ3RybCcsIHskbW9kYWxJbnN0YW5jZTogJG1vZGFsSW5zdGFuY2V9KSk7XG5cdHRoaXMudGVhbXMgPSB0ZWFtcztcblx0dGhpcy5zZWxlY3RlZFRlYW0gPSB0ZWFtc1swXTtcblx0dGhpcy5pbXBvcnQgPSBmdW5jdGlvbigpIHtcblx0ICAkbW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzLnNlbGVjdGVkVGVhbSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdDcmVhdGVUZWFtTW9kYWxJbnN0YW5jZUN0cmwnLCBbXCIkbW9kYWxJbnN0YW5jZVwiLCBcIiRjb250cm9sbGVyXCIsIFwidXNlclwiLCBcImNvdXJzZXNcIiwgZnVuY3Rpb24gKCRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlciwgdXNlciwgY291cnNlcykge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6ICRtb2RhbEluc3RhbmNlfSkpO1xuXHR0aGlzLnRlYW1OYW1lID0gXCJcIjtcblx0dGhpcy50ZWFtTWVtYmVycyA9IFwiXCI7XG5cdHRoaXMuaW5jbHVkZUxlYWRlciA9IGZhbHNlO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHRoaXMuY291cnNlcyA9IGFuZ3VsYXIuY29weShjb3Vyc2VzLmlkcyk7XG5cdHRoaXMub2ZmZXJlZENvdXJzZXMgPSBjb3Vyc2VzO1xuXHR0aGlzLmdldENvdXJzZVRpdGxlID0gZnVuY3Rpb24ocHJlZml4KSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3Vyc2VzLmlkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGNvdXJzZXMuaWRzW2ldID09PSBwcmVmaXgpIHtcblx0XHRcdFx0cmV0dXJuIGNvdXJzZXMudGl0bGVzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gXCJcIjtcblx0fTtcblx0dGhpcy5hZGQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3VGVhbSA9IHtuYW1lOiBzZWxmLnRlYW1OYW1lLCBsZWFkZXI6IHVzZXIuZW1haWwsIG1lbWJlcnM6W10sIGNvdXJzZXM6c2VsZi5jb3Vyc2VzfTtcblx0XHR2YXIgbWVtYmVycyA9IHNlbGYudGVhbU1lbWJlcnMuc3BsaXQoJywnKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1lbWJlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBlbWFpbCA9IG1lbWJlcnNbaV0udHJpbSgpO1xuXHRcdFx0aWYgKGVtYWlsLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChlbWFpbC5pbmRleE9mKCdAJykgPCAwKSB7XG5cdFx0XHRcdGVtYWlsICs9ICdAZ21haWwuY29tJztcblx0XHRcdH1cblx0XHRcdG5ld1RlYW0ubWVtYmVycy5wdXNoKHtlbWFpbDplbWFpbCwgdmlzaWJpbGl0eTpcIk5PVF9DSE9TRU5cIn0pO1xuXHRcdH1cblx0XHRpZiAoc2VsZi5pbmNsdWRlTGVhZGVyKSB7XG5cdFx0XHRuZXdUZWFtLm1lbWJlcnMucHVzaCh7ZW1haWw6dXNlci5lbWFpbCwgdmlzaWJpbGl0eTpcIkFMTF9NRU1CRVJTXCJ9KTtcblx0XHR9XG5cdCAgJG1vZGFsSW5zdGFuY2UuY2xvc2UobmV3VGVhbSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdFeHBvcnRNb2RhbFBhcmVudEN0cmwnLCBbXCIkbW9kYWxJbnN0YW5jZVwiLCBcIiRjb250cm9sbGVyXCIsIFwidGVhbVwiLCBcIiR3aW5kb3dcIiwgZnVuY3Rpb24gKCRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlciwgdGVhbSkge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6ICRtb2RhbEluc3RhbmNlfSkpO1xuXHR0aGlzLnRlYW0gPSB0ZWFtO1xuXHR0aGlzLmZ1bGxuYW1lID0gdHJ1ZTtcblx0dGhpcy51c2VybmFtZSA9IHRydWU7XG5cdHRoaXMuaGFzVGltZXN0YW1wID0gdHJ1ZTtcblx0dGhpcy5wb2ludFZhbHVlID0gXCJ0YXNrc1wiO1xuXHR0aGlzLnBvaW50c1BlclVuaXQgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInBwdVwiKSkgfHwgMTtcblx0dGhpcy5wb2ludHNQZXJUYXNrID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcHRcIikpIHx8IDE7XG5cdHRoaXMuaW5jbHVkZUNvdXJzZVByb2dyZXNzID0gZmFsc2U7XG5cdHRoaXMuaW5jbHVkZVRyYWNrUHJvZ3Jlc3MgPSBmYWxzZTtcblx0dGhpcy50aW1lem9uZSA9ICdFU1QnO1xuICB0aGlzLnRpbWV6b25lcyA9IFsnVVRDJywgJ1BEVCcsICdNRFQnLCAnQ0RUJywgJ0VEVCcsICdQU1QnLCAnTVNUJywgJ0NTVCcsICdFU1QnXTtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLmdlbmVyYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxhbmRpbmdRcyA9IFwidGVhbV91cmxzYWZlPVwiICsgdGVhbS50ZWFtX2tleTtcblx0XHRpZih0aGlzLmZ1bGxuYW1lKSB7XG5cdFx0XHRsYW5kaW5nUXMgKz0gXCImc3R1ZGVudF9uYW1lPXRydWVcIjtcblx0XHR9XG5cdFx0aWYodGhpcy51c2VybmFtZSkge1xuXHRcdFx0bGFuZGluZ1FzICs9IFwiJnJvc2VfdXNlcm5hbWU9dHJ1ZVwiO1xuXHRcdH1cblx0XHRpZih0aGlzLmhhc1RpbWVzdGFtcCkge1xuXHRcdFx0bGFuZGluZ1FzICs9IFwiJnRpbWV6b25lPVwiICsgdGhpcy50aW1lem9uZTtcblx0XHR9XG5cdFx0aWYodGhpcy5pbmNsdWRlQ291cnNlUHJvZ3Jlc3MpIHtcblx0XHRcdGxhbmRpbmdRcyArPSBcIiZjb3Vyc2VfcHJvZ3Jlc3M9dHJ1ZVwiO1xuXHRcdH1cblx0XHRpZih0aGlzLmluY2x1ZGVUcmFja1Byb2dyZXNzKSB7XG5cdFx0XHRsYW5kaW5nUXMgKz0gXCImdHJhY2tfcHJvZ3Jlc3M9dHJ1ZVwiO1xuXHRcdH1cblx0XHRpZih0aGlzLnBvaW50VmFsdWUgPT09IFwicG9pbnRzXCIpIHtcblx0XHRcdGxhbmRpbmdRcyArPSBcIiZwcHU9XCIgKyB0aGlzLnBvaW50c1BlclVuaXQ7XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBwdVwiLCB0aGlzLnBvaW50c1BlclVuaXQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsYW5kaW5nUXMgKz0gXCImcHB0PVwiICsgdGhpcy5wb2ludHNQZXJUYXNrO1xuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcHRcIiwgdGhpcy5wb2ludHNQZXJUYXNrKTtcblx0XHR9XG5cdFx0dGhpcy5vblBvc3RHZW5lcmF0ZShsYW5kaW5nUXMpO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignRXhwb3J0TW9kYWxJbnN0YW5jZUN0cmwnLCBbXCIkbW9kYWxJbnN0YW5jZVwiLCBcIiRjb250cm9sbGVyXCIsIFwidGVhbVwiLCBcIiR3aW5kb3dcIiwgZnVuY3Rpb24gKCRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlciwgdGVhbSwgJHdpbmRvdykge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignRXhwb3J0TW9kYWxQYXJlbnRDdHJsJywgeyRtb2RhbEluc3RhbmNlOiRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlcjokY29udHJvbGxlciwgdGVhbTp0ZWFtfSkpO1xuXHR0aGlzLm9uUG9zdEdlbmVyYXRlID0gZnVuY3Rpb24ocXMpIHtcblx0XHR2YXIgbGFuZGluZ1VybCA9IFwiaHR0cDovL1wiICsgJHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgXCIvdGVhbXMvZXhwb3J0LmNzdj9cIjtcblx0XHQkd2luZG93Lm9wZW4obGFuZGluZ1VybCArIGVuY29kZVVSSShxcyksIFwiX2JsYW5rXCIpO1xuXHRcdCRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG5cdH1cblx0dGhpcy5kb25lQnV0dG9uVGV4dCA9ICdHZW5lcmF0ZSc7XG59XSlcbi5jb250cm9sbGVyKCdOZXdTd2VlcE1vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBcInRlYW1fa2V5XCIsIFwiJG1vZGFsXCIsIFwicHJvZ3Jlc3NcIiwgIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXIsIHRlYW1fa2V5LCAkbW9kYWwsIHByb2dyZXNzKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdTaW1wbGVNb2RhbEluc3RhbmNlQ3RybCcsIHskbW9kYWxJbnN0YW5jZTogJG1vZGFsSW5zdGFuY2V9KSk7XG4gIHZhciBwcHVEZWZhdWx0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcHVcIikgfHwgXCIxXCI7XG5cdHRoaXMuc3dlZXAgPSB7ZHQ6bmV3IERhdGUoKSwgdGVhbV9rZXk6dGVhbV9rZXksIG9wdGlvbnM6XCJzdHVkZW50X25hbWU9dHJ1ZSZyb3NlX3VzZXJuYW1lPXRydWUmdGltZXpvbmU9RVNUJnBwdT1cIiArIHBwdURlZmF1bHQsIGhvdXJOdW06MTIsIHR6OlwiRVNUXCJ9O1xuICB0aGlzLnRpbWV6b25lcyA9IFsnVVRDJywgJ1BEVCcsICdNRFQnLCAnQ0RUJywgJ0VEVCcsICdQU1QnLCAnTVNUJywgJ0NTVCcsICdFU1QnXTtcblx0dGhpcy50b2RheSA9IG5ldyBEYXRlKCk7XG4gIHRoaXMuZG9lc1JlcGVhdCA9IGZhbHNlO1xuICB0aGlzLnJlcGVhdFdlZWtzID0gMDtcblx0dGhpcy5zdG9wRXZlbnQgPSBmdW5jdGlvbigkZXZlbnQpIHtcblx0XHQkZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH07XG5cdHRoaXMuYWRkU3dlZXAgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5kb2VzUmVwZWF0KSB7XG4gICAgICB0aGlzLnN3ZWVwLnJlcGVhdHMgPSB0aGlzLnJlcGVhdFdlZWtzO1xuICAgIH1cblx0ICAkbW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzLnN3ZWVwKTtcblx0fTtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLnRvZ2dsZVN3ZWVwT3B0aW9uc01vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tb2RhbHMvZXhwb3J0X3Byb2dyZXNzX21vZGFsLmh0bWwnLFxuXHRcdFx0ICBjb250cm9sbGVyOiAnU3dlZXBPcHRpb25zTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdFx0ICBjb250cm9sbGVyQXM6ICdtb2RhbCcsXG5cdFx0XHQgIHJlc29sdmU6IHtcblx0XHRcdFx0ICB0ZWFtOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQgIHJldHVybiBwcm9ncmVzcztcblx0XHRcdFx0ICB9LFxuXHRcdFx0XHQgIG9wdGlvblN0cmluZzogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ICByZXR1cm4gc2VsZi5zd2VlcC5vcHRpb25zO1xuXHRcdFx0XHQgIH1cblx0XHRcdCAgfVxuXHRcdH0pO1xuXHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obmV3T3B0aW9ucykge1xuXHRcdFx0c2VsZi5zd2VlcC5vcHRpb25zID0gbmV3T3B0aW9ucztcblx0XHR9KTtcblx0fTtcbn1dKVxuLmNvbnRyb2xsZXIoJ1N3ZWVwT3B0aW9uc01vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBcInRlYW1cIiwgXCJvcHRpb25TdHJpbmdcIiwgZnVuY3Rpb24gKCRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlciwgdGVhbSwgb3B0aW9uU3RyaW5nKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdFeHBvcnRNb2RhbFBhcmVudEN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6JG1vZGFsSW5zdGFuY2UsICRjb250cm9sbGVyOiRjb250cm9sbGVyLCB0ZWFtOnRlYW19KSk7XG5cdHRoaXMub25Qb3N0R2VuZXJhdGUgPSBmdW5jdGlvbihxcykge1xuXHRcdCRtb2RhbEluc3RhbmNlLmNsb3NlKHFzKTtcblx0fVxuXHR0aGlzLmRvbmVCdXR0b25UZXh0ID0gJ0RvbmUnO1xuXHRpZiAob3B0aW9uU3RyaW5nICE9PSBcIlwiKSB7XG5cdFx0dmFyIG9wdGlvbnMgPSB7fTtcblx0XHRvcHRpb25TdHJpbmcgPSBvcHRpb25TdHJpbmcuc3BsaXQoJyYnKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgb3B0aW9uU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgb3AgPSBvcHRpb25TdHJpbmdbaV0uc3BsaXQoJz0nKTtcblx0XHRcdG9wdGlvbnNbb3BbMF1dID0gb3BbMV07XG5cdFx0fVxuXHRcdHRoaXMuZnVsbG5hbWUgPSBvcHRpb25zWydzdHVkZW50X25hbWUnXSA9PT0gJ3RydWUnO1xuXHRcdHRoaXMudXNlcm5hbWUgPSBvcHRpb25zWydyb3NlX3VzZXJuYW1lJ10gPT09ICd0cnVlJztcblx0XHR0aGlzLmhhc1RpbWVzdGFtcCA9IG9wdGlvbnNbJ3RpbWV6b25lJ10gIT0gdW5kZWZpbmVkO1xuXHRcdHRoaXMucG9pbnRWYWx1ZSA9IG9wdGlvbnNbJ3BwdSddID8gXCJwb2ludHNcIiA6IFwidGFza3NcIjtcblx0XHR0aGlzLnBvaW50c1BlclVuaXQgPSBwYXJzZUludChvcHRpb25zWydwcHUnXSkgfHwgcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcHVcIikpIHx8IDE7XG5cdFx0dGhpcy5wb2ludHNQZXJUYXNrID0gcGFyc2VJbnQob3B0aW9uc1sncHB0J10pIHx8IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHB0XCIpKSB8fCAxO1xuXHRcdHRoaXMuaW5jbHVkZUNvdXJzZVByb2dyZXNzID0gb3B0aW9uc1snY291cnNlX3Byb2dyZXNzJ10gPT09ICd0cnVlJztcblx0XHR0aGlzLmluY2x1ZGVUcmFja1Byb2dyZXNzID0gb3B0aW9uc1sndHJhY2tfcHJvZ3Jlc3MnXSA9PT0gJ3RydWUnO1xuXHRcdHRoaXMudGltZXpvbmUgPSBvcHRpb25zWyd0aW1lem9uZSddIHx8ICdFU1QnO1xuICAgIHRoaXMudGltZXpvbmVzID0gWydVVEMnLCAnUERUJywgJ01EVCcsICdDRFQnLCAnRURUJywgJ1BTVCcsICdNU1QnLCAnQ1NUJywgJ0VTVCddO1xuXHR9XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnT3ZlcnZpZXdDb250cm9sbGVycycsIFtdKVxuLmNvbnRyb2xsZXIoJ092ZXJ2aWV3Q3RybCcsIGZ1bmN0aW9uKCkge1xufSlcbi5jb250cm9sbGVyKCdQcmV2aWV3Q3RybCcsIFtcIm9BdXRoXCIsIFwiJGxvY2F0aW9uXCIsIFwic2lkZWJhclwiLCBcIiRyb290U2NvcGVcIiwgXCJzbmFja2JhclwiLCBcInVzZXJFbWFpbFwiLCBmdW5jdGlvbihvQXV0aCwgJGxvY2F0aW9uLCBzaWRlYmFyLCAkcm9vdFNjb3BlLCBzbmFja2JhciwgdXNlckVtYWlsKSB7XG5cdG9BdXRoLmNoZWNrKCkudGhlbihmdW5jdGlvbigpIHtcblx0XHQkbG9jYXRpb24ucGF0aCgnL292ZXJ2aWV3Jyk7XG5cdFx0c2lkZWJhci5zaG93LnNldCh0cnVlKTtcblx0XHQkcm9vdFNjb3BlLiRhcHBseSgpO1xuXHR9KTtcblx0dGhpcy5zaWdudXAgPSBmdW5jdGlvbigpIHtcblx0XHRvQXV0aC5zaWdudXAoKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0b0F1dGguZ2V0VXNlckluZm8oKS50aGVuKGZ1bmN0aW9uKHVzZXJJbmZvKSB7XG5cdFx0XHRcdGlmKHVzZXJJbmZvLmVtYWlsICE9PSB1c2VyRW1haWwpIHtcblx0XHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkRhbmdlciE8L2I+IFNpZ25pbmcgdXAgZm9yIHRlYW1zIHdpdGggYW5vdGhlciBhY2NvdW50IG1heSBjYXVzZSBlcnJvcnMhXCIsIDYwMDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvb3ZlcnZpZXcnKTtcblx0XHRcdHNpZGViYXIuc2hvdy5zZXQodHJ1ZSk7XG5cdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gU2lnbiB1cCBmYWlsZWRcIik7XG5cdFx0fSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdTaWRlYmFyQ3RybCcsIFtcInNpZGViYXJcIiwgXCIkbG9jYXRpb25cIiwgXCIkc2NvcGVcIiwgZnVuY3Rpb24oc2lkZWJhciwgJGxvY2F0aW9uLCAkc2NvcGUpIHtcblx0dGhpcy5yb3V0ZXMgPSBzaWRlYmFyLnJvdXRlcztcblx0dGhpcy5zaG93ID0gc2lkZWJhci5zaG93LmdldCgpO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdCRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gc2lkZWJhci5zaG93LmdldCgpOyB9LFxuXHRcdFx0ZnVuY3Rpb24gKHZhbHVlKSB7IHNlbGYuc2hvdyA9IHZhbHVlOyB9KTtcblxuXHR0aGlzLmlzQWN0aXZlID0gZnVuY3Rpb24ocm91dGVVcmwpIHtcblx0XHR2YXIgcGF0aCA9ICRsb2NhdGlvbi5wYXRoKCk7XG5cdFx0cm91dGVVcmwgPSByb3V0ZVVybC5zdWJzdHJpbmcoMSk7XG5cdFx0cmV0dXJuIHBhdGguc3RhcnRzV2l0aChyb3V0ZVVybCk7XG5cdH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdUZWFtQ29udHJvbGxlcnMnLCBbXSlcbi5jb250cm9sbGVyKCdUZWFtc0N0cmwnLCBbXCIkbW9kYWxcIiwgXCJ0ZWFtc1wiLCBmdW5jdGlvbigkbW9kYWwsIHRlYW1zKSB7XG5cdHRoaXMuaXRlbXMgPSB0ZWFtc1tcInRlYW1zXCJdO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG59XSlcbi5jb250cm9sbGVyKCdUZWFtc1BhcmVudEN0cmwnLCBbJyRtb2RhbCcsICd0ZWFtJywgZnVuY3Rpb24oJG1vZGFsLCB0ZWFtKSB7XG5cdHRoaXMudG9nZ2xlRXhwb3J0UHJvZ3Jlc3NNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21vZGFscy9leHBvcnRfcHJvZ3Jlc3NfbW9kYWwuaHRtbCcsXG5cdFx0ICBjb250cm9sbGVyOiAnRXhwb3J0TW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnLFxuXHRcdCAgcmVzb2x2ZToge1xuXHRcdFx0ICB0ZWFtOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0ICByZXR1cm4gdGVhbTtcblx0XHRcdCAgfVxuXHRcdCAgfVxuXHRcdH0pO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignVGVhbXNDb3Vyc2VDdHJsJywgW1wiJG1vZGFsXCIsIFwidGVhbVwiLCBcIiRjb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRtb2RhbCwgdGVhbSwgJGNvbnRyb2xsZXIpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1RlYW1zUGFyZW50Q3RybCcsIHskbW9kYWw6ICRtb2RhbCwgdGVhbTogdGVhbX0pKTtcbiAgdGhpcy50ZWFtID0gdGVhbTtcblx0aWYgKHRlYW0ubWVtYmVyc19wcm9ncmVzcyA9PSB1bmRlZmluZWQpIHtcblx0XHR0aGlzLnRlYW0ubWVtYmVyc19wcm9ncmVzcyA9IFtdO1xuXHR9XG5cdHRoaXMuY291cnNlcyA9IFtdO1xuXHRpZiAodGVhbS5tZW1iZXJzX3Byb2dyZXNzLmxlbmd0aCA+IDApIHtcblx0XHRjb3Vyc2VzID0gdGVhbS5tZW1iZXJzX3Byb2dyZXNzWzBdLmNvdXJzZV9wcm9ncmVzcztcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGNvdXJzZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuY291cnNlcy5wdXNoKGNvdXJzZXNbaV0ubmFtZSk7XG5cdFx0fVxuXHR9XG59XSlcbi5jb250cm9sbGVyKCdUZWFtc1RyYWNrQ3RybCcsIFtcIiRyb3V0ZVBhcmFtc1wiLCBcInRlYW1cIiwgXCIkbW9kYWxcIiwgXCIkY29udHJvbGxlclwiLCBmdW5jdGlvbigkcm91dGVQYXJhbXMsIHRlYW0sICRtb2RhbCwgJGNvbnRyb2xsZXIpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1RlYW1zUGFyZW50Q3RybCcsIHskbW9kYWw6ICRtb2RhbCwgdGVhbTogdGVhbX0pKTtcblx0dGhpcy50ZWFtID0gdGVhbTtcblx0aWYgKHRlYW0ubWVtYmVyc19wcm9ncmVzcyA9PSB1bmRlZmluZWQpIHtcblx0XHR0aGlzLnRlYW0ubWVtYmVyc19wcm9ncmVzcyA9IFtdO1xuXHR9XG5cdHRoaXMuY291cnNlID0gJHJvdXRlUGFyYW1zLmNvdXJzZV9uYW1lO1xuXHR0aGlzLnRyYWNrcyA9IFtdO1xuXHRpZiAodGVhbS5tZW1iZXJzX3Byb2dyZXNzLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgY291cnNlcyA9IHRlYW0ubWVtYmVyc19wcm9ncmVzc1swXS5jb3Vyc2VfcHJvZ3Jlc3M7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3Vyc2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoY291cnNlc1tpXS5uYW1lID09PSB0aGlzLmNvdXJzZSkge1xuXHRcdFx0XHR0aGlzLmNvdXJzZU51bSA9IGk7XG5cdFx0XHRcdHZhciBjb3Vyc2VUcmFja3MgPSBjb3Vyc2VzW2ldLnRyYWNrX3Byb2dyZXNzO1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNvdXJzZVRyYWNrcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdHRoaXMudHJhY2tzLnB1c2goY291cnNlVHJhY2tzW2pdLm5hbWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHRoaXMuZ2V0UHJvZ3Jlc3NGb3JNZW1iZXJUcmFjayA9IGZ1bmN0aW9uKG1lbWJlciwgdHJhY2tOdW0pIHtcblx0XHRyZXR1cm4gbWVtYmVyLmNvdXJzZV9wcm9ncmVzc1tzZWxmLmNvdXJzZU51bV0udHJhY2tfcHJvZ3Jlc3NbdHJhY2tOdW1dLnByb2dyZXNzO1xuXHR9XG59XSlcbi5jb250cm9sbGVyKCdUZWFtc1VuaXRDdHJsJywgW1wiJHJvdXRlUGFyYW1zXCIsIFwidGVhbVwiLCBcIiRtb2RhbFwiLCBcIiRjb250cm9sbGVyXCIsIGZ1bmN0aW9uKCRyb3V0ZVBhcmFtcywgdGVhbSwgJG1vZGFsLCAkY29udHJvbGxlcikge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignVGVhbXNQYXJlbnRDdHJsJywgeyRtb2RhbDogJG1vZGFsLCB0ZWFtOiB0ZWFtfSkpO1xuXHR0aGlzLnRlYW0gPSB0ZWFtO1xuXHRpZiAodGVhbS5tZW1iZXJzX3Byb2dyZXNzID09IHVuZGVmaW5lZCkge1xuXHRcdHRoaXMudGVhbS5tZW1iZXJzX3Byb2dyZXNzID0gW107XG5cdH1cblx0dGhpcy5jb3Vyc2UgPSAkcm91dGVQYXJhbXMuY291cnNlX25hbWU7XG5cdHRoaXMudHJhY2sgPSAkcm91dGVQYXJhbXMudHJhY2tfbmFtZTtcblx0dGhpcy51bml0cyA9IFtdO1xuXHRpZiAodGVhbS5tZW1iZXJzX3Byb2dyZXNzLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgY291cnNlcyA9IHRlYW0ubWVtYmVyc19wcm9ncmVzc1swXS5jb3Vyc2VfcHJvZ3Jlc3M7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3Vyc2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoY291cnNlc1tpXS5uYW1lID09PSB0aGlzLmNvdXJzZSkge1xuXHRcdFx0XHR0aGlzLmNvdXJzZU51bSA9IGk7XG5cdFx0XHRcdHZhciB0cmFja3MgPSBjb3Vyc2VzW2ldLnRyYWNrX3Byb2dyZXNzO1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRyYWNrcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGlmICh0cmFja3Nbal0ubmFtZSA9PT0gdGhpcy50cmFjaykge1xuXHRcdFx0XHRcdFx0dGhpcy50cmFja051bSA9IGo7XG5cdFx0XHRcdFx0XHR2YXIgdHJhY2tVbml0cyA9IHRyYWNrc1tqXS51bml0X3Byb2dyZXNzO1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgayA9IDA7IGsgPCB0cmFja1VuaXRzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMudW5pdHMucHVzaCh0cmFja1VuaXRzW2tdLm5hbWUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHRoaXMuZ2V0UHJvZ3Jlc3NGb3JNZW1iZXJVbml0ID0gZnVuY3Rpb24obWVtYmVyLCB1bml0TnVtKSB7XG5cdFx0cmV0dXJuIG1lbWJlci5jb3Vyc2VfcHJvZ3Jlc3Nbc2VsZi5jb3Vyc2VOdW1dLnRyYWNrX3Byb2dyZXNzW3NlbGYudHJhY2tOdW1dLnVuaXRfcHJvZ3Jlc3NbdW5pdE51bV0ucHJvZ3Jlc3M7XG5cdH1cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdUZWFtU2VydmljZXMnLCBbXSlcbi5mYWN0b3J5KCdzaWRlYmFyJywgZnVuY3Rpb24oKSB7XG5cdHZhciBpc1Nob3dpbmcgPSB0cnVlO1xuXHRyZXR1cm4geyByb3V0ZXMgOlxuXHRcdFt7bmFtZTonT3ZlcnZpZXcnLCBocmVmOicjL292ZXJ2aWV3Lyd9LFxuXHRcdHtuYW1lOidUZWFtcycsIGhyZWY6JyMvdGVhbXMvJ30sXG5cdFx0e25hbWU6J0ludml0ZXMnLCBocmVmOicjL2ludml0ZXMvJ30sXG5cdFx0e25hbWU6J01hbmFnZScsIGhyZWY6JyMvbWFuYWdlLyd9XSxcblx0XHRzaG93OlxuXHRcdHtcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBpc1Nob3dpbmc7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiBmdW5jdGlvbihzaG93aW5nKSB7XG5cdFx0XHRcdGlzU2hvd2luZyA9IHNob3dpbmc7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufSlcbi5mYWN0b3J5KCd1c2VyRW1haWwnLCBbXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcblx0cmV0dXJuICRyb290U2NvcGUudXNlckVtYWlsO1xufV0pXG4uc2VydmljZSgnb0F1dGgnLCBbXCIkcVwiLCBcIiRsb2NhdGlvblwiLCBmdW5jdGlvbiAoJHEsICRsb2NhdGlvbikge1xuXHR2YXIgc2lnbmluID0gZnVuY3Rpb24oaW1tZWRpYXRlKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHAgPSAkcS5kZWZlcigpO1xuXHRcdFx0Z2FwaS5hdXRoLmF1dGhvcml6ZSh7XG5cdFx0XHRcdGNsaWVudF9pZDogQ0xJRU5UX0lELFxuXHRcdFx0XHRzY29wZTogU0NPUEVTLFxuXHRcdFx0XHRpbW1lZGlhdGU6IGltbWVkaWF0ZVxuXHRcdFx0fSwgZnVuY3Rpb24oYXV0aFJlc3VsdCkge1xuXHRcdFx0XHRpZiAoYXV0aFJlc3VsdC5lcnJvcikge1xuXHRcdFx0XHRcdHAucmVqZWN0KGF1dGhSZXN1bHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHAucmVzb2x2ZShhdXRoUmVzdWx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcC5wcm9taXNlO1xuXHRcdH1cblx0fTtcblx0dGhpcy5zaWdudXAgPSBzaWduaW4oZmFsc2UpO1xuXHR0aGlzLmNoZWNrID0gc2lnbmluKHRydWUpO1xuXHR0aGlzLmV4ZWN1dGUgPSBmdW5jdGlvbihhcGlNZXRob2QpIHtcblx0XHR2YXIgcCA9ICRxLmRlZmVyKCk7XG5cdFx0Z2FwaS5hdXRoLmF1dGhvcml6ZSh7XG5cdFx0XHRjbGllbnRfaWQgOiBDTElFTlRfSUQsXG5cdFx0XHRzY29wZSA6IFNDT1BFUyxcblx0XHRcdGltbWVkaWF0ZSA6IHRydWVcblx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdGFwaU1ldGhvZC5leGVjdXRlKGZ1bmN0aW9uKHJlc3ApIHtcblx0XHRcdFx0aWYgKCFyZXNwLmNvZGUpIHtcblx0XHRcdFx0XHRwLnJlc29sdmUocmVzcC5yZXN1bHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHAucmVqZWN0KHJlc3ApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gcC5wcm9taXNlO1xuXHR9O1xuXHR0aGlzLmdldFVzZXJJbmZvID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXhlY3V0ZShnYXBpLmNsaWVudC5vYXV0aDIudXNlcmluZm8uZ2V0KCkpO1xuXHR9O1xufV0pXG4uc2VydmljZSgnYXBpJywgW1wib0F1dGhcIiwgXCIkcVwiLCBmdW5jdGlvbiAob0F1dGgsICRxKSB7XG5cdHZhciBjYWNoZSA9IHt9O1xuXHR0aGlzLmRlbGV0ZUNhY2hlID0gZnVuY3Rpb24oKSB7XG5cdFx0Y2FjaGUgPSB7fTtcblx0fVxuXHR2YXIgY2FjaGVkQXBpQ2FsbCA9IGZ1bmN0aW9uKGNhY2hlS2V5LCBhcGlNZXRob2QpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oZm9yY2VSZWZyZXNoKSB7XG5cdFx0XHR2YXIgcCA9ICRxLmRlZmVyKCk7XG5cdFx0XHRpZiAoY2FjaGVbY2FjaGVLZXldICE9IHVuZGVmaW5lZCAmJiBmb3JjZVJlZnJlc2ggPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHAucmVzb2x2ZShjYWNoZVtjYWNoZUtleV0pO1xuXHRcdFx0XHRyZXR1cm4gcC5wcm9taXNlO1xuXHRcdFx0fVxuXHRcdFx0b0F1dGguZXhlY3V0ZShhcGlNZXRob2QpXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXNwKSB7XG5cdFx0XHRcdGNhY2hlW2NhY2hlS2V5XSA9IHJlc3A7XG5cdFx0XHRcdHAucmVzb2x2ZShyZXNwKTtcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdHAucmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0XHR9O1xuXHR9O1xuXHR2YXIgY2FjaGVkVGVhbUFwaUNhbGwgPSBmdW5jdGlvbih0eXBlLCBhcGlNZXRob2QpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0XHR2YXIgcCA9ICRxLmRlZmVyKCk7XG5cdFx0XHRpZihjYWNoZVt0eXBlICsgcGFyYW1zLnRlYW1fa2V5XSAhPSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cC5yZXNvbHZlKGNhY2hlW3R5cGUgKyBwYXJhbXMudGVhbV9rZXldKTtcblx0XHRcdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0XHRcdH1cblx0XHRcdG9BdXRoLmV4ZWN1dGUoYXBpTWV0aG9kKHBhcmFtcykpXG5cdFx0XHQudGhlbihmdW5jdGlvbihyZXNwKSB7XG5cdFx0XHRcdGNhY2hlW3R5cGUgKyBwYXJhbXMudGVhbV9rZXldID0gcmVzcDtcblx0XHRcdFx0cC5yZXNvbHZlKHJlc3ApO1xuXHRcdFx0fSwgZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0cC5yZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0XHRyZXR1cm4gcC5wcm9taXNlO1xuXHRcdH07XG5cdH07XG5cdHRoaXMuZGVsZXRlVGVhbSA9IGZ1bmN0aW9uKHRlYW0pIHtcblx0XHRpZiAoY2FjaGVbXCJnZXRfdGVhbXNcIl0gIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR2YXIgdGVhbXMgPSBjYWNoZVtcImdldF90ZWFtc1wiXVtcInRlYW1zXCJdO1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmKHRlYW0udGVhbV9rZXkgPT0gdGVhbXNbaV0udGVhbV9rZXkpIHtcblx0XHRcdFx0XHR0ZWFtcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG9BdXRoLmV4ZWN1dGUoZ2FwaS5jbGllbnQudGVhbXMuZGVsZXRlKHRlYW0pKTtcblx0fTtcblx0dGhpcy5pbnNlcnRUZWFtID0gZnVuY3Rpb24odGVhbSkge1xuXHRcdHZhciBwID0gJHEuZGVmZXIoKTtcblx0XHR2YXIgdXBkYXRlQ2FjaGUgPSBjYWNoZVtcImdldF90ZWFtc1wiXSAhPSB1bmRlZmluZWQ7XG5cdFx0dmFyIHRlYW1zID0gdW5kZWZpbmVkO1xuXHRcdHZhciBuZXdUZWFtID0gdGVhbS50ZWFtX2tleSA9PSB1bmRlZmluZWQ7XG5cdFx0aWYgKHVwZGF0ZUNhY2hlKSB7XG5cdFx0XHR0ZWFtcyA9IGNhY2hlW1wiZ2V0X3RlYW1zXCJdW1widGVhbXNcIl07XG5cdFx0XHRpZih0ZWFtcyA9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y2FjaGVbXCJnZXRfdGVhbXNcIl1bXCJ0ZWFtc1wiXSA9IFtdO1xuXHRcdFx0XHR0ZWFtcyA9IGNhY2hlW1wiZ2V0X3RlYW1zXCJdW1widGVhbXNcIl07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdG9BdXRoLmV4ZWN1dGUoZ2FwaS5jbGllbnQudGVhbXMuaW5zZXJ0KHRlYW0pKVxuXHRcdC50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcblx0XHRcdGlmKHVwZGF0ZUNhY2hlKSB7XG5cdFx0XHRcdGlmKG5ld1RlYW0pIHtcblx0XHRcdFx0XHR0ZWFtcy5wdXNoKHJlc3ApXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRpZihyZXNwLnRlYW1fa2V5ID09PSB0ZWFtc1tpXS50ZWFtX2tleSkge1xuXHRcdFx0XHRcdFx0XHR0ZWFtc1tpXSA9IHJlc3A7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cC5yZXNvbHZlKHJlc3ApO1xuXHRcdH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRwLnJlamVjdChlcnJvcik7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0fTtcblx0dGhpcy5nZXRJbnZpdGVzID0gY2FjaGVkQXBpQ2FsbChcImdldF9pbnZpdGVzXCIsIGdhcGkuY2xpZW50LnRlYW1zLmludml0ZXMubGlzdCgpKTtcblx0dGhpcy5lZGl0SW52aXRlID0gZnVuY3Rpb24oaW52aXRlKSB7XG5cdFx0cmV0dXJuIG9BdXRoLmV4ZWN1dGUoZ2FwaS5jbGllbnQudGVhbXMuaW52aXRlcy5yZXNwb25kKGludml0ZSkpO1xuXHR9O1xuXHR0aGlzLmdldFRlYW1zID0gY2FjaGVkQXBpQ2FsbChcImdldF90ZWFtc1wiLCBnYXBpLmNsaWVudC50ZWFtcy5saXN0LmFsbCgpKTtcblx0dGhpcy5nZXRMZWFkVGVhbXMgPSBjYWNoZWRBcGlDYWxsKFwiZ2V0X2xlYWRfdGVhbXNcIiwgZ2FwaS5jbGllbnQudGVhbXMubGlzdC5sZWFkZXIoKSk7XG5cdHRoaXMuZ2V0UHJvZ3Jlc3MgPSBjYWNoZWRUZWFtQXBpQ2FsbChcInByb2dyZXNzXCIsIGdhcGkuY2xpZW50LnRlYW1zLnByb2dyZXNzKTtcblx0dGhpcy5nZXRTd2VlcHMgPSBjYWNoZWRUZWFtQXBpQ2FsbChcInN3ZWVwXCIsIGdhcGkuY2xpZW50LnRlYW1zLnN3ZWVwcy5nZXQpO1xuXHR0aGlzLmluc2VydFN3ZWVwID0gZnVuY3Rpb24oc3dlZXApIHtcblx0XHRyZXR1cm4gb0F1dGguZXhlY3V0ZShnYXBpLmNsaWVudC50ZWFtcy5zd2VlcHMuaW5zZXJ0KHN3ZWVwKSk7XG5cdH1cblx0dGhpcy5kZWxldGVTd2VlcCA9IGZ1bmN0aW9uKHN3ZWVwKSB7XG5cdFx0cmV0dXJuIG9BdXRoLmV4ZWN1dGUoZ2FwaS5jbGllbnQudGVhbXMuc3dlZXBzLmRlbGV0ZShzd2VlcCkpO1xuXHR9XG5cdHRoaXMuZ2V0Q291cnNlcyA9IGNhY2hlZEFwaUNhbGwoXCJjb3Vyc2VzXCIsIGdhcGkuY2xpZW50LnRlYW1zLmNvdXJzZXMoKSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnVGVhbURpcmVjdGl2ZXMnLCBbXSlcbi5kaXJlY3RpdmUoJ3RlYW1UaXRsZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRlYW06ICc9J1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL2NvbXBvbmVudHMvdGVhbV90aXRsZS5odG1sJ1xuICB9O1xufSlcbi5kaXJlY3RpdmUoJ3JvdXRlTG9hZGluZ0luZGljYXRvcicsIFsnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9jb21wb25lbnRzL2xvYWRpbmdfc3Bpbm5lci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcblxuICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKXtcbiAgICAgICAgJHJvb3RTY29wZS5pc1JvdXRlTG9hZGluZyA9IHRydWU7XG4gICAgICB9KTtcblxuICAgICAgJHJvb3RTY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbigpe1xuICAgICAgICAkcm9vdFNjb3BlLmlzUm91dGVMb2FkaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSlcbi5maWx0ZXIoJ3BlcmNlbnRhZ2UnLCBbJyRmaWx0ZXInLCBmdW5jdGlvbiAoJGZpbHRlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBkZWNpbWFscykge1xuICAgIHJldHVybiAkZmlsdGVyKCdudW1iZXInKShpbnB1dCAqIDEwMCwgZGVjaW1hbHMpICsgJyUnO1xuICB9O1xufV0pXG4uZmlsdGVyKCdwZW5kaW5nU3dlZXBzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBjb21wYXJlRGF0ZSA9IG5ldyBEYXRlKDApO1xuICAgICAgY29tcGFyZURhdGUuc2V0RnVsbFllYXIobm93LmdldEZ1bGxZZWFyKCkpO1xuXHQgIGNvbXBhcmVEYXRlLnNldE1vbnRoKG5vdy5nZXRNb250aCgpLCBub3cuZ2V0RGF0ZSgpKTtcbiAgICAgIHZhciBob3VyTnVtID0gbm93LmdldEhvdXJzKCk7XG4gICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZihpdGVtLmR0LmdldFRpbWUoKSA+IGNvbXBhcmVEYXRlLmdldFRpbWUoKSB8fCAoaXRlbS5kdC5nZXRUaW1lKCkgPT09IGNvbXBhcmVEYXRlLmdldFRpbWUoKSAmJiBpdGVtLmhvdXJOdW0gPiBob3VyTnVtKSkge1xuICAgICAgICAgIGZpbHRlcmVkLnB1c2goaXRlbSk7IFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICB9O1xufSlcbi5maWx0ZXIoJ2ZpcmVkU3dlZXBzJywgZnVuY3Rpb24oKSB7XG5cdHJldHVybiBmdW5jdGlvbihpdGVtcykge1xuXHQgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuXHQgIHZhciBjb21wYXJlRGF0ZSA9IG5ldyBEYXRlKDApO1xuXHQgIGNvbXBhcmVEYXRlLnNldEZ1bGxZZWFyKG5vdy5nZXRGdWxsWWVhcigpKTtcblx0ICBjb21wYXJlRGF0ZS5zZXRNb250aChub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSk7XG5cdCAgdmFyIGhvdXJOdW0gPSBub3cuZ2V0SG91cnMoKTtcblx0ICB2YXIgZmlsdGVyZWQgPSBbXTtcblx0ICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHtcblx0ICAgIGlmKGl0ZW0uZHQuZ2V0VGltZSgpIDwgY29tcGFyZURhdGUuZ2V0VGltZSgpIHx8IChpdGVtLmR0LmdldFRpbWUoKSA9PT0gY29tcGFyZURhdGUuZ2V0VGltZSgpICYmIGl0ZW0uaG91ck51bSA8PSBob3VyTnVtKSkge1xuXHQgICAgICBmaWx0ZXJlZC5wdXNoKGl0ZW0pO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBmaWx0ZXJlZDtcblx0fTtcbn0pO1xuIiwiLypcblx0QGxpY2Vuc2UgQW5ndWxhciBTbmFja2JhciB2ZXJzaW9uIDEuMC4xXG5cdOKTkiAyMDE1IFR5bGVyIFJvY2t3b29kIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2Nrd290ai9hbmd1bGFyLnNuYWNrYmFyXG5cdExpY2Vuc2U6IE1JVFxuKi9cblxuIWZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO3ZhciBuPWEubW9kdWxlKFwiYW5ndWxhci5zbmFja2JhclwiLFtdKTtuLmZhY3RvcnkoXCJzbmFja2JhclwiLFtcIiRyb290U2NvcGVcIixmdW5jdGlvbihhKXtyZXR1cm57Y3JlYXRlV2l0aFRpbWVvdXQ6ZnVuY3Rpb24obixlKXthLiRicm9hZGNhc3QoXCJjcmVhdGVTbmFja2JhcldpdGhUaW1lb3V0XCIse2NvbnRlbnQ6bixkdXJhdGlvbjplfSl9LGNyZWF0ZTpmdW5jdGlvbihuLGUpe2EuJGJyb2FkY2FzdChcImNyZWF0ZVNuYWNrYmFyXCIse2NvbnRlbnQ6bixpZDplfSl9LHJlbW92ZTpmdW5jdGlvbihuKXthLiRicm9hZGNhc3QoXCJyZW1vdmVTbmFja2JhclwiLHtpZDpufSl9fX1dKSxuLmRpcmVjdGl2ZShcInNuYWNrYmFyXCIsW1wiJHJvb3RTY29wZVwiLFwiJGNvbXBpbGVcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24obixlLGMpe3JldHVybiBmdW5jdGlvbih0LHIsbyl7dmFyIHM9YS5lbGVtZW50KHIpLGk9by5zbmFja2JhckR1cmF0aW9ufHwzZTMsdT1vLnNuYWNrYmFyUmVtb3ZlRGVsYXl8fDIwO24uJG9uKFwiY3JlYXRlU25hY2tiYXJXaXRoVGltZW91dFwiLGZ1bmN0aW9uKG4scil7dmFyIG89JzxkaXYgY2xhc3M9XCJzbmFja2JhciBzbmFja2Jhci1vcGVuZWRcIj48c3BhbiBjbGFzcz1cInNuYWNrYmFyLWNvbnRlbnRcIj4nK3IuY29udGVudCtcIjwvc3Bhbj48L2Rpdj5cIixiPWEuZWxlbWVudChlKG8pKHQpKTtzLmFwcGVuZChiKSxjKGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhcInNuYWNrYmFyLW9wZW5lZFwiKSxjKGZ1bmN0aW9uKCl7Yi5yZW1vdmUoKX0sdSwhMSl9LHIuZHVyYXRpb258fGksITEpfSksbi4kb24oXCJjcmVhdGVTbmFja2JhclwiLGZ1bmN0aW9uKG4sYyl7dmFyIHI9JzxkaXYgY2xhc3M9XCJzbmFja2JhciBzbmFja2Jhci1vcGVuZWQgc25hY2tiYXItaWQtJytjLmlkKydcIj48c3BhbiBjbGFzcz1cInNuYWNrYmFyLWNvbnRlbnRcIj4nK2MuY29udGVudCtcIjwvc3Bhbj48L2Rpdj5cIixvPWEuZWxlbWVudChlKHIpKHQpKTtzLmFwcGVuZChvKX0pLG4uJG9uKFwicmVtb3ZlU25hY2tiYXJcIixmdW5jdGlvbihuLGUpe3ZhciBjPWEuZWxlbWVudChzWzBdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzbmFja2Jhci1pZC1cIitlLmlkKSk7Yy5yZW1vdmVDbGFzcyhcInNuYWNrYmFyLW9wZW5lZFwiKSxjLnJlbW92ZSgpfSl9fV0pfShhbmd1bGFyKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
