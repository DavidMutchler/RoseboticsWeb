CLIENT_ID="963009065087-2a5ccl5rhm4ghgm88li21fkjgsu5eua0@developer.gserviceaccount.com",SCOPES="https://www.googleapis.com/auth/userinfo.email",RESPONSE_TYPE="token id_token",init=function(){var o,a="//"+window.location.host+"/_ah/api";-1===window.location.host.indexOf("localhost")&&(a="https://roseboticsweb.appspot.com/_ah/api");var t=function(){0==--o&&angular.bootstrap(document,["TeamApp"])};o=2,gapi.client.load("teams","v1",t,a),gapi.client.load("oauth2","v2",t)};
"use strict";angular.module("TeamApp",["TeamControllers","ModalControllers","OverviewControllers","ManageControllers","TeamServices","InviteControllers","ui.bootstrap","ngRoute","TeamDirectives","angular.snackbar"]).config(["$routeProvider",function(e){e.when("/overview/",{templateUrl:"/static/teams/partials/overview.html",controller:"OverviewCtrl as overview"}).when("/preview/",{templateUrl:"/static/teams/partials/preview.html",controller:"PreviewCtrl as preview"}).when("/teams/",{templateUrl:"/static/teams/partials/teams.html",controller:"TeamsCtrl as teams",resolve:{teams:["api",function(e){return e.getTeams()}]}}).when("/teams/:team_key/courses",{templateUrl:"/static/teams/partials/teams_course.html",controller:"TeamsCourseCtrl as courses",resolve:{team:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).when("/teams/:team_key/courses/:course_name/tracks",{templateUrl:"/static/teams/partials/teams_track.html",controller:"TeamsTrackCtrl as tracks",resolve:{team:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).when("/teams/:team_key/courses/:course_name/tracks/:track_name/units",{templateUrl:"/static/teams/partials/teams_unit.html",controller:"TeamsUnitCtrl as units",resolve:{team:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).when("/invites/",{templateUrl:"/static/teams/partials/invites.html",controller:"InvitesCtrl as invites",resolve:{invites:["api",function(e){return e.getInvites()}]}}).when("/manage/",{templateUrl:"/static/teams/partials/manage.html",controller:"ManageCtrl as manage",resolve:{teams:["api",function(e){return e.getLeadTeams()}]}}).when("/manage/:team_key",{templateUrl:"/static/teams/partials/manage_team.html",controller:"ManageTeamCtrl as manage",resolve:{teams:["api",function(e){return e.getLeadTeams()}],user:["oAuth",function(e){return e.getUserInfo()}],courses:["api",function(e){return e.getCourses()}]}}).when("/manage/:team_key/sweeps",{templateUrl:"/static/teams/partials/manage_sweeps.html",controller:"SweepsTeamCtrl as sweeps",resolve:{teams:["api",function(e){return e.getLeadTeams()}],sweeps:["api","$route",function(e,t){return e.getSweeps(t.current.params)}],progress:["api","$route",function(e,t){return e.getProgress(t.current.params)}]}}).otherwise({redirectTo:"/overview/"})}]).run(["$rootScope","$location","oAuth","sidebar",function(e,t,r,a){angular.element(document.querySelectorAll(".hidden.container")).removeClass("hidden"),angular.element(document.querySelector("div.spinner")).addClass("hidden"),r.check().then(null,function(){t.path("/preview"),a.show.set(!1)})}]);
angular.module("InviteControllers",[]).controller("InvitesCtrl",["invites","api","snackbar",function(e,s,n){this.pending=[],this.accepted=[];var t=e.invites;void 0==t&&(t=[]);for(var i=0;i<t.length;i++)"NOT_CHOSEN"===t[i].response?this.pending.push(t[i]):this.accepted.push(t[i]);var r=this;this.editInvite=function(e,t){var i=!1;if("NOT_CHOSEN"===e.response&&"NOT_CHOSEN"!==t){for(var o=0;o<r.pending.length;o++)if(r.pending[o].team_key===e.team_key){r.pending.splice(o,1);break}r.accepted.push(e),i=!0}if("REJECT_INVITE"===t){for(var o=0;o<r.accepted.length;o++)if(r.accepted[o].team_key===e.team_key){r.accepted.splice(o,1);break}i=!0}e.response=t,n.create("Sending response...",4),s.editInvite(e).then(function(){n.remove(4),n.createWithTimeout("<b>Success!</b> Response saved"),i&&s.getTeams(!0)},function(){n.remove(4),n.createWithTimeout("<b>Error!</b> Response not saved")})},this.pendingResponses=["NOT_CHOSEN","ALL_MEMBERS","TEAM_LEADER","REJECT_INVITE"],this.acceptedResponses=["ALL_MEMBERS","TEAM_LEADER","REJECT_INVITE"],this.responseOptions={NOT_CHOSEN:"No response",ALL_MEMBERS:"All members can see my progress",TEAM_LEADER:"Only the leader can see my progress",REJECT_INVITE:"Reject invite and no one can see my progress"}}]);
angular.module("ManageControllers",[]).controller("ManageCtrl",["$modal","teams","api","snackbar","oAuth",function(e,t,r,o,s){this.items=t.teams;var a=this;this.toggleCreateTeamModal=function(){var n=e.open({templateUrl:"/static/teams/partials/modals/create_team_modal.html",controller:"CreateTeamModalInstanceCtrl",controllerAs:"modal",resolve:{user:function(){return s.getUserInfo()},courses:function(){return r.getCourses()}}});n.result.then(function(e){o.create("Creating team...",1),r.insertTeam(e).then(function(e){o.remove(1),o.createWithTimeout("<b>Success!</b> Team created"),void 0==t.teams&&(t.teams=[],a.items=t.teams),t.teams.push(e)},function(e){o.remove(1),o.createWithTimeout("<b>Error!</b> Team not created")})})}}]).controller("ManageTeamCtrl",["$routeParams","$modal","teams","$scope","snackbar","api","$location","user","courses",function(e,t,r,o,s,a,n,i,m){for(var l=r.teams,c=-1,u=0;u<l.length;u++)if(l[u].team_key==e.team_key){this.team=l[u],c=u;break}this.goToSweep=function(){n.path(n.path()+"/sweeps")},this.offeredCourses=m,console.log(m),this.getCourseTitle=function(e){for(var t=0;t<m.ids.length;t++)if(m.ids[t]===e)return m.titles[t];return""};var p=0,h=this,d=o.$watch(function(){return h.team},function(){p++,h.onInputMadeDirty(p)},!0);this.onInputMadeDirty=function(e){e>1&&(s.createWithTimeout("<b>Warning!</b> You must press submit to save your changes"),d())},this.deleteMember=function(e){for(var t=h.team.members,r=0;r<t.length;r++)if(t[r].email==e.email){t.splice(r,1);break}},this.saveTeam=function(){s.create("Saving team...",3),a.insertTeam(h.team).then(function(e){s.remove(3),s.createWithTimeout("<b>Success!</b> Team saved")},function(){s.remove(3),s.createWithTimeout("<b>Error!</b> Team not saved")})},this.toggleDeleteTeamModal=function(){var e=t.open({templateUrl:"/static/teams/partials/modals/delete_team_modal.html",controller:"DeleteTeamModalInstanceCtrl",controllerAs:"modal"});e.result.then(function(){l.splice(u,1),s.create("Deleting team...",2),a.deleteTeam(h.team).then(function(){s.remove(2),s.createWithTimeout("<b>Success!</b> Team deleted")},function(){s.remove(2),s.createWithTimeout("<b>Error!</b> Team not deleted")}),n.path("/manage")})},this.toggleCreateMemberModal=function(){var e=t.open({templateUrl:"/static/teams/partials/modals/create_member_modal.html",controller:"NewMemberModalInstanceCtrl",controllerAs:"modal"});e.result.then(function(e){var t={email:e,visibility:"NOT_CHOSEN"};void 0==h.team.members&&(h.team.members=[]),e==i.email&&(t.visibility="ALL_MEMBERS"),h.team.members.push(t),h.team.newMembers=!0})},this.visibilityOptions={NOT_CHOSEN:"No Response",ALL_MEMBERS:"Progress visible by everyone",TEAM_LEADER:"Progress visible by leader only"}}]).controller("SweepsTeamCtrl",["$routeParams","$modal","teams","sweeps","$location","progress","snackbar","api","$scope",function(e,t,r,o,s,a,n,i,m){var l=r.teams;this.sweeps=o.sweeps||[];var c=-1;this.today=new Date,this.timezones=["UTC","Eastern","Central","Mountain","Pacific"],this.done=function(){s.path("/manage/"+e.team_key)};for(var u=0;u<l.length;u++)if(l[u].team_key==e.team_key){this.team=l[u],c=u;break}for(var p=this,u=0;u<this.sweeps.length;u++){var h=this.sweeps[u];h.hourNum=parseInt(h.hour);var d=new Date(0);d.setFullYear(h.year),d.setMonth(parseInt(h.month)-1,parseInt(h.day)),h.dt=d}this.saveSweep=function(e){n.create("Saving Sweep...",6),e.hour=e.hourNum.toString(),e.year=e.dt.getFullYear().toString(),e.month=(e.dt.getMonth()+1).toString(),e.day=e.dt.getDate().toString(),i.insertSweep(e).then(function(e){n.remove(6),n.createWithTimeout("<b>Success!</b> Sweep saved")},function(){n.remove(6),n.createWithTimeout("<b>Error!</b> Sweep not saved")})},this.deleteSweep=function(e){n.create("Removing Sweep...",7),i.deleteSweep(e).then(function(){for(var t=0;t<p.sweeps.length;t++)if(e.sweep_key===p.sweeps[t].sweep_key){p.sweeps.splice(t,1);break}n.remove(7),n.createWithTimeout("<b>Success!</b> Sweep removed")},function(){n.remove(7),n.createWithTimeout("<b>Error!</b> Sweep not removed")})},this.stopEvent=function(e){e.preventDefault(),e.stopPropagation()},this.toggleImportSweepsDialog=function(){var e=t.open({templateUrl:"/static/teams/partials/modals/import_sweeps_modal.html",controller:"ImportSweepsModalInstanceCtrl",controllerAs:"modal",resolve:{teams:function(){return l}}});e.result.then(function(e){console.log(e),n.create("Importing from "+e.name+"...",10),i.getSweeps(e).then(function(e){if(console.log(e),!e.sweeps||!e.sweeps.length)return n.remove(10),void n.createWithTimeout("<b>Error!</b> There were no sweeps to import");for(var t=0;t<e.sweeps.length;t++){var r=e.sweeps[t];delete r.sweep_key,r.team_key=p.team.team_key,i.insertSweep(r).then(function(e){console.log(e),e.hourNum=parseInt(e.hour);var t=new Date(0);t.setFullYear(e.year),t.setMonth(parseInt(e.month)-1,parseInt(e.day)),e.dt=t,void 0==o.sweeps&&(o.sweeps=[],p.sweeps=o.sweeps);for(var r=!1,s=0;s<p.sweeps.length;s++)if(p.sweeps[s].dt.getTime()<e.dt.getTime()||p.sweeps[s].dt.getTime()===e.dt.getTime()&&p.sweeps[s].hourNum<e.hourNum){p.sweeps.splice(s,0,e),r=!0;break}r||p.sweeps.push(e)})}n.remove(10),n.createWithTimeout("<b>Success!</b> Sweeps Imported")},function(){n.remove(10),n.createWithTimeout("<b>Error!</b> Import failed")})})},this.toggleSweepOptionsModal=function(e){var r=t.open({templateUrl:"/static/teams/partials/modals/export_progress_modal.html",controller:"SweepOptionsModalInstanceCtrl",controllerAs:"modal",resolve:{team:function(){return a},optionString:function(){return e.options}}});r.result.then(function(t){e.options=t})},this.toggleCreateSweepDialog=function(){var r=t.open({templateUrl:"/static/teams/partials/modals/create_sweep_modal.html",controller:"NewSweepModalInstanceCtrl",controllerAs:"modal",resolve:{team_key:function(){return e.team_key},progress:function(){return a}}});r.result.then(function(e){n.create("Creating Sweep...",8),e.hour=e.hourNum.toString(),e.year=e.dt.getFullYear().toString(),e.month=(e.dt.getMonth()+1).toString(),e.day=e.dt.getDate().toString(),i.insertSweep(e).then(function(e){console.log(e),e.hourNum=parseInt(e.hour);var t=new Date(0);t.setFullYear(e.year),t.setMonth(parseInt(e.month)-1,parseInt(e.day)),e.dt=t,void 0==o.sweeps&&(o.sweeps=[],p.sweeps=o.sweeps);for(var r=!1,s=0;s<p.sweeps.length;s++)if(p.sweeps[s].dt.getTime()<e.dt.getTime()||p.sweeps[s].dt.getTime()===e.dt.getTime()&&p.sweeps[s].hourNum<e.hourNum){p.sweeps.splice(s,0,e),r=!0;break}r||p.sweeps.push(e),n.remove(8),n.createWithTimeout("<b>Success!</b> Sweep created")},function(){n.remove(8),n.createWithTimeout("<b>Error!</b> Sweep not created")})})}}]);
angular.module("ModalControllers",[]).controller("ModalToggleCtrl",["$modal",function(t){this.toggleSignOutModal=function(){t.open({templateUrl:"logout_modal.html",controller:"SimpleModalInstanceCtrl",controllerAs:"modal"})},this.toggleEditProfileModal=function(){t.open({templateUrl:"edit_profile_modal.html",controller:"SimpleModalInstanceCtrl",controllerAs:"modal"})}}]).controller("SimpleModalInstanceCtrl",["$modalInstance",function(t){this.cancel=function(){t.dismiss("cancel")}}]).controller("NewMemberModalInstanceCtrl",["$modalInstance","$controller",function(t,e){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.email="",this.addMember=function(e){return e=e.trim(),0===e.length?void t.dismiss("cancel"):(e.indexOf("@")<0&&(e+="@gmail.com"),void t.close(e))}}]).controller("DeleteTeamModalInstanceCtrl",["$modalInstance","$controller",function(t,e){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.remove=function(){t.close()}}]).controller("ImportSweepsModalInstanceCtrl",["$modalInstance","$controller","teams",function(t,e,n){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.teams=n,this.selectedTeam=n[0],this["import"]=function(){t.close(this.selectedTeam)}}]).controller("CreateTeamModalInstanceCtrl",["$modalInstance","$controller","user","courses",function(t,e,n,o){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.teamName="",this.teamMembers="",this.includeLeader=!1;var s=this;this.courses=angular.copy(o.ids),this.offeredCourses=o,this.getCourseTitle=function(t){for(var e=0;e<o.ids.length;e++)if(o.ids[e]===t)return o.titles[e];return""},this.add=function(){for(var e={name:s.teamName,leader:n.email,members:[],courses:s.courses},o=s.teamMembers.split(","),r=0;r<o.length;r++){var a=o[r].trim();0!==a.length&&(a.indexOf("@")<0&&(a+="@gmail.com"),e.members.push({email:a,visibility:"NOT_CHOSEN"}))}s.includeLeader&&e.members.push({email:n.email,visibility:"ALL_MEMBERS"}),t.close(e)}}]).controller("ExportModalParentCtrl",["$modalInstance","$controller","team","$window",function(t,e,n){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.team=n,this.fullname=!0,this.username=!0,this.hasTimestamp=!0,this.pointValue="points",this.pointsPerUnit=parseInt(localStorage.getItem("ppu"))||1,this.pointsPerTask=parseInt(localStorage.getItem("ppt"))||1,this.includeCourseProgress=!1,this.includeTrackProgress=!1,this.timezone="Eastern",this.timezones=["UTC","Eastern","Central","Mountain","Pacific"],this.data=[];if(console.log(n),n.members_progress&&n.members_progress.length>0)for(var o=n.members_progress[0].course_progress,s=0;s<o.length;s++){for(var r={name:o[s].name,tracks:[],toggled:!1,id:o[s].id},a=o[s].track_progress,l=0;l<a.length;l++){for(var i={name:a[l].name,units:[],toggled:!1},c=a[l].unit_progress,m=0;m<c.length;m++){var d={name:c[m].name,toggled:!1};i.units.push(d)}r.tracks.push(i)}this.data.push(r)}else alert("You need at least one member to do this!");var u=function(t){t.toggled=!0;for(var e=0;e<t.units.length;e++)if(!t.units[e].toggled){t.toggled=!1;break}},g=function(t){t.toggled=!0;for(var e=0;e<t.tracks.length;e++)if(!t.tracks[e].toggled){t.toggled=!1;break}};this.toggleCourse=function(t){for(var e=t.tracks,n=0;n<e.length;n++){for(var o=e[n].units,s=0;s<o.length;s++)o[s].toggled=!t.toggled;e[n].toggled=!t.toggled}t.toggled=!t.toggled},this.toggleTrack=function(t,e){for(var n=e.units,o=0;o<n.length;o++)n[o].toggled=!e.toggled;e.toggled=!e.toggled,g(t)},this.unitToggled=function(t,e){u(e),g(t)},this.generate=function(){var t="team_urlsafe="+n.team_key;this.fullname&&(t+="&student_name=true"),this.username&&(t+="&rose_username=true"),this.hasTimestamp&&(t+="&timezone="+this.timezone),this.includeCourseProgress&&(t+="&course_progress=true"),this.includeTrackProgress&&(t+="&track_progress=true"),"points"===this.pointValue?(t+="&ppu="+this.pointsPerUnit,localStorage.setItem("ppu",this.pointsPerUnit)):(t+="&ppt="+this.pointsPerTask,localStorage.setItem("ppt",this.pointsPerTask));for(var e=angular.copy(this.data),o=0;o<e.length;o++)for(var s=e[o],r=0;r<s.tracks.length;r++){for(var a=s.tracks[r],l=[],i=0;i<a.units.length;i++){var c=a.units[i];c.toggled&&l.push(c.name)}a.units=l}var m=JSON.stringify(e);t+="&progress_data="+m,this.onPostGenerate(t)}}]).controller("ExportModalInstanceCtrl",["$modalInstance","$controller","team","$window",function(t,e,n,o){angular.extend(this,e("ExportModalParentCtrl",{$modalInstance:t,$controller:e,team:n})),this.onPostGenerate=function(e){var n="http://"+o.location.host+"/teams/export.csv?";o.open(n+encodeURI(e),"_blank"),t.close()},this.doneButtonText="Generate"}]).controller("NewSweepModalInstanceCtrl",["$modalInstance","$controller","team_key","$modal","progress",function(t,e,n,o,s){angular.extend(this,e("SimpleModalInstanceCtrl",{$modalInstance:t})),this.sweep={dt:new Date,team_key:n,options:"",hourNum:12,tz:"Eastern"},this.timezones=["UTC","Eastern","Central","Mountain","Pacific"],this.today=new Date,this.stopEvent=function(t){t.preventDefault(),t.stopPropagation()},this.addSweep=function(){t.close(this.sweep)};var r=this;this.toggleSweepOptionsModal=function(){var t=o.open({templateUrl:"/static/teams/partials/modals/export_progress_modal.html",controller:"SweepOptionsModalInstanceCtrl",controllerAs:"modal",resolve:{team:function(){return s},optionString:function(){return r.sweep.options}}});t.result.then(function(t){r.sweep.options=t})}}]).controller("SweepOptionsModalInstanceCtrl",["$modalInstance","$controller","team","optionString",function(t,e,n,o){if(angular.extend(this,e("ExportModalParentCtrl",{$modalInstance:t,$controller:e,team:n})),this.onPostGenerate=function(e){t.close(e)},this.doneButtonText="Done",""!==o){var s={};o=o.split("&");for(var r=0;r<o.length;r++){var a=o[r].split("=");s[a[0]]=a[1]}this.fullname="true"===s.student_name,this.username="true"===s.rose_username,this.hasTimestamp=void 0!=s.timezone,this.pointValue=s.ppu?"points":"tasks",this.pointsPerUnit=parseInt(s.ppu)||parseInt(localStorage.getItem("ppu"))||1,this.pointsPerTask=parseInt(s.ppt)||parseInt(localStorage.getItem("ppt"))||1,this.includeCourseProgress="true"===s.course_progress,this.includeTrackProgress="true"===s.track_progress,this.timezone=s.timezone||"Eastern",this.timezones=["UTC","Eastern","Central","Mountain","Pacific"];for(var l=JSON.parse(s.progress_data),r=0;r<this.data.length;r++)for(var i=this.data[r],c=0;c<i.tracks.length;c++)for(var m=i.tracks[c],d=l[r].tracks[c].units,u=0;u<m.units.length;u++){var g=m.units[u];g.toggled=-1!==d.indexOf(g.name)}}}]);
angular.module("OverviewControllers",[]).controller("OverviewCtrl",function(){}).controller("PreviewCtrl",["oAuth","$location","sidebar","$rootScope","snackbar","userEmail",function(t,e,o,n,r,i){t.check().then(function(){e.path("/overview"),o.show.set(!0),n.$apply()}),this.signup=function(){t.signup().then(function(){t.getUserInfo().then(function(t){t.email!==i&&r.createWithTimeout("<b>Danger!</b> Signing up for teams with another account may cause errors!",6e3)}),e.path("/overview"),o.show.set(!0)},function(){r.createWithTimeout("<b>Error!</b> Sign up failed")})}}]).controller("SidebarCtrl",["sidebar","$location","$scope",function(t,e,o){this.routes=t.routes,this.show=t.show.get();var n=this;o.$watch(function(){return t.show.get()},function(t){n.show=t}),this.isActive=function(t){var o=e.path();return t=t.substring(1),o.startsWith(t)}}]);
angular.module("TeamControllers",[]).controller("TeamsCtrl",["$modal","teams",function(r,e){this.items=e.teams}]).controller("TeamsParentCtrl",["$modal","team",function(r,e){this.toggleExportProgressModal=function(){r.open({templateUrl:"/static/teams/partials/modals/export_progress_modal.html",controller:"ExportModalInstanceCtrl",controllerAs:"modal",resolve:{team:function(){return e}}})}}]).controller("TeamsCourseCtrl",["$modal","team","$controller",function(r,e,s){if(angular.extend(this,s("TeamsParentCtrl",{$modal:r,team:e})),this.team=e,void 0==e.members_progress&&(this.team.members_progress=[]),this.courses=[],e.members_progress.length>0){courses=e.members_progress[0].course_progress;for(var t=0;t<courses.length;t++)this.courses.push(courses[t].name)}}]).controller("TeamsTrackCtrl",["$routeParams","team","$modal","$controller",function(r,e,s,t){if(angular.extend(this,t("TeamsParentCtrl",{$modal:s,team:e})),this.team=e,void 0==e.members_progress&&(this.team.members_progress=[]),this.course=r.course_name,this.tracks=[],e.members_progress.length>0)for(var o=e.members_progress[0].course_progress,a=0;a<o.length;a++)if(o[a].name===this.course){this.courseNum=a;for(var m=o[a].track_progress,n=0;n<m.length;n++)this.tracks.push(m[n].name);break}var l=this;this.getProgressForMemberTrack=function(r,e){return r.course_progress[l.courseNum].track_progress[e].progress}}]).controller("TeamsUnitCtrl",["$routeParams","team","$modal","$controller",function(r,e,s,t){if(angular.extend(this,t("TeamsParentCtrl",{$modal:s,team:e})),this.team=e,void 0==e.members_progress&&(this.team.members_progress=[]),this.course=r.course_name,this.track=r.track_name,this.units=[],e.members_progress.length>0)for(var o=e.members_progress[0].course_progress,a=0;a<o.length;a++)if(o[a].name===this.course){this.courseNum=a;for(var m=o[a].track_progress,n=0;n<m.length;n++)if(m[n].name===this.track){this.trackNum=n;for(var l=m[n].unit_progress,i=0;i<l.length;i++)this.units.push(l[i].name);break}break}var c=this;this.getProgressForMemberUnit=function(r,e){return r.course_progress[c.courseNum].track_progress[c.trackNum].unit_progress[e].progress}}]);
angular.module("TeamServices",[]).factory("sidebar",function(){var e=!0;return{routes:[{name:"Overview",href:"#/overview/"},{name:"Teams",href:"#/teams/"},{name:"Invites",href:"#/invites/"},{name:"Manage",href:"#/manage/"}],show:{get:function(){return e},set:function(t){e=t}}}}).factory("userEmail",["$rootScope",function(e){return e.userEmail}]).service("oAuth",["$q","$location",function(e,t){var i=function(t){return function(){var i=e.defer();return gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:t},function(e){e.error?i.reject(e):i.resolve(e)}),i.promise}};this.signup=i(!1),this.check=i(!0),this.execute=function(t){var i=e.defer();return gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:!0},function(){t.execute(function(e){e.code?i.reject(e):i.resolve(e.result)})}),i.promise},this.getUserInfo=function(){return this.execute(gapi.client.oauth2.userinfo.get())}}]).service("api",["oAuth","$q",function(e,t){var i={};this.deleteCache=function(){i={}};var n=function(n,r){return function(s){var a=t.defer();return void 0!=i[n]&&void 0==s?(a.resolve(i[n]),a.promise):(e.execute(r).then(function(e){i[n]=e,a.resolve(e)},function(e){a.reject(e)}),a.promise)}},r=function(n,r){return function(s){var a=t.defer();return void 0!=i[n+s.team_key]?(a.resolve(i[n+s.team_key]),a.promise):(e.execute(r(s)).then(function(e){i[n+s.team_key]=e,a.resolve(e)},function(e){a.reject(e)}),a.promise)}};this.deleteTeam=function(t){if(void 0!=i.get_teams)for(var n=i.get_teams.teams,r=0;r<n.length;r++)if(t.team_key==n[r].team_key){n.splice(r,1);break}return e.execute(gapi.client.teams["delete"](t))},this.insertTeam=function(n){var r=t.defer(),s=void 0!=i.get_teams,a=void 0,o=void 0==n.team_key;return s&&(a=i.get_teams.teams,void 0==a&&(i.get_teams.teams=[],a=i.get_teams.teams)),e.execute(gapi.client.teams.insert(n)).then(function(e){if(s)if(o)a.push(e);else for(var t=0;t<a.length;t++)if(e.team_key===a[t].team_key){a[t]=e;break}r.resolve(e)},function(e){r.reject(e)}),r.promise},this.getInvites=n("get_invites",gapi.client.teams.invites.list()),this.editInvite=function(t){return e.execute(gapi.client.teams.invites.respond(t))},this.getTeams=n("get_teams",gapi.client.teams.list.all()),this.getLeadTeams=n("get_lead_teams",gapi.client.teams.list.leader()),this.getProgress=r("progress",gapi.client.teams.progress),this.getSweeps=r("sweep",gapi.client.teams.sweeps.get),this.insertSweep=function(t){return e.execute(gapi.client.teams.sweeps.insert(t))},this.deleteSweep=function(t){return e.execute(gapi.client.teams.sweeps["delete"](t))},this.getCourses=n("courses",gapi.client.teams.courses())}]);
angular.module("TeamDirectives",[]).directive("teamTitle",function(){return{restrict:"E",scope:{team:"="},templateUrl:"/static/teams/partials/components/team_title.html"}}).directive("routeLoadingIndicator",["$rootScope",function(e){return{restrict:"E",templateUrl:"/static/teams/partials/components/loading_spinner.html",link:function(t,n,r){e.$on("$routeChangeStart",function(){e.isRouteLoading=!0}),e.$on("$routeChangeSuccess",function(){e.isRouteLoading=!1})}}}]).filter("percentage",["$filter",function(e){return function(t,n){return e("number")(100*t,n)+"%"}}]).filter("pendingSweeps",function(){return function(e){var t=new Date,n=new Date(0);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth(),t.getDate());var r=t.getHours(),i=[];return angular.forEach(e,function(e){(e.dt.getTime()>n.getTime()||e.dt.getTime()===n.getTime()&&e.hourNum>r)&&i.push(e)}),i}}).filter("firedSweeps",function(){return function(e){var t=new Date,n=new Date(0);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth(),t.getDate());var r=t.getHours(),i=[];return angular.forEach(e,function(e){(e.dt.getTime()<n.getTime()||e.dt.getTime()===n.getTime()&&e.hourNum<=r)&&i.push(e)}),i}});
!function(a){"use strict";var n=a.module("angular.snackbar",[]);n.factory("snackbar",["$rootScope",function(a){return{createWithTimeout:function(n,e){a.$broadcast("createSnackbarWithTimeout",{content:n,duration:e})},create:function(n,e){a.$broadcast("createSnackbar",{content:n,id:e})},remove:function(n){a.$broadcast("removeSnackbar",{id:n})}}}]),n.directive("snackbar",["$rootScope","$compile","$timeout",function(n,e,c){return function(t,r,o){var s=a.element(r),i=o.snackbarDuration||3e3,u=o.snackbarRemoveDelay||20;n.$on("createSnackbarWithTimeout",function(n,r){var o='<div class="snackbar snackbar-opened"><span class="snackbar-content">'+r.content+"</span></div>",b=a.element(e(o)(t));s.append(b),c(function(){b.removeClass("snackbar-opened"),c(function(){b.remove()},u,!1)},r.duration||i,!1)}),n.$on("createSnackbar",function(n,c){var r='<div class="snackbar snackbar-opened snackbar-id-'+c.id+'"><span class="snackbar-content">'+c.content+"</span></div>",o=a.element(e(r)(t));s.append(o)}),n.$on("removeSnackbar",function(n,e){var c=a.element(s[0].getElementsByClassName("snackbar-id-"+e.id));c.removeClass("snackbar-opened"),c.remove()})}}])}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiLCJhcHAuanMiLCJpbnZpdGVzX2NvbnRyb2xsZXJzLmpzIiwibWFuYWdlX2NvbnRyb2xsZXJzLmpzIiwibW9kYWxfY29udHJvbGxlcnMuanMiLCJvdmVydmlld19jb250cm9sbGVycy5qcyIsInRlYW1zX2NvbnRyb2xsZXJzLmpzIiwic2VydmljZXMuanMiLCJkaXJlY3RpdmVzLmpzIiwiYW5ndWxhci5zbmFja2Jhci5taW4uanMiXSwibmFtZXMiOlsiQ0xJRU5UX0lEIiwiU0NPUEVTIiwiUkVTUE9OU0VfVFlQRSIsImluaXQiLCJhcGlzVG9Mb2FkIiwiYXBpUm9vdCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdCIsImluZGV4T2YiLCJjYWxsYmFjayIsImFuZ3VsYXIiLCJib290c3RyYXAiLCJkb2N1bWVudCIsImdhcGkiLCJjbGllbnQiLCJsb2FkIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicmVzb2x2ZSIsInRlYW1zIiwiYXBpIiwiZ2V0VGVhbXMiLCJ0ZWFtIiwiJHJvdXRlIiwiZ2V0UHJvZ3Jlc3MiLCJjdXJyZW50IiwicGFyYW1zIiwiaW52aXRlcyIsImdldEludml0ZXMiLCJnZXRMZWFkVGVhbXMiLCJ1c2VyIiwib0F1dGgiLCJnZXRVc2VySW5mbyIsImNvdXJzZXMiLCJnZXRDb3Vyc2VzIiwic3dlZXBzIiwiZ2V0U3dlZXBzIiwicHJvZ3Jlc3MiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwicnVuIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsInNpZGViYXIiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZUNsYXNzIiwicXVlcnlTZWxlY3RvciIsImFkZENsYXNzIiwiY2hlY2siLCJ0aGVuIiwicGF0aCIsInNob3ciLCJzZXQiLCJzbmFja2JhciIsInRoaXMiLCJwZW5kaW5nIiwiYWNjZXB0ZWQiLCJhbGxJbnZpdGVzIiwidW5kZWZpbmVkIiwiaSIsImxlbmd0aCIsInJlc3BvbnNlIiwicHVzaCIsInNlbGYiLCJlZGl0SW52aXRlIiwiaW52aXRlIiwibmV3UmVzcG9uc2UiLCJyZWZyZXNoVGVhbXMiLCJ0ZWFtX2tleSIsInNwbGljZSIsImNyZWF0ZSIsInJlbW92ZSIsImNyZWF0ZVdpdGhUaW1lb3V0IiwicGVuZGluZ1Jlc3BvbnNlcyIsImFjY2VwdGVkUmVzcG9uc2VzIiwicmVzcG9uc2VPcHRpb25zIiwiTk9UX0NIT1NFTiIsIkFMTF9NRU1CRVJTIiwiVEVBTV9MRUFERVIiLCJSRUpFQ1RfSU5WSVRFIiwiJG1vZGFsIiwiaXRlbXMiLCJ0b2dnbGVDcmVhdGVUZWFtTW9kYWwiLCJtb2RhbEluc3RhbmNlIiwib3BlbiIsImNvbnRyb2xsZXJBcyIsInJlc3VsdCIsIm5ld1RlYW0iLCJpbnNlcnRUZWFtIiwiZXJyb3IiLCIkcm91dGVQYXJhbXMiLCIkc2NvcGUiLCJ0ZWFtTnVtYmVyIiwiZ29Ub1N3ZWVwIiwib2ZmZXJlZENvdXJzZXMiLCJjb25zb2xlIiwibG9nIiwiZ2V0Q291cnNlVGl0bGUiLCJwcmVmaXgiLCJpZHMiLCJ0aXRsZXMiLCJ0aW1lc0NoYW5nZWQiLCJkZXJlZ2lzdGVyIiwiJHdhdGNoIiwib25JbnB1dE1hZGVEaXJ0eSIsImRlbGV0ZU1lbWJlciIsIm1lbWJlciIsIm1lbWJlcnMiLCJlbWFpbCIsInNhdmVUZWFtIiwidG9nZ2xlRGVsZXRlVGVhbU1vZGFsIiwiZGVsZXRlVGVhbSIsInRvZ2dsZUNyZWF0ZU1lbWJlck1vZGFsIiwibmV3RW1haWwiLCJuZXdNZW1iZXIiLCJ2aXNpYmlsaXR5IiwibmV3TWVtYmVycyIsInZpc2liaWxpdHlPcHRpb25zIiwidG9kYXkiLCJEYXRlIiwidGltZXpvbmVzIiwiZG9uZSIsInN3ZWVwIiwiaG91ck51bSIsInBhcnNlSW50IiwiaG91ciIsImR0Iiwic2V0RnVsbFllYXIiLCJ5ZWFyIiwic2V0TW9udGgiLCJtb250aCIsImRheSIsInNhdmVTd2VlcCIsInRvU3RyaW5nIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJpbnNlcnRTd2VlcCIsIm5ld1N3ZWVwIiwiZGVsZXRlU3dlZXAiLCJzd2VlcF9rZXkiLCJzdG9wRXZlbnQiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInRvZ2dsZUltcG9ydFN3ZWVwc0RpYWxvZyIsInRlYW1Ub0ltcG9ydEZyb20iLCJuYW1lIiwiaW1wb3J0ZWRTd2VlcHMiLCJpbnNlcnRlZCIsImdldFRpbWUiLCJ0b2dnbGVTd2VlcE9wdGlvbnNNb2RhbCIsIm9wdGlvblN0cmluZyIsIm9wdGlvbnMiLCJuZXdPcHRpb25zIiwidG9nZ2xlQ3JlYXRlU3dlZXBEaWFsb2ciLCJ0b2dnbGVTaWduT3V0TW9kYWwiLCJ0b2dnbGVFZGl0UHJvZmlsZU1vZGFsIiwiJG1vZGFsSW5zdGFuY2UiLCJjYW5jZWwiLCJkaXNtaXNzIiwiJGNvbnRyb2xsZXIiLCJleHRlbmQiLCJhZGRNZW1iZXIiLCJ0cmltIiwiY2xvc2UiLCJzZWxlY3RlZFRlYW0iLCJ0ZWFtTmFtZSIsInRlYW1NZW1iZXJzIiwiaW5jbHVkZUxlYWRlciIsImNvcHkiLCJhZGQiLCJsZWFkZXIiLCJzcGxpdCIsImZ1bGxuYW1lIiwidXNlcm5hbWUiLCJoYXNUaW1lc3RhbXAiLCJwb2ludFZhbHVlIiwicG9pbnRzUGVyVW5pdCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwb2ludHNQZXJUYXNrIiwiaW5jbHVkZUNvdXJzZVByb2dyZXNzIiwiaW5jbHVkZVRyYWNrUHJvZ3Jlc3MiLCJ0aW1lem9uZSIsImRhdGEiLCJtZW1iZXJzX3Byb2dyZXNzIiwiY291cnNlX3Byb2dyZXNzIiwiY291cnNlIiwidHJhY2tzIiwidG9nZ2xlZCIsImlkIiwidHJhY2tfcHJvZ3Jlc3MiLCJqIiwidHJhY2siLCJ1bml0cyIsInVuaXRfcHJvZ3Jlc3MiLCJrIiwidW5pdCIsImFsZXJ0IiwiY2hlY2tUcmFja1RvZ2dsZSIsImNoZWNrQ291cnNlVG9nZ2xlIiwidG9nZ2xlQ291cnNlIiwidG9nZ2xlVHJhY2siLCJ1bml0VG9nZ2xlZCIsImdlbmVyYXRlIiwibGFuZGluZ1FzIiwic2V0SXRlbSIsInByb2dyZXNzX2RhdGEiLCJ1bml0TGlzdCIsImpzb25TdHJpbmciLCJKU09OIiwic3RyaW5naWZ5Iiwib25Qb3N0R2VuZXJhdGUiLCIkd2luZG93IiwicXMiLCJsYW5kaW5nVXJsIiwiZW5jb2RlVVJJIiwiZG9uZUJ1dHRvblRleHQiLCJ0eiIsImFkZFN3ZWVwIiwib3AiLCJwYXJzZSIsInRvZ2dsZWRVbml0cyIsInVzZXJFbWFpbCIsIiRhcHBseSIsInNpZ251cCIsInVzZXJJbmZvIiwicm91dGVzIiwiZ2V0IiwidmFsdWUiLCJpc0FjdGl2ZSIsInJvdXRlVXJsIiwic3Vic3RyaW5nIiwic3RhcnRzV2l0aCIsInRvZ2dsZUV4cG9ydFByb2dyZXNzTW9kYWwiLCJjb3Vyc2VfbmFtZSIsImNvdXJzZU51bSIsImNvdXJzZVRyYWNrcyIsImdldFByb2dyZXNzRm9yTWVtYmVyVHJhY2siLCJ0cmFja051bSIsInRyYWNrX25hbWUiLCJ0cmFja1VuaXRzIiwiZ2V0UHJvZ3Jlc3NGb3JNZW1iZXJVbml0IiwidW5pdE51bSIsImZhY3RvcnkiLCJpc1Nob3dpbmciLCJocmVmIiwic2hvd2luZyIsInNlcnZpY2UiLCIkcSIsInNpZ25pbiIsImltbWVkaWF0ZSIsInAiLCJkZWZlciIsImF1dGgiLCJhdXRob3JpemUiLCJjbGllbnRfaWQiLCJzY29wZSIsImF1dGhSZXN1bHQiLCJyZWplY3QiLCJwcm9taXNlIiwiZXhlY3V0ZSIsImFwaU1ldGhvZCIsInJlc3AiLCJjb2RlIiwib2F1dGgyIiwidXNlcmluZm8iLCJjYWNoZSIsImRlbGV0ZUNhY2hlIiwiY2FjaGVkQXBpQ2FsbCIsImNhY2hlS2V5IiwiZm9yY2VSZWZyZXNoIiwiY2FjaGVkVGVhbUFwaUNhbGwiLCJ0eXBlIiwidXBkYXRlQ2FjaGUiLCJpbnNlcnQiLCJsaXN0IiwicmVzcG9uZCIsImFsbCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwibGluayIsImVsZW0iLCJhdHRycyIsIiRvbiIsImlzUm91dGVMb2FkaW5nIiwiZmlsdGVyIiwiJGZpbHRlciIsImlucHV0IiwiZGVjaW1hbHMiLCJub3ciLCJjb21wYXJlRGF0ZSIsImdldEhvdXJzIiwiZmlsdGVyZWQiLCJmb3JFYWNoIiwiaXRlbSIsImEiLCJuIiwiZSIsIiRicm9hZGNhc3QiLCJjb250ZW50IiwiZHVyYXRpb24iLCJjIiwidCIsInIiLCJvIiwicyIsInNuYWNrYmFyRHVyYXRpb24iLCJ1Iiwic25hY2tiYXJSZW1vdmVEZWxheSIsImIiLCJhcHBlbmQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIl0sIm1hcHBpbmdzIjoiQUFxQkFBLFVBQVksOEVBTVpDLE9BQVMsaURBT1RDLGNBQWdCLGlCQVFoQkMsS0FBTyxXQUNOLEdBQUlDLEdBQ0FDLEVBQVUsS0FBT0MsT0FBT0MsU0FBU0MsS0FBTyxVQUVNLE1BQTlDRixPQUFPQyxTQUFTQyxLQUFLQyxRQUFRLGVBQ2hDSixFQUFVLDRDQUVYLElBQUlLLEdBQVcsV0FDTSxLQUFkTixHQUVMTyxRQUFRQyxVQUFVQyxVQUFXLFlBRy9CVCxHQUFhLEVBQ2JVLEtBQUtDLE9BQU9DLEtBQUssUUFBUyxLQUFNTixFQUFVTCxHQUMxQ1MsS0FBS0MsT0FBT0MsS0FBSyxTQUFVLEtBQU1OO0FDekRsQyxZQUVBQyxTQUFRTSxPQUFPLFdBQVksa0JBQW1CLG1CQUFvQixzQkFBdUIsb0JBQzlELGVBQWlCLG9CQUFxQixlQUFnQixVQUFXLGlCQUNqRSxxQkFDMUJDLFFBQVEsaUJBQ1AsU0FBU0MsR0FDUEEsRUFDR0MsS0FBSyxjQUNKQyxZQUFhLHVDQUNiQyxXQUFZLDZCQUViRixLQUFLLGFBQ0pDLFlBQWEsc0NBQ2JDLFdBQVksMkJBRWJGLEtBQUssV0FDSkMsWUFBYSxvQ0FDYkMsV0FBWSxxQkFDWkMsU0FDRUMsT0FBUSxNQUFPLFNBQVNDLEdBQ3RCLE1BQU9BLEdBQUlDLGdCQUloQk4sS0FBSyw0QkFDSkMsWUFBYSwyQ0FDYkMsV0FBWSw2QkFDWkMs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SSxTQUFTSCxLQUFLck8sT0FBTyxTQUFTb08sRUFBRUMsR0FBR0YsRUFBRUcsV0FBVyxrQkFBa0JDLFFBQVFILEVBQUUzRyxHQUFHNEcsS0FBS3BPLE9BQU8sU0FBU21PLEdBQUdELEVBQUVHLFdBQVcsa0JBQWtCN0csR0FBRzJHLFNBQVNBLEVBQUVsQixVQUFVLFlBQVksYUFBYSxXQUFXLFdBQVcsU0FBU2tCLEVBQUVDLEVBQUVJLEdBQUcsTUFBTyxVQUFTQyxFQUFFQyxFQUFFQyxHQUFHLEdBQUlDLEdBQUVWLEVBQUU5UCxRQUFRc1EsR0FBR3RQLEVBQUV1UCxFQUFFRSxrQkFBa0IsSUFBSUMsRUFBRUgsRUFBRUkscUJBQXFCLEVBQUdaLEdBQUViLElBQUksNEJBQTRCLFNBQVNhLEVBQUVPLEdBQUcsR0FBSUMsR0FBRSx3RUFBd0VELEVBQUVKLFFBQVEsZ0JBQWdCVSxFQUFFZCxFQUFFOVAsUUFBUWdRLEVBQUVPLEdBQUdGLEdBQUlHLEdBQUVLLE9BQU9ELEdBQUdSLEVBQUUsV0FBV1EsRUFBRTFRLFlBQVksbUJBQW1Ca1EsRUFBRSxXQUFXUSxFQUFFaFAsVUFBVThPLEdBQUUsSUFBS0osRUFBRUgsVUFBVW5QLEdBQUUsS0FBTStPLEVBQUViLElBQUksaUJBQWlCLFNBQVNhLEVBQUVLLEdBQUcsR0FBSUUsR0FBRSxvREFBb0RGLEVBQUVoSCxHQUFHLG9DQUFvQ2dILEVBQUVGLFFBQVEsZ0JBQWdCSyxFQUFFVCxFQUFFOVAsUUFBUWdRLEVBQUVNLEdBQUdELEdBQUlHLEdBQUVLLE9BQU9OLEtBQUtSLEVBQUViLElBQUksaUJBQWlCLFNBQVNhLEVBQUVDLEdBQUcsR0FBSUksR0FBRU4sRUFBRTlQLFFBQVF3USxFQUFFLEdBQUdNLHVCQUF1QixlQUFlZCxFQUFFNUcsSUFBS2dILEdBQUVsUSxZQUFZLG1CQUFtQmtRLEVBQUV4TyxnQkFBZ0JsRSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IDIwMTMgU2ZlaXIgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIENsaWVudCBJRCBvZiB0aGUgYXBwbGljYXRpb24gKGZyb20gdGhlIEFQSXMgQ29uc29sZSkuXG4gKlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuLy8gQmVsb3cgaXMgZm9yIHRoZSBkZXBsb3llZCBhbmQgbG9jYWxob3N0LlxuQ0xJRU5UX0lEID0gJzk2MzAwOTA2NTA4Ny0yYTVjY2w1cmhtNGdoZ204OGxpMjFma2pnc3U1ZXVhMEBkZXZlbG9wZXIuZ3NlcnZpY2VhY2NvdW50LmNvbSc7XG4vKipcbiAqIFNjb3BlcyB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5TQ09QRVMgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC91c2VyaW5mby5lbWFpbCc7XG5cbi8qKlxuICogUmVzcG9uc2UgdHlwZSBvZiB0aGUgYXV0aCB0b2tlbi5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5SRVNQT05TRV9UWVBFID0gJ3Rva2VuIGlkX3Rva2VuJztcblxuLyoqXG4gKiBJbml0aWFsaXplcyB0aGUgYXBwbGljYXRpb24uIEl0IGxvYWRzIGFzeW5jaHJvbm91c2x5IGFsbCBuZWVkZWQgbGlicmFyaWVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9XG4gKiAgICAgICAgICAgIGFwaVJvb3QgUm9vdCBvZiB0aGUgQVBJJ3MgcGF0aC5cbiAqL1xuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgYXBpc1RvTG9hZDtcblx0dmFyIGFwaVJvb3QgPSAnLy8nICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyAnL19haC9hcGknO1xuXHQvLyBDaGFuZ2UgdG8gaHR0cHMgYXBwc3BvdCBkb21haW4gZm9yIGRlcGxveW1lbnQuXG5cdGlmICh3aW5kb3cubG9jYXRpb24uaG9zdC5pbmRleE9mKFwibG9jYWxob3N0XCIpID09PSAtMSkge1xuXHRcdGFwaVJvb3QgPSBcImh0dHBzOi8vcm9zZWJvdGljc3dlYi5hcHBzcG90LmNvbS9fYWgvYXBpXCJcblx0fVxuXHR2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoLS1hcGlzVG9Mb2FkID09IDApIHtcblx0XHRcdC8vIGJvb3RzdHJhcCBtYW51YWxseSBhbmd1bGFyanMgYWZ0ZXIgb3VyIGFwaSBhcmUgbG9hZGVkXG5cdFx0XHRhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgW1wiVGVhbUFwcFwiXSk7XG5cdFx0fVxuXHR9XG5cdGFwaXNUb0xvYWQgPSAyOyAvLyBtdXN0IG1hdGNoIG51bWJlciBvZiBjYWxscyB0byBnYXBpLmNsaWVudC5sb2FkKClcblx0Z2FwaS5jbGllbnQubG9hZCgndGVhbXMnLCAndjEnLCBjYWxsYmFjaywgYXBpUm9vdCk7XG5cdGdhcGkuY2xpZW50LmxvYWQoJ29hdXRoMicsICd2MicsIGNhbGxiYWNrKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCdUZWFtQXBwJywgWydUZWFtQ29udHJvbGxlcnMnLCAnTW9kYWxDb250cm9sbGVycycsICdPdmVydmlld0NvbnRyb2xsZXJzJywgJ01hbmFnZUNvbnRyb2xsZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdUZWFtU2VydmljZXMnLCAgJ0ludml0ZUNvbnRyb2xsZXJzJywgJ3VpLmJvb3RzdHJhcCcsICduZ1JvdXRlJywgJ1RlYW1EaXJlY3RpdmVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmd1bGFyLnNuYWNrYmFyJ10pXG4uY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLFxuICBmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuICAgICRyb3V0ZVByb3ZpZGVyXG4gICAgICAud2hlbignL292ZXJ2aWV3LycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL292ZXJ2aWV3Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnT3ZlcnZpZXdDdHJsIGFzIG92ZXJ2aWV3J1xuICAgICAgfSlcbiAgICAgIC53aGVuKCcvcHJldmlldy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9wcmV2aWV3Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnUHJldmlld0N0cmwgYXMgcHJldmlldydcbiAgICAgIH0pXG4gICAgICAud2hlbignL3RlYW1zLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL3RlYW1zLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnVGVhbXNDdHJsIGFzIHRlYW1zJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgIHRlYW1zOiBbJ2FwaScsIGZ1bmN0aW9uKGFwaSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRUZWFtcygpO1xuICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAud2hlbignL3RlYW1zLzp0ZWFtX2tleS9jb3Vyc2VzJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvdGVhbXNfY291cnNlLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnVGVhbXNDb3Vyc2VDdHJsIGFzIGNvdXJzZXMnLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgdGVhbTogW1wiYXBpXCIsIFwiJHJvdXRlXCIsIGZ1bmN0aW9uKGFwaSwgJHJvdXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldFByb2dyZXNzKCRyb3V0ZS5jdXJyZW50LnBhcmFtcyk7XG4gICAgICAgICAgfV1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC53aGVuKCcvdGVhbXMvOnRlYW1fa2V5L2NvdXJzZXMvOmNvdXJzZV9uYW1lL3RyYWNrcycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL3RlYW1zX3RyYWNrLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnVGVhbXNUcmFja0N0cmwgYXMgdHJhY2tzJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgIHRlYW06IFtcImFwaVwiLCBcIiRyb3V0ZVwiLCBmdW5jdGlvbihhcGksICRyb3V0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRQcm9ncmVzcygkcm91dGUuY3VycmVudC5wYXJhbXMpO1xuICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAud2hlbignL3RlYW1zLzp0ZWFtX2tleS9jb3Vyc2VzLzpjb3Vyc2VfbmFtZS90cmFja3MvOnRyYWNrX25hbWUvdW5pdHMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy90ZWFtc191bml0Lmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnVGVhbXNVbml0Q3RybCBhcyB1bml0cycsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICB0ZWFtOiBbXCJhcGlcIiwgXCIkcm91dGVcIiwgZnVuY3Rpb24oYXBpLCAkcm91dGUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0UHJvZ3Jlc3MoJHJvdXRlLmN1cnJlbnQucGFyYW1zKTtcbiAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLndoZW4oJy9pbnZpdGVzLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL2ludml0ZXMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdJbnZpdGVzQ3RybCBhcyBpbnZpdGVzJyxcbiAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgIGludml0ZXM6IFtcImFwaVwiLCBmdW5jdGlvbihhcGkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0SW52aXRlcygpO1xuICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAud2hlbignL21hbmFnZS8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tYW5hZ2UuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdNYW5hZ2VDdHJsIGFzIG1hbmFnZScsXG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICB0ZWFtczogW1wiYXBpXCIsIGZ1bmN0aW9uKGFwaSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5nZXRMZWFkVGVhbXMoKTtcbiAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLndoZW4oJy9tYW5hZ2UvOnRlYW1fa2V5Jywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbWFuYWdlX3RlYW0uaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdNYW5hZ2VUZWFtQ3RybCBhcyBtYW5hZ2UnLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgdGVhbXM6IFtcImFwaVwiLCBmdW5jdGlvbihhcGkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0TGVhZFRlYW1zKCk7XG4gICAgICAgICAgfV0sXG4gICAgICAgICAgdXNlcjogW1wib0F1dGhcIiwgZnVuY3Rpb24ob0F1dGgpIHtcbiAgICAgICAgICAgIHJldHVybiBvQXV0aC5nZXRVc2VySW5mbygpO1xuICAgICAgICAgIH1dLFxuICAgICAgICAgIGNvdXJzZXM6IFtcImFwaVwiLCBmdW5jdGlvbiAoYXBpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmdldENvdXJzZXMoKTtcbiAgICAgICAgICB9XVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLndoZW4oJy9tYW5hZ2UvOnRlYW1fa2V5L3N3ZWVwcycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21hbmFnZV9zd2VlcHMuaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdTd2VlcHNUZWFtQ3RybCBhcyBzd2VlcHMnLFxuICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgdGVhbXM6IFtcImFwaVwiLCBmdW5jdGlvbihhcGkpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0TGVhZFRlYW1zKCk7XG4gICAgICAgICAgfV0sXG4gICAgICAgICAgc3dlZXBzOiBbXCJhcGlcIiwgXCIkcm91dGVcIiwgZnVuY3Rpb24oYXBpLCAkcm91dGUpIHtcbiAgICAgICAgXHQgIHJldHVybiBhcGkuZ2V0U3dlZXBzKCRyb3V0ZS5jdXJyZW50LnBhcmFtcyk7XG4gICAgICAgICAgfV0sXG4gICAgICAgICAgcHJvZ3Jlc3M6IFtcImFwaVwiLCBcIiRyb3V0ZVwiLCBmdW5jdGlvbihhcGksICRyb3V0ZSkge1xuICAgICAgICBcdCAgcmV0dXJuIGFwaS5nZXRQcm9ncmVzcygkcm91dGUuY3VycmVudC5wYXJhbXMpO1xuICAgICAgICAgIH1dXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAub3RoZXJ3aXNlKHtcbiAgICAgICAgcmVkaXJlY3RUbzogJy9vdmVydmlldy8nXG4gICAgICB9KTtcbiAgfV0pXG4gIC5ydW4oW1wiJHJvb3RTY29wZVwiLCBcIiRsb2NhdGlvblwiLCBcIm9BdXRoXCIsIFwic2lkZWJhclwiLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkbG9jYXRpb24sIG9BdXRoLCBzaWRlYmFyKSB7XG5cdCAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGlkZGVuLmNvbnRhaW5lclwiKSkucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG5cdCAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuc3Bpbm5lclwiKSkuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XG5cdCAgb0F1dGguY2hlY2soKS50aGVuKG51bGwsIGZ1bmN0aW9uKCkge1xuICBcdFx0JGxvY2F0aW9uLnBhdGgoJy9wcmV2aWV3Jyk7XG4gIFx0XHRzaWRlYmFyLnNob3cuc2V0KGZhbHNlKTtcblx0ICB9KTtcblx0fV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ0ludml0ZUNvbnRyb2xsZXJzJywgW10pXG4uY29udHJvbGxlcignSW52aXRlc0N0cmwnLCBbXCJpbnZpdGVzXCIsIFwiYXBpXCIsIFwic25hY2tiYXJcIiwgZnVuY3Rpb24oaW52aXRlcywgYXBpLCBzbmFja2Jhcikge1xuXHR0aGlzLnBlbmRpbmcgPSBbXTtcblx0dGhpcy5hY2NlcHRlZCA9IFtdO1xuXHR2YXIgYWxsSW52aXRlcyA9IGludml0ZXNbXCJpbnZpdGVzXCJdO1xuXHRpZiAoYWxsSW52aXRlcyA9PSB1bmRlZmluZWQpIHtcblx0XHRhbGxJbnZpdGVzID0gW107XG5cdH1cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhbGxJbnZpdGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYgKGFsbEludml0ZXNbaV0ucmVzcG9uc2UgPT09IFwiTk9UX0NIT1NFTlwiKSB7XG5cdFx0XHR0aGlzLnBlbmRpbmcucHVzaChhbGxJbnZpdGVzW2ldKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5hY2NlcHRlZC5wdXNoKGFsbEludml0ZXNbaV0pO1xuXHRcdH1cblx0fVxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHRoaXMuZWRpdEludml0ZSA9IGZ1bmN0aW9uKGludml0ZSwgbmV3UmVzcG9uc2UpIHtcblx0XHR2YXIgcmVmcmVzaFRlYW1zID0gZmFsc2U7XG5cdFx0aWYoaW52aXRlLnJlc3BvbnNlID09PSBcIk5PVF9DSE9TRU5cIiAmJiBuZXdSZXNwb25zZSAhPT0gXCJOT1RfQ0hPU0VOXCIpIHtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzZWxmLnBlbmRpbmcubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHNlbGYucGVuZGluZ1tpXS50ZWFtX2tleSA9PT0gaW52aXRlLnRlYW1fa2V5KSB7XG5cdFx0XHRcdFx0c2VsZi5wZW5kaW5nLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0c2VsZi5hY2NlcHRlZC5wdXNoKGludml0ZSk7XG5cdFx0XHRyZWZyZXNoVGVhbXMgPSB0cnVlO1xuXHRcdH1cblx0XHRpZiAobmV3UmVzcG9uc2UgPT09IFwiUkVKRUNUX0lOVklURVwiKSB7XG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2VsZi5hY2NlcHRlZC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoc2VsZi5hY2NlcHRlZFtpXS50ZWFtX2tleSA9PT0gaW52aXRlLnRlYW1fa2V5KSB7XG5cdFx0XHRcdFx0c2VsZi5hY2NlcHRlZC5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJlZnJlc2hUZWFtcyA9IHRydWU7XG5cdFx0fVxuXHRcdGludml0ZS5yZXNwb25zZSA9IG5ld1Jlc3BvbnNlO1xuXHRcdHNuYWNrYmFyLmNyZWF0ZShcIlNlbmRpbmcgcmVzcG9uc2UuLi5cIiwgNCk7XG5cdFx0YXBpLmVkaXRJbnZpdGUoaW52aXRlKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0c25hY2tiYXIucmVtb3ZlKDQpO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5TdWNjZXNzITwvYj4gUmVzcG9uc2Ugc2F2ZWRcIik7XG5cdFx0XHRpZiAocmVmcmVzaFRlYW1zKSB7XG5cdFx0XHRcdGFwaS5nZXRUZWFtcyh0cnVlKTtcblx0XHRcdH1cblx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdHNuYWNrYmFyLnJlbW92ZSg0KTtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+RXJyb3IhPC9iPiBSZXNwb25zZSBub3Qgc2F2ZWRcIik7XG5cdFx0fSk7XG5cdH1cblx0dGhpcy5wZW5kaW5nUmVzcG9uc2VzID0gW1wiTk9UX0NIT1NFTlwiLCBcIkFMTF9NRU1CRVJTXCIsIFwiVEVBTV9MRUFERVJcIiwgXCJSRUpFQ1RfSU5WSVRFXCJdO1xuXHR0aGlzLmFjY2VwdGVkUmVzcG9uc2VzID0gW1wiQUxMX01FTUJFUlNcIiwgXCJURUFNX0xFQURFUlwiLCBcIlJFSkVDVF9JTlZJVEVcIl07XG4gXHR0aGlzLnJlc3BvbnNlT3B0aW9ucyA9IHtcIk5PVF9DSE9TRU5cIiA6IFwiTm8gcmVzcG9uc2VcIixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCJBTExfTUVNQkVSU1wiIDogXCJBbGwgbWVtYmVycyBjYW4gc2VlIG15IHByb2dyZXNzXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiVEVBTV9MRUFERVJcIjogXCJPbmx5IHRoZSBsZWFkZXIgY2FuIHNlZSBteSBwcm9ncmVzc1wiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIlJFSkVDVF9JTlZJVEVcIjogXCJSZWplY3QgaW52aXRlIGFuZCBubyBvbmUgY2FuIHNlZSBteSBwcm9ncmVzc1wifTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdNYW5hZ2VDb250cm9sbGVycycsIFtdKVxuLmNvbnRyb2xsZXIoJ01hbmFnZUN0cmwnLCBbXCIkbW9kYWxcIiwgXCJ0ZWFtc1wiLCBcImFwaVwiLCBcInNuYWNrYmFyXCIsIFwib0F1dGhcIiwgZnVuY3Rpb24oJG1vZGFsLCB0ZWFtcywgYXBpLCBzbmFja2Jhciwgb0F1dGgpIHtcblx0dGhpcy5pdGVtcyA9IHRlYW1zW1widGVhbXNcIl07XG5cdHZhciBzZWxmID0gdGhpcztcblx0dGhpcy50b2dnbGVDcmVhdGVUZWFtTW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tb2RhbHMvY3JlYXRlX3RlYW1fbW9kYWwuaHRtbCcsXG5cdFx0ICBjb250cm9sbGVyOiAnQ3JlYXRlVGVhbU1vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJyxcblx0XHRcdHJlc29sdmU6IHtcblx0XHRcdFx0dXNlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9BdXRoLmdldFVzZXJJbmZvKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNvdXJzZXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBhcGkuZ2V0Q291cnNlcygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihuZXdUZWFtKSB7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGUoXCJDcmVhdGluZyB0ZWFtLi4uXCIsIDEpO1xuXHRcdFx0YXBpLmluc2VydFRlYW0obmV3VGVhbSkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcblx0XHRcdFx0c25hY2tiYXIucmVtb3ZlKDEpO1xuXHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBUZWFtIGNyZWF0ZWRcIik7XG5cdFx0XHRcdGlmICh0ZWFtc1tcInRlYW1zXCJdID09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHRlYW1zW1widGVhbXNcIl0gPSBbXTtcblx0XHRcdFx0XHRzZWxmLml0ZW1zID0gdGVhbXNbXCJ0ZWFtc1wiXTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0ZWFtc1tcInRlYW1zXCJdLnB1c2gocmVzdWx0KTtcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdHNuYWNrYmFyLnJlbW92ZSgxKTtcblx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFRlYW0gbm90IGNyZWF0ZWRcIik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcbn1dKVxuLmNvbnRyb2xsZXIoJ01hbmFnZVRlYW1DdHJsJywgW1wiJHJvdXRlUGFyYW1zXCIsIFwiJG1vZGFsXCIsIFwidGVhbXNcIiwgXCIkc2NvcGVcIiwgXCJzbmFja2JhclwiLCBcImFwaVwiLCBcIiRsb2NhdGlvblwiLCBcInVzZXJcIiwgXCJjb3Vyc2VzXCIsIGZ1bmN0aW9uKCRyb3V0ZVBhcmFtcywgJG1vZGFsLCB0ZWFtcywgJHNjb3BlLCBzbmFja2JhciwgYXBpLCAkbG9jYXRpb24sIHVzZXIsIGNvdXJzZXMpIHtcblx0dmFyIGl0ZW1zID0gdGVhbXNbXCJ0ZWFtc1wiXTtcblx0dmFyIHRlYW1OdW1iZXIgPSAtMTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0aWYoaXRlbXNbaV0udGVhbV9rZXkgPT0gJHJvdXRlUGFyYW1zLnRlYW1fa2V5KSB7XG5cdFx0XHR0aGlzLnRlYW0gPSBpdGVtc1tpXTtcblx0XHRcdHRlYW1OdW1iZXIgPSBpO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cdHRoaXMuZ29Ub1N3ZWVwID0gZnVuY3Rpb24oKSB7XG5cdFx0JGxvY2F0aW9uLnBhdGgoJGxvY2F0aW9uLnBhdGgoKSArIFwiL3N3ZWVwc1wiKTtcblx0fTtcblx0dGhpcy5vZmZlcmVkQ291cnNlcyA9IGNvdXJzZXM7XG5cdGNvbnNvbGUubG9nKGNvdXJzZXMpO1xuXHR0aGlzLmdldENvdXJzZVRpdGxlID0gZnVuY3Rpb24gKHByZWZpeCkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY291cnNlcy5pZHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChjb3Vyc2VzLmlkc1tpXSA9PT0gcHJlZml4KSB7XG5cdFx0XHRcdHJldHVybiBjb3Vyc2VzLnRpdGxlc1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblx0dmFyIHRpbWVzQ2hhbmdlZCA9IDA7XG5cdHZhciBzZWxmID0gdGhpcztcblx0dmFyIGRlcmVnaXN0ZXIgPSAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgXHRyZXR1cm4gc2VsZi50ZWFtO1xuXHR9LCBmdW5jdGlvbigpe1xuXHRcdHRpbWVzQ2hhbmdlZCsrO1xuXHRcdHNlbGYub25JbnB1dE1hZGVEaXJ0eSh0aW1lc0NoYW5nZWQpO1xuXHR9LCB0cnVlKTtcblx0dGhpcy5vbklucHV0TWFkZURpcnR5ID0gZnVuY3Rpb24odGltZXNDaGFuZ2VkKSAge1xuXHRcdGlmKHRpbWVzQ2hhbmdlZCA+IDEpIHtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+V2FybmluZyE8L2I+IFlvdSBtdXN0IHByZXNzIHN1Ym1pdCB0byBzYXZlIHlvdXIgY2hhbmdlc1wiKTtcblx0XHRcdGRlcmVnaXN0ZXIoKTtcblx0XHR9XG5cdH07XG5cdHRoaXMuZGVsZXRlTWVtYmVyID0gZnVuY3Rpb24obWVtYmVyKSB7XG5cdFx0dmFyIG1lbWJlcnMgPSBzZWxmLnRlYW0ubWVtYmVycztcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWVtYmVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYobWVtYmVyc1tpXS5lbWFpbCA9PSBtZW1iZXIuZW1haWwpIHtcblx0XHRcdFx0bWVtYmVycy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0dGhpcy5zYXZlVGVhbSA9IGZ1bmN0aW9uKCkge1xuXHRcdHNuYWNrYmFyLmNyZWF0ZShcIlNhdmluZyB0ZWFtLi4uXCIsIDMpO1xuXHRcdGFwaS5pbnNlcnRUZWFtKHNlbGYudGVhbSkudGhlbihmdW5jdGlvbihuZXdUZWFtKSB7XG5cdFx0XHRzbmFja2Jhci5yZW1vdmUoMyk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBUZWFtIHNhdmVkXCIpO1xuXHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0c25hY2tiYXIucmVtb3ZlKDMpO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFRlYW0gbm90IHNhdmVkXCIpO1xuXHRcdH0pO1xuXHR9XG5cdHRoaXMudG9nZ2xlRGVsZXRlVGVhbU1vZGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0ICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbW9kYWxzL2RlbGV0ZV90ZWFtX21vZGFsLmh0bWwnLFxuXHRcdCAgY29udHJvbGxlcjogJ0RlbGV0ZVRlYW1Nb2RhbEluc3RhbmNlQ3RybCcsXG5cdFx0ICBjb250cm9sbGVyQXM6ICdtb2RhbCdcblx0XHR9KTtcblx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0aXRlbXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlKFwiRGVsZXRpbmcgdGVhbS4uLlwiLCAyKTtcblx0XHRcdGFwaS5kZWxldGVUZWFtKHNlbGYudGVhbSkudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdFx0c25hY2tiYXIucmVtb3ZlKDIpO1xuXHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPlN1Y2Nlc3MhPC9iPiBUZWFtIGRlbGV0ZWRcIik7XG5cdFx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c25hY2tiYXIucmVtb3ZlKDIpO1xuXHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gVGVhbSBub3QgZGVsZXRlZFwiKTtcblx0XHRcdH0pO1xuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9tYW5hZ2UnKTtcblx0XHR9KTtcblx0fTtcblx0dGhpcy50b2dnbGVDcmVhdGVNZW1iZXJNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgdGVtcGxhdGVVcmw6ICcvc3RhdGljL3RlYW1zL3BhcnRpYWxzL21vZGFscy9jcmVhdGVfbWVtYmVyX21vZGFsLmh0bWwnLFxuXHRcdCAgY29udHJvbGxlcjogJ05ld01lbWJlck1vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJ1xuXHRcdH0pO1xuXHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24obmV3RW1haWwpIHtcblx0XHRcdHZhciBuZXdNZW1iZXIgPSB7ZW1haWw6IG5ld0VtYWlsLCB2aXNpYmlsaXR5OiBcIk5PVF9DSE9TRU5cIn07XG5cdFx0XHRpZiAoc2VsZi50ZWFtLm1lbWJlcnMgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHNlbGYudGVhbS5tZW1iZXJzID0gW107XG5cdFx0XHR9XG5cdFx0XHRpZiAobmV3RW1haWwgPT0gdXNlci5lbWFpbCkge1xuXHRcdFx0XHRuZXdNZW1iZXIudmlzaWJpbGl0eSA9IFwiQUxMX01FTUJFUlNcIjtcblx0XHRcdH1cblx0XHRcdHNlbGYudGVhbS5tZW1iZXJzLnB1c2gobmV3TWVtYmVyKTtcblx0XHRcdHNlbGYudGVhbS5uZXdNZW1iZXJzID0gdHJ1ZTtcblx0XHR9KTtcblx0fTtcblx0dGhpcy52aXNpYmlsaXR5T3B0aW9ucyA9IHtcIk5PVF9DSE9TRU5cIiA6IFwiTm8gUmVzcG9uc2VcIixcblx0XHRcdFx0XHRcdFx0ICBcIkFMTF9NRU1CRVJTXCIgOiBcIlByb2dyZXNzIHZpc2libGUgYnkgZXZlcnlvbmVcIixcblx0XHRcdFx0XHRcdFx0ICBcIlRFQU1fTEVBREVSXCI6IFwiUHJvZ3Jlc3MgdmlzaWJsZSBieSBsZWFkZXIgb25seVwifTtcbn1dKVxuLmNvbnRyb2xsZXIoJ1N3ZWVwc1RlYW1DdHJsJywgW1wiJHJvdXRlUGFyYW1zXCIsIFwiJG1vZGFsXCIsIFwidGVhbXNcIiwgXCJzd2VlcHNcIiwgXCIkbG9jYXRpb25cIiwgXCJwcm9ncmVzc1wiLCBcInNuYWNrYmFyXCIsIFwiYXBpXCIsIFwiJHNjb3BlXCIsIGZ1bmN0aW9uKCRyb3V0ZVBhcmFtcywgJG1vZGFsLCB0ZWFtcywgc3dlZXBzLCAkbG9jYXRpb24sIHByb2dyZXNzLCBzbmFja2JhciwgYXBpLCAkc2NvcGUpIHtcblx0dmFyIGl0ZW1zID0gdGVhbXNbXCJ0ZWFtc1wiXTtcblx0dGhpcy5zd2VlcHMgPSBzd2VlcHNbXCJzd2VlcHNcIl0gfHwgW107XG5cdHZhciB0ZWFtTnVtYmVyID0gLTE7XG5cdHRoaXMudG9kYXkgPSBuZXcgRGF0ZSgpO1xuXHR0aGlzLnRpbWV6b25lcyA9IFsnVVRDJywgJ0Vhc3Rlcm4nLCAnQ2VudHJhbCcsICdNb3VudGFpbicsICdQYWNpZmljJ107XG5cdHRoaXMuZG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdCRsb2NhdGlvbi5wYXRoKFwiL21hbmFnZS9cIiArICRyb3V0ZVBhcmFtcy50ZWFtX2tleSk7XG5cdH07XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuXHRcdGlmKGl0ZW1zW2ldLnRlYW1fa2V5ID09ICRyb3V0ZVBhcmFtcy50ZWFtX2tleSkge1xuXHRcdFx0dGhpcy50ZWFtID0gaXRlbXNbaV07XG5cdFx0XHR0ZWFtTnVtYmVyID0gaTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnN3ZWVwcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBzd2VlcCA9IHRoaXMuc3dlZXBzW2ldO1xuXHRcdHN3ZWVwLmhvdXJOdW0gPSBwYXJzZUludChzd2VlcC5ob3VyKTtcblx0XHR2YXIgZHQgPSBuZXcgRGF0ZSgwKTtcblx0XHRkdC5zZXRGdWxsWWVhcihzd2VlcC55ZWFyKTtcblx0XHRkdC5zZXRNb250aChwYXJzZUludChzd2VlcC5tb250aCkgLSAxLCBwYXJzZUludChzd2VlcC5kYXkpKTtcblx0XHRzd2VlcC5kdCA9IGR0O1xuXHR9XG5cdHRoaXMuc2F2ZVN3ZWVwID0gZnVuY3Rpb24oc3dlZXApIHtcblx0XHRzbmFja2Jhci5jcmVhdGUoXCJTYXZpbmcgU3dlZXAuLi5cIiwgNik7XG5cdFx0c3dlZXAuaG91ciA9IHN3ZWVwLmhvdXJOdW0udG9TdHJpbmcoKTtcblx0XHRzd2VlcC55ZWFyID0gc3dlZXAuZHQuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuXHRcdHN3ZWVwLm1vbnRoID0gKHN3ZWVwLmR0LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpO1xuXHRcdHN3ZWVwLmRheSA9IHN3ZWVwLmR0LmdldERhdGUoKS50b1N0cmluZygpO1xuXHRcdGFwaS5pbnNlcnRTd2VlcChzd2VlcCkudGhlbihmdW5jdGlvbihuZXdTd2VlcCkge1xuXHRcdFx0c25hY2tiYXIucmVtb3ZlKDYpO1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5TdWNjZXNzITwvYj4gU3dlZXAgc2F2ZWRcIik7XG5cdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRzbmFja2Jhci5yZW1vdmUoNik7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gU3dlZXAgbm90IHNhdmVkXCIpO1xuXHRcdH0pO1xuXHR9O1xuXHR0aGlzLmRlbGV0ZVN3ZWVwID0gZnVuY3Rpb24oc3dlZXApIHtcblx0XHRzbmFja2Jhci5jcmVhdGUoXCJSZW1vdmluZyBTd2VlcC4uLlwiLCA3KTtcblx0XHRhcGkuZGVsZXRlU3dlZXAoc3dlZXApLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2VsZi5zd2VlcHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYoc3dlZXAuc3dlZXBfa2V5ID09PSBzZWxmLnN3ZWVwc1tpXS5zd2VlcF9rZXkpIHtcblx0XHRcdFx0XHRzZWxmLnN3ZWVwcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHNuYWNrYmFyLnJlbW92ZSg3KTtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+U3VjY2VzcyE8L2I+IFN3ZWVwIHJlbW92ZWRcIik7XG5cblx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdHNuYWNrYmFyLnJlbW92ZSg3KTtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+RXJyb3IhPC9iPiBTd2VlcCBub3QgcmVtb3ZlZFwiKTtcblx0XHR9KTtcblx0fTtcblx0dGhpcy5zdG9wRXZlbnQgPSBmdW5jdGlvbigkZXZlbnQpIHtcblx0XHQkZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH07XG5cdHRoaXMudG9nZ2xlSW1wb3J0U3dlZXBzRGlhbG9nID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1vZGFsSW5zdGFuY2UgPSAkbW9kYWwub3Blbih7XG5cdFx0XHQgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tb2RhbHMvaW1wb3J0X3N3ZWVwc19tb2RhbC5odG1sJyxcblx0XHRcdCAgY29udHJvbGxlcjogJ0ltcG9ydFN3ZWVwc01vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnLFxuXHRcdFx0ICByZXNvbHZlOiB7XG5cdFx0XHRcdCAgdGVhbXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCAgcmV0dXJuIGl0ZW1zO1xuXHRcdFx0XHQgIH1cblx0XHRcdCAgfVxuXHRcdH0pO1xuXHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24odGVhbVRvSW1wb3J0RnJvbSkge1xuXHRcdFx0Y29uc29sZS5sb2codGVhbVRvSW1wb3J0RnJvbSk7XG5cdFx0XHRzbmFja2Jhci5jcmVhdGUoXCJJbXBvcnRpbmcgZnJvbSBcIiArIHRlYW1Ub0ltcG9ydEZyb20ubmFtZSArIFwiLi4uXCIsIDEwKTtcblx0XHRcdGFwaS5nZXRTd2VlcHModGVhbVRvSW1wb3J0RnJvbSkudGhlbihmdW5jdGlvbihpbXBvcnRlZFN3ZWVwcykge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhpbXBvcnRlZFN3ZWVwcyk7XG5cdFx0XHRcdGlmICghaW1wb3J0ZWRTd2VlcHMuc3dlZXBzIHx8ICFpbXBvcnRlZFN3ZWVwcy5zd2VlcHMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0c25hY2tiYXIucmVtb3ZlKDEwKTtcblx0XHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gVGhlcmUgd2VyZSBubyBzd2VlcHMgdG8gaW1wb3J0XCIpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgaW1wb3J0ZWRTd2VlcHMuc3dlZXBzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0dmFyIHN3ZWVwID0gaW1wb3J0ZWRTd2VlcHMuc3dlZXBzW2ldO1xuXHRcdFx0XHRcdGRlbGV0ZSBzd2VlcC5zd2VlcF9rZXk7XG5cdFx0XHRcdFx0c3dlZXAudGVhbV9rZXkgPSBzZWxmLnRlYW0udGVhbV9rZXk7XG5cdFx0XHRcdFx0YXBpLmluc2VydFN3ZWVwKHN3ZWVwKS50aGVuKGZ1bmN0aW9uKG5ld1N3ZWVwKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhuZXdTd2VlcCk7XG5cdFx0XHRcdFx0XHRuZXdTd2VlcC5ob3VyTnVtID0gcGFyc2VJbnQobmV3U3dlZXAuaG91cik7XG5cdFx0XHRcdFx0XHR2YXIgZHQgPSBuZXcgRGF0ZSgwKTtcblx0XHRcdFx0XHRcdGR0LnNldEZ1bGxZZWFyKG5ld1N3ZWVwLnllYXIpO1xuXHRcdFx0XHRcdFx0ZHQuc2V0TW9udGgocGFyc2VJbnQobmV3U3dlZXAubW9udGgpIC0gMSwgcGFyc2VJbnQobmV3U3dlZXAuZGF5KSk7XG5cdFx0XHRcdFx0XHRuZXdTd2VlcC5kdCA9IGR0O1xuXHRcdFx0XHRcdFx0aWYgKHN3ZWVwc1tcInN3ZWVwc1wiXSA9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0c3dlZXBzW1wic3dlZXBzXCJdID0gW107XG5cdFx0XHRcdFx0XHRcdHNlbGYuc3dlZXBzID0gc3dlZXBzW1wic3dlZXBzXCJdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIGluc2VydGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2VsZi5zd2VlcHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0aWYoc2VsZi5zd2VlcHNbaV0uZHQuZ2V0VGltZSgpIDwgbmV3U3dlZXAuZHQuZ2V0VGltZSgpIHx8IChzZWxmLnN3ZWVwc1tpXS5kdC5nZXRUaW1lKCkgPT09IG5ld1N3ZWVwLmR0LmdldFRpbWUoKSAmJiBzZWxmLnN3ZWVwc1tpXS5ob3VyTnVtIDwgbmV3U3dlZXAuaG91ck51bSkpIHtcblx0XHRcdFx0XHRcdFx0XHRzZWxmLnN3ZWVwcy5zcGxpY2UoaSwgMCwgbmV3U3dlZXApO1xuXHRcdFx0XHRcdFx0XHRcdGluc2VydGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYoIWluc2VydGVkKSB7XG5cdFx0XHRcdFx0XHRcdHNlbGYuc3dlZXBzLnB1c2gobmV3U3dlZXApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNuYWNrYmFyLnJlbW92ZSgxMCk7XG5cdFx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+U3VjY2VzcyE8L2I+IFN3ZWVwcyBJbXBvcnRlZFwiKTtcblx0XHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzbmFja2Jhci5yZW1vdmUoMTApO1xuXHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gSW1wb3J0IGZhaWxlZFwiKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cdHRoaXMudG9nZ2xlU3dlZXBPcHRpb25zTW9kYWwgPSBmdW5jdGlvbihzd2VlcCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdFx0ICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbW9kYWxzL2V4cG9ydF9wcm9ncmVzc19tb2RhbC5odG1sJyxcblx0XHRcdCAgY29udHJvbGxlcjogJ1N3ZWVwT3B0aW9uc01vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnLFxuXHRcdFx0ICByZXNvbHZlOiB7XG5cdFx0XHRcdCAgdGVhbTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ICByZXR1cm4gcHJvZ3Jlc3M7XG5cdFx0XHRcdCAgfSxcblx0XHRcdFx0ICBvcHRpb25TdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCAgcmV0dXJuIHN3ZWVwLm9wdGlvbnM7XG5cdFx0XHRcdCAgfVxuXHRcdFx0ICB9XG5cdFx0fSk7XG5cdFx0bW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbihuZXdPcHRpb25zKSB7XG5cdFx0XHRzd2VlcC5vcHRpb25zID0gbmV3T3B0aW9ucztcblx0XHR9KTtcblx0fTtcblx0dGhpcy50b2dnbGVDcmVhdGVTd2VlcERpYWxvZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdFx0ICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbW9kYWxzL2NyZWF0ZV9zd2VlcF9tb2RhbC5odG1sJyxcblx0XHRcdCAgY29udHJvbGxlcjogJ05ld1N3ZWVwTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdFx0ICBjb250cm9sbGVyQXM6ICdtb2RhbCcsXG5cdFx0XHQgIHJlc29sdmU6IHtcblx0XHRcdFx0ICB0ZWFtX2tleTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ICByZXR1cm4gJHJvdXRlUGFyYW1zLnRlYW1fa2V5O1xuXHRcdFx0XHQgIH0sXG5cdFx0XHRcdCAgcHJvZ3Jlc3M6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCAgcmV0dXJuIHByb2dyZXNzO1xuXHRcdFx0XHQgIH1cblx0XHRcdCAgfVxuXHRcdH0pO1xuXHRcdG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24oc3dlZXApIHtcblx0XHRcdHNuYWNrYmFyLmNyZWF0ZShcIkNyZWF0aW5nIFN3ZWVwLi4uXCIsIDgpO1xuXHRcdFx0c3dlZXAuaG91ciA9IHN3ZWVwLmhvdXJOdW0udG9TdHJpbmcoKTtcblx0XHRcdHN3ZWVwLnllYXIgPSBzd2VlcC5kdC5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XG5cdFx0XHRzd2VlcC5tb250aCA9IChzd2VlcC5kdC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKTtcblx0XHRcdHN3ZWVwLmRheSA9IHN3ZWVwLmR0LmdldERhdGUoKS50b1N0cmluZygpO1xuXHRcdFx0YXBpLmluc2VydFN3ZWVwKHN3ZWVwKS50aGVuKGZ1bmN0aW9uKG5ld1N3ZWVwKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKG5ld1N3ZWVwKTtcblx0XHRcdFx0bmV3U3dlZXAuaG91ck51bSA9IHBhcnNlSW50KG5ld1N3ZWVwLmhvdXIpO1xuXHRcdFx0XHR2YXIgZHQgPSBuZXcgRGF0ZSgwKTtcblx0XHRcdFx0ZHQuc2V0RnVsbFllYXIobmV3U3dlZXAueWVhcik7XG5cdFx0XHRcdGR0LnNldE1vbnRoKHBhcnNlSW50KG5ld1N3ZWVwLm1vbnRoKSAtIDEsIHBhcnNlSW50KG5ld1N3ZWVwLmRheSkpO1xuXHRcdFx0XHRuZXdTd2VlcC5kdCA9IGR0O1xuXHRcdFx0XHRpZiAoc3dlZXBzW1wic3dlZXBzXCJdID09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHN3ZWVwc1tcInN3ZWVwc1wiXSA9IFtdO1xuXHRcdFx0XHRcdHNlbGYuc3dlZXBzID0gc3dlZXBzW1wic3dlZXBzXCJdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBpbnNlcnRlZCA9IGZhbHNlO1xuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2VsZi5zd2VlcHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZihzZWxmLnN3ZWVwc1tpXS5kdC5nZXRUaW1lKCkgPCBuZXdTd2VlcC5kdC5nZXRUaW1lKCkgfHwgKHNlbGYuc3dlZXBzW2ldLmR0LmdldFRpbWUoKSA9PT0gbmV3U3dlZXAuZHQuZ2V0VGltZSgpICYmIHNlbGYuc3dlZXBzW2ldLmhvdXJOdW0gPCBuZXdTd2VlcC5ob3VyTnVtKSkge1xuXHRcdFx0XHRcdFx0c2VsZi5zd2VlcHMuc3BsaWNlKGksIDAsIG5ld1N3ZWVwKTtcblx0XHRcdFx0XHRcdGluc2VydGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZighaW5zZXJ0ZWQpIHtcblx0XHRcdFx0XHRzZWxmLnN3ZWVwcy5wdXNoKG5ld1N3ZWVwKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzbmFja2Jhci5yZW1vdmUoOCk7XG5cdFx0XHRcdHNuYWNrYmFyLmNyZWF0ZVdpdGhUaW1lb3V0KFwiPGI+U3VjY2VzcyE8L2I+IFN3ZWVwIGNyZWF0ZWRcIik7XG5cdFx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c25hY2tiYXIucmVtb3ZlKDgpO1xuXHRcdFx0XHRzbmFja2Jhci5jcmVhdGVXaXRoVGltZW91dChcIjxiPkVycm9yITwvYj4gU3dlZXAgbm90IGNyZWF0ZWRcIik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJywgW10pXG4uY29udHJvbGxlcignTW9kYWxUb2dnbGVDdHJsJywgW1wiJG1vZGFsXCIsIGZ1bmN0aW9uKCRtb2RhbCkge1xuXHR0aGlzLnRvZ2dsZVNpZ25PdXRNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgdGVtcGxhdGVVcmw6ICdsb2dvdXRfbW9kYWwuaHRtbCcsXG5cdFx0ICBjb250cm9sbGVyOiAnU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnXG5cdFx0fSk7XG5cdH07XG5cdHRoaXMudG9nZ2xlRWRpdFByb2ZpbGVNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdCAgdGVtcGxhdGVVcmw6ICdlZGl0X3Byb2ZpbGVfbW9kYWwuaHRtbCcsXG5cdFx0ICBjb250cm9sbGVyOiAnU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLFxuXHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnXG5cdFx0fSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdTaW1wbGVNb2RhbEluc3RhbmNlQ3RybCcsIFtcIiRtb2RhbEluc3RhbmNlXCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSkge1xuICB0aGlzLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICB9O1xufV0pXG4uY29udHJvbGxlcignTmV3TWVtYmVyTW9kYWxJbnN0YW5jZUN0cmwnLCBbXCIkbW9kYWxJbnN0YW5jZVwiLCBcIiRjb250cm9sbGVyXCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXIpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1NpbXBsZU1vZGFsSW5zdGFuY2VDdHJsJywgeyRtb2RhbEluc3RhbmNlOiAkbW9kYWxJbnN0YW5jZX0pKTtcblx0dGhpcy5lbWFpbCA9IFwiXCI7XG5cdHRoaXMuYWRkTWVtYmVyID0gZnVuY3Rpb24oZW1haWwpIHtcblx0XHRlbWFpbCA9IGVtYWlsLnRyaW0oKTtcblx0XHRpZiAoZW1haWwubGVuZ3RoID09PSAwKSB7XG5cdFx0XHQkbW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKGVtYWlsLmluZGV4T2YoJ0AnKSA8IDApIHtcblx0XHRcdGVtYWlsICs9ICdAZ21haWwuY29tJztcblx0XHR9XG5cdCAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoZW1haWwpO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignRGVsZXRlVGVhbU1vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBmdW5jdGlvbiAoJG1vZGFsSW5zdGFuY2UsICRjb250cm9sbGVyKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdTaW1wbGVNb2RhbEluc3RhbmNlQ3RybCcsIHskbW9kYWxJbnN0YW5jZTogJG1vZGFsSW5zdGFuY2V9KSk7XG5cdHRoaXMucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG5cdCAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcblx0fTtcbn1dKVxuLmNvbnRyb2xsZXIoJ0ltcG9ydFN3ZWVwc01vZGFsSW5zdGFuY2VDdHJsJywgW1wiJG1vZGFsSW5zdGFuY2VcIiwgXCIkY29udHJvbGxlclwiLCBcInRlYW1zXCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXIsIHRlYW1zKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdTaW1wbGVNb2RhbEluc3RhbmNlQ3RybCcsIHskbW9kYWxJbnN0YW5jZTogJG1vZGFsSW5zdGFuY2V9KSk7XG5cdHRoaXMudGVhbXMgPSB0ZWFtcztcblx0dGhpcy5zZWxlY3RlZFRlYW0gPSB0ZWFtc1swXTtcblx0dGhpcy5pbXBvcnQgPSBmdW5jdGlvbigpIHtcblx0ICAkbW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzLnNlbGVjdGVkVGVhbSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdDcmVhdGVUZWFtTW9kYWxJbnN0YW5jZUN0cmwnLCBbXCIkbW9kYWxJbnN0YW5jZVwiLCBcIiRjb250cm9sbGVyXCIsIFwidXNlclwiLCBcImNvdXJzZXNcIiwgZnVuY3Rpb24gKCRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlciwgdXNlciwgY291cnNlcykge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6ICRtb2RhbEluc3RhbmNlfSkpO1xuXHR0aGlzLnRlYW1OYW1lID0gXCJcIjtcblx0dGhpcy50ZWFtTWVtYmVycyA9IFwiXCI7XG5cdHRoaXMuaW5jbHVkZUxlYWRlciA9IGZhbHNlO1xuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHRoaXMuY291cnNlcyA9IGFuZ3VsYXIuY29weShjb3Vyc2VzLmlkcyk7XG5cdHRoaXMub2ZmZXJlZENvdXJzZXMgPSBjb3Vyc2VzO1xuXHR0aGlzLmdldENvdXJzZVRpdGxlID0gZnVuY3Rpb24ocHJlZml4KSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3Vyc2VzLmlkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGNvdXJzZXMuaWRzW2ldID09PSBwcmVmaXgpIHtcblx0XHRcdFx0cmV0dXJuIGNvdXJzZXMudGl0bGVzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gXCJcIjtcblx0fTtcblx0dGhpcy5hZGQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3VGVhbSA9IHtuYW1lOiBzZWxmLnRlYW1OYW1lLCBsZWFkZXI6IHVzZXIuZW1haWwsIG1lbWJlcnM6W10sIGNvdXJzZXM6c2VsZi5jb3Vyc2VzfTtcblx0XHR2YXIgbWVtYmVycyA9IHNlbGYudGVhbU1lbWJlcnMuc3BsaXQoJywnKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1lbWJlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBlbWFpbCA9IG1lbWJlcnNbaV0udHJpbSgpO1xuXHRcdFx0aWYgKGVtYWlsLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChlbWFpbC5pbmRleE9mKCdAJykgPCAwKSB7XG5cdFx0XHRcdGVtYWlsICs9ICdAZ21haWwuY29tJztcblx0XHRcdH1cblx0XHRcdG5ld1RlYW0ubWVtYmVycy5wdXNoKHtlbWFpbDplbWFpbCwgdmlzaWJpbGl0eTpcIk5PVF9DSE9TRU5cIn0pO1xuXHRcdH1cblx0XHRpZiAoc2VsZi5pbmNsdWRlTGVhZGVyKSB7XG5cdFx0XHRuZXdUZWFtLm1lbWJlcnMucHVzaCh7ZW1haWw6dXNlci5lbWFpbCwgdmlzaWJpbGl0eTpcIkFMTF9NRU1CRVJTXCJ9KTtcblx0XHR9XG5cdCAgJG1vZGFsSW5zdGFuY2UuY2xvc2UobmV3VGVhbSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdFeHBvcnRNb2RhbFBhcmVudEN0cmwnLCBbXCIkbW9kYWxJbnN0YW5jZVwiLCBcIiRjb250cm9sbGVyXCIsIFwidGVhbVwiLCBcIiR3aW5kb3dcIiwgZnVuY3Rpb24gKCRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlciwgdGVhbSkge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignU2ltcGxlTW9kYWxJbnN0YW5jZUN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6ICRtb2RhbEluc3RhbmNlfSkpO1xuXHR0aGlzLnRlYW0gPSB0ZWFtO1xuXHR0aGlzLmZ1bGxuYW1lID0gdHJ1ZTtcblx0dGhpcy51c2VybmFtZSA9IHRydWU7XG5cdHRoaXMuaGFzVGltZXN0YW1wID0gdHJ1ZTtcblx0dGhpcy5wb2ludFZhbHVlID0gXCJwb2ludHNcIjtcblx0dGhpcy5wb2ludHNQZXJVbml0ID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJwcHVcIikpIHx8IDE7XG5cdHRoaXMucG9pbnRzUGVyVGFzayA9IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHB0XCIpKSB8fCAxO1xuXHR0aGlzLmluY2x1ZGVDb3Vyc2VQcm9ncmVzcyA9IGZhbHNlO1xuXHR0aGlzLmluY2x1ZGVUcmFja1Byb2dyZXNzID0gZmFsc2U7XG5cdHRoaXMudGltZXpvbmUgPSAnRWFzdGVybic7XG5cdHRoaXMudGltZXpvbmVzID0gWydVVEMnLCAnRWFzdGVybicsICdDZW50cmFsJywgJ01vdW50YWluJywgJ1BhY2lmaWMnXTtcblx0dGhpcy5kYXRhID0gW107XG5cdHZhciBzZWxmID0gdGhpcztcbiAgY29uc29sZS5sb2codGVhbSk7XG5cdGlmICh0ZWFtLm1lbWJlcnNfcHJvZ3Jlc3MgJiYgdGVhbS5tZW1iZXJzX3Byb2dyZXNzLmxlbmd0aCA+IDApIHtcblx0ICB2YXIgY291cnNlcyA9IHRlYW0ubWVtYmVyc19wcm9ncmVzc1swXS5jb3Vyc2VfcHJvZ3Jlc3M7XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3Vyc2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgY291cnNlID0ge25hbWU6IGNvdXJzZXNbaV0ubmFtZSwgdHJhY2tzOltdLCB0b2dnbGVkOmZhbHNlLCBpZDpjb3Vyc2VzW2ldLmlkfTtcblx0XHRcdHZhciB0cmFja3MgPSBjb3Vyc2VzW2ldLnRyYWNrX3Byb2dyZXNzO1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB0cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0dmFyIHRyYWNrID0ge25hbWU6dHJhY2tzW2pdLm5hbWUsIHVuaXRzOltdLCB0b2dnbGVkOmZhbHNlfTtcblx0XHRcdFx0dmFyIHVuaXRzID0gdHJhY2tzW2pdLnVuaXRfcHJvZ3Jlc3M7XG5cdFx0XHRcdGZvcih2YXIgayA9IDA7IGsgPCB1bml0cy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdHZhciB1bml0ID0ge25hbWU6dW5pdHNba10ubmFtZSwgdG9nZ2xlZDpmYWxzZX07XG5cdFx0XHRcdFx0dHJhY2tbXCJ1bml0c1wiXS5wdXNoKHVuaXQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvdXJzZVtcInRyYWNrc1wiXS5wdXNoKHRyYWNrKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuZGF0YS5wdXNoKGNvdXJzZSk7XG5cdCAgfVxuXHR9IGVsc2Uge1xuXHRcdGFsZXJ0KFwiWW91IG5lZWQgYXQgbGVhc3Qgb25lIG1lbWJlciB0byBkbyB0aGlzIVwiKTtcblx0fVxuXHR2YXIgY2hlY2tUcmFja1RvZ2dsZSA9IGZ1bmN0aW9uKHRyYWNrKSB7XG5cdFx0dHJhY2sudG9nZ2xlZCA9IHRydWU7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRyYWNrLnVuaXRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZighdHJhY2sudW5pdHNbaV0udG9nZ2xlZCkge1xuXHRcdFx0XHR0cmFjay50b2dnbGVkID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0dmFyIGNoZWNrQ291cnNlVG9nZ2xlID0gZnVuY3Rpb24oY291cnNlKSB7XG5cdFx0Y291cnNlLnRvZ2dsZWQgPSB0cnVlO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBjb3Vyc2UudHJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZighY291cnNlLnRyYWNrc1tpXS50b2dnbGVkKSB7XG5cdFx0XHRcdGNvdXJzZS50b2dnbGVkID0gZmFsc2U7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0dGhpcy50b2dnbGVDb3Vyc2UgPSBmdW5jdGlvbihjb3Vyc2UpIHtcblx0XHR2YXIgdHJhY2tzID0gY291cnNlLnRyYWNrcztcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRyYWNrcy5sZW5ndGg7IGorKykge1xuXHRcdFx0dmFyIHVuaXRzID0gdHJhY2tzW2pdLnVuaXRzO1xuXHRcdFx0Zm9yKHZhciBrID0gMDsgayA8IHVuaXRzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdHVuaXRzW2tdLnRvZ2dsZWQgPSAhY291cnNlLnRvZ2dsZWQ7XG5cdFx0XHR9XG5cdFx0XHR0cmFja3Nbal0udG9nZ2xlZCA9ICFjb3Vyc2UudG9nZ2xlZDtcblx0XHR9XG5cdFx0Y291cnNlLnRvZ2dsZWQgPSAhY291cnNlLnRvZ2dsZWQ7XG5cdH1cblx0dGhpcy50b2dnbGVUcmFjayA9IGZ1bmN0aW9uKGNvdXJzZSwgdHJhY2spIHtcblx0XHR2YXIgdW5pdHMgPSB0cmFjay51bml0cztcblx0XHRmb3IodmFyIGsgPSAwOyBrIDwgdW5pdHMubGVuZ3RoOyBrKyspIHtcblx0XHRcdHVuaXRzW2tdLnRvZ2dsZWQgPSAhdHJhY2sudG9nZ2xlZDtcblx0XHR9XG5cdFx0dHJhY2sudG9nZ2xlZCA9ICF0cmFjay50b2dnbGVkO1xuXHRcdGNoZWNrQ291cnNlVG9nZ2xlKGNvdXJzZSk7XG5cdH1cblx0dGhpcy51bml0VG9nZ2xlZCA9IGZ1bmN0aW9uKGNvdXJzZSwgdHJhY2spIHtcblx0XHRjaGVja1RyYWNrVG9nZ2xlKHRyYWNrKTtcblx0XHRjaGVja0NvdXJzZVRvZ2dsZShjb3Vyc2UpO1xuXHR9O1xuXHR0aGlzLmdlbmVyYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxhbmRpbmdRcyA9IFwidGVhbV91cmxzYWZlPVwiICsgdGVhbS50ZWFtX2tleTtcblx0XHRpZih0aGlzLmZ1bGxuYW1lKSB7XG5cdFx0XHRsYW5kaW5nUXMgKz0gXCImc3R1ZGVudF9uYW1lPXRydWVcIjtcblx0XHR9XG5cdFx0aWYodGhpcy51c2VybmFtZSkge1xuXHRcdFx0bGFuZGluZ1FzICs9IFwiJnJvc2VfdXNlcm5hbWU9dHJ1ZVwiO1xuXHRcdH1cblx0XHRpZih0aGlzLmhhc1RpbWVzdGFtcCkge1xuXHRcdFx0bGFuZGluZ1FzICs9IFwiJnRpbWV6b25lPVwiICsgdGhpcy50aW1lem9uZTtcblx0XHR9XG5cdFx0aWYodGhpcy5pbmNsdWRlQ291cnNlUHJvZ3Jlc3MpIHtcblx0XHRcdGxhbmRpbmdRcyArPSBcIiZjb3Vyc2VfcHJvZ3Jlc3M9dHJ1ZVwiO1xuXHRcdH1cblx0XHRpZih0aGlzLmluY2x1ZGVUcmFja1Byb2dyZXNzKSB7XG5cdFx0XHRsYW5kaW5nUXMgKz0gXCImdHJhY2tfcHJvZ3Jlc3M9dHJ1ZVwiO1xuXHRcdH1cblx0XHRpZih0aGlzLnBvaW50VmFsdWUgPT09IFwicG9pbnRzXCIpIHtcblx0XHRcdGxhbmRpbmdRcyArPSBcIiZwcHU9XCIgKyB0aGlzLnBvaW50c1BlclVuaXQ7XG5cdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBwdVwiLCB0aGlzLnBvaW50c1BlclVuaXQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsYW5kaW5nUXMgKz0gXCImcHB0PVwiICsgdGhpcy5wb2ludHNQZXJUYXNrO1xuXHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwcHRcIiwgdGhpcy5wb2ludHNQZXJUYXNrKTtcblx0XHR9XG5cdFx0dmFyIHByb2dyZXNzX2RhdGEgPSBhbmd1bGFyLmNvcHkodGhpcy5kYXRhKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHByb2dyZXNzX2RhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBjb3Vyc2UgPSBwcm9ncmVzc19kYXRhW2ldO1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjb3Vyc2UudHJhY2tzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHZhciB0cmFjayA9IGNvdXJzZS50cmFja3Nbal07XG5cdFx0XHRcdHZhciB1bml0TGlzdCA9IFtdO1xuXHRcdFx0XHRmb3IodmFyIGsgPSAwOyBrIDwgdHJhY2sudW5pdHMubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0XHR2YXIgdW5pdCA9IHRyYWNrLnVuaXRzW2tdO1xuXHRcdFx0XHRcdGlmKHVuaXQudG9nZ2xlZCkge1xuXHRcdFx0XHRcdFx0dW5pdExpc3QucHVzaCh1bml0Lm5hbWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0cmFjay51bml0cyA9IHVuaXRMaXN0O1xuXHRcdFx0fVxuXHRcdH1cblx0XHR2YXIganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHByb2dyZXNzX2RhdGEpO1xuXHRcdGxhbmRpbmdRcyArPSBcIiZwcm9ncmVzc19kYXRhPVwiICsganNvblN0cmluZztcblx0XHR0aGlzLm9uUG9zdEdlbmVyYXRlKGxhbmRpbmdRcyk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdFeHBvcnRNb2RhbEluc3RhbmNlQ3RybCcsIFtcIiRtb2RhbEluc3RhbmNlXCIsIFwiJGNvbnRyb2xsZXJcIiwgXCJ0ZWFtXCIsIFwiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJG1vZGFsSW5zdGFuY2UsICRjb250cm9sbGVyLCB0ZWFtLCAkd2luZG93KSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdFeHBvcnRNb2RhbFBhcmVudEN0cmwnLCB7JG1vZGFsSW5zdGFuY2U6JG1vZGFsSW5zdGFuY2UsICRjb250cm9sbGVyOiRjb250cm9sbGVyLCB0ZWFtOnRlYW19KSk7XG5cdHRoaXMub25Qb3N0R2VuZXJhdGUgPSBmdW5jdGlvbihxcykge1xuXHRcdHZhciBsYW5kaW5nVXJsID0gXCJodHRwOi8vXCIgKyAkd2luZG93LmxvY2F0aW9uLmhvc3QgKyBcIi90ZWFtcy9leHBvcnQuY3N2P1wiO1xuXHRcdCR3aW5kb3cub3BlbihsYW5kaW5nVXJsICsgZW5jb2RlVVJJKHFzKSwgXCJfYmxhbmtcIik7XG5cdFx0JG1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcblx0fVxuXHR0aGlzLmRvbmVCdXR0b25UZXh0ID0gJ0dlbmVyYXRlJztcbn1dKVxuLmNvbnRyb2xsZXIoJ05ld1N3ZWVwTW9kYWxJbnN0YW5jZUN0cmwnLCBbXCIkbW9kYWxJbnN0YW5jZVwiLCBcIiRjb250cm9sbGVyXCIsIFwidGVhbV9rZXlcIiwgXCIkbW9kYWxcIiwgXCJwcm9ncmVzc1wiLCAgZnVuY3Rpb24gKCRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlciwgdGVhbV9rZXksICRtb2RhbCwgcHJvZ3Jlc3MpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1NpbXBsZU1vZGFsSW5zdGFuY2VDdHJsJywgeyRtb2RhbEluc3RhbmNlOiAkbW9kYWxJbnN0YW5jZX0pKTtcblx0dGhpcy5zd2VlcCA9IHtkdDpuZXcgRGF0ZSgpLCB0ZWFtX2tleTp0ZWFtX2tleSwgb3B0aW9uczpcIlwiLCBob3VyTnVtOjEyLCB0ejpcIkVhc3Rlcm5cIn07XG5cdHRoaXMudGltZXpvbmVzID0gWydVVEMnLCAnRWFzdGVybicsICdDZW50cmFsJywgJ01vdW50YWluJywgJ1BhY2lmaWMnXTtcblx0dGhpcy50b2RheSA9IG5ldyBEYXRlKCk7XG5cdHRoaXMuc3RvcEV2ZW50ID0gZnVuY3Rpb24oJGV2ZW50KSB7XG5cdFx0JGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0JGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9O1xuXHR0aGlzLmFkZFN3ZWVwID0gZnVuY3Rpb24oKSB7XG5cdCAgJG1vZGFsSW5zdGFuY2UuY2xvc2UodGhpcy5zd2VlcCk7XG5cdH07XG5cdHZhciBzZWxmID0gdGhpcztcblx0dGhpcy50b2dnbGVTd2VlcE9wdGlvbnNNb2RhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBtb2RhbEluc3RhbmNlID0gJG1vZGFsLm9wZW4oe1xuXHRcdFx0ICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvbW9kYWxzL2V4cG9ydF9wcm9ncmVzc19tb2RhbC5odG1sJyxcblx0XHRcdCAgY29udHJvbGxlcjogJ1N3ZWVwT3B0aW9uc01vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHRcdCAgY29udHJvbGxlckFzOiAnbW9kYWwnLFxuXHRcdFx0ICByZXNvbHZlOiB7XG5cdFx0XHRcdCAgdGVhbTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ICByZXR1cm4gcHJvZ3Jlc3M7XG5cdFx0XHRcdCAgfSxcblx0XHRcdFx0ICBvcHRpb25TdHJpbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCAgcmV0dXJuIHNlbGYuc3dlZXAub3B0aW9ucztcblx0XHRcdFx0ICB9XG5cdFx0XHQgIH1cblx0XHR9KTtcblx0XHRtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKG5ld09wdGlvbnMpIHtcblx0XHRcdHNlbGYuc3dlZXAub3B0aW9ucyA9IG5ld09wdGlvbnM7XG5cdFx0fSk7XG5cdH07XG59XSlcbi5jb250cm9sbGVyKCdTd2VlcE9wdGlvbnNNb2RhbEluc3RhbmNlQ3RybCcsIFtcIiRtb2RhbEluc3RhbmNlXCIsIFwiJGNvbnRyb2xsZXJcIiwgXCJ0ZWFtXCIsIFwib3B0aW9uU3RyaW5nXCIsIGZ1bmN0aW9uICgkbW9kYWxJbnN0YW5jZSwgJGNvbnRyb2xsZXIsIHRlYW0sIG9wdGlvblN0cmluZykge1xuXHRhbmd1bGFyLmV4dGVuZCh0aGlzLCAkY29udHJvbGxlcignRXhwb3J0TW9kYWxQYXJlbnRDdHJsJywgeyRtb2RhbEluc3RhbmNlOiRtb2RhbEluc3RhbmNlLCAkY29udHJvbGxlcjokY29udHJvbGxlciwgdGVhbTp0ZWFtfSkpO1xuXHR0aGlzLm9uUG9zdEdlbmVyYXRlID0gZnVuY3Rpb24ocXMpIHtcblx0XHQkbW9kYWxJbnN0YW5jZS5jbG9zZShxcyk7XG5cdH1cblx0dGhpcy5kb25lQnV0dG9uVGV4dCA9ICdEb25lJztcblx0aWYgKG9wdGlvblN0cmluZyAhPT0gXCJcIikge1xuXHRcdHZhciBvcHRpb25zID0ge307XG5cdFx0b3B0aW9uU3RyaW5nID0gb3B0aW9uU3RyaW5nLnNwbGl0KCcmJyk7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG9wdGlvblN0cmluZy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIG9wID0gb3B0aW9uU3RyaW5nW2ldLnNwbGl0KCc9Jyk7XG5cdFx0XHRvcHRpb25zW29wWzBdXSA9IG9wWzFdO1xuXHRcdH1cblx0XHR0aGlzLmZ1bGxuYW1lID0gb3B0aW9uc1snc3R1ZGVudF9uYW1lJ10gPT09ICd0cnVlJztcblx0XHR0aGlzLnVzZXJuYW1lID0gb3B0aW9uc1sncm9zZV91c2VybmFtZSddID09PSAndHJ1ZSc7XG5cdFx0dGhpcy5oYXNUaW1lc3RhbXAgPSBvcHRpb25zWyd0aW1lem9uZSddICE9IHVuZGVmaW5lZDtcblx0XHR0aGlzLnBvaW50VmFsdWUgPSBvcHRpb25zWydwcHUnXSA/IFwicG9pbnRzXCIgOiBcInRhc2tzXCI7XG5cdFx0dGhpcy5wb2ludHNQZXJVbml0ID0gcGFyc2VJbnQob3B0aW9uc1sncHB1J10pIHx8IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwicHB1XCIpKSB8fCAxO1xuXHRcdHRoaXMucG9pbnRzUGVyVGFzayA9IHBhcnNlSW50KG9wdGlvbnNbJ3BwdCddKSB8fCBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInBwdFwiKSkgfHwgMTtcblx0XHR0aGlzLmluY2x1ZGVDb3Vyc2VQcm9ncmVzcyA9IG9wdGlvbnNbJ2NvdXJzZV9wcm9ncmVzcyddID09PSAndHJ1ZSc7XG5cdFx0dGhpcy5pbmNsdWRlVHJhY2tQcm9ncmVzcyA9IG9wdGlvbnNbJ3RyYWNrX3Byb2dyZXNzJ10gPT09ICd0cnVlJztcblx0XHR0aGlzLnRpbWV6b25lID0gb3B0aW9uc1sndGltZXpvbmUnXSB8fCAnRWFzdGVybic7XG5cdFx0dGhpcy50aW1lem9uZXMgPSBbJ1VUQycsICdFYXN0ZXJuJywgJ0NlbnRyYWwnLCAnTW91bnRhaW4nLCAnUGFjaWZpYyddO1xuXHRcdHZhciBwcm9ncmVzc19kYXRhID0gSlNPTi5wYXJzZShvcHRpb25zWydwcm9ncmVzc19kYXRhJ10pO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgY291cnNlID0gdGhpcy5kYXRhW2ldO1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjb3Vyc2UudHJhY2tzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHZhciB0cmFjayA9IGNvdXJzZS50cmFja3Nbal07XG5cdFx0XHRcdHZhciB0b2dnbGVkVW5pdHMgPSBwcm9ncmVzc19kYXRhW2ldLnRyYWNrc1tqXS51bml0cztcblx0XHRcdFx0Zm9yKHZhciBrID0gMDsgayA8IHRyYWNrLnVuaXRzLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0dmFyIHVuaXQgPSB0cmFjay51bml0c1trXTtcblx0XHRcdFx0XHR1bml0LnRvZ2dsZWQgPSB0b2dnbGVkVW5pdHMuaW5kZXhPZih1bml0Lm5hbWUpICE9PSAtMTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ092ZXJ2aWV3Q29udHJvbGxlcnMnLCBbXSlcbi5jb250cm9sbGVyKCdPdmVydmlld0N0cmwnLCBmdW5jdGlvbigpIHtcbn0pXG4uY29udHJvbGxlcignUHJldmlld0N0cmwnLCBbXCJvQXV0aFwiLCBcIiRsb2NhdGlvblwiLCBcInNpZGViYXJcIiwgXCIkcm9vdFNjb3BlXCIsIFwic25hY2tiYXJcIiwgXCJ1c2VyRW1haWxcIiwgZnVuY3Rpb24ob0F1dGgsICRsb2NhdGlvbiwgc2lkZWJhciwgJHJvb3RTY29wZSwgc25hY2tiYXIsIHVzZXJFbWFpbCkge1xuXHRvQXV0aC5jaGVjaygpLnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9vdmVydmlldycpO1xuXHRcdHNpZGViYXIuc2hvdy5zZXQodHJ1ZSk7XG5cdFx0JHJvb3RTY29wZS4kYXBwbHkoKTtcblx0fSk7XG5cdHRoaXMuc2lnbnVwID0gZnVuY3Rpb24oKSB7XG5cdFx0b0F1dGguc2lnbnVwKCkudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdG9BdXRoLmdldFVzZXJJbmZvKCkudGhlbihmdW5jdGlvbih1c2VySW5mbykge1xuXHRcdFx0XHRpZih1c2VySW5mby5lbWFpbCAhPT0gdXNlckVtYWlsKSB7XG5cdFx0XHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5EYW5nZXIhPC9iPiBTaWduaW5nIHVwIGZvciB0ZWFtcyB3aXRoIGFub3RoZXIgYWNjb3VudCBtYXkgY2F1c2UgZXJyb3JzIVwiLCA2MDAwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHQkbG9jYXRpb24ucGF0aCgnL292ZXJ2aWV3Jyk7XG5cdFx0XHRzaWRlYmFyLnNob3cuc2V0KHRydWUpO1xuXHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0c25hY2tiYXIuY3JlYXRlV2l0aFRpbWVvdXQoXCI8Yj5FcnJvciE8L2I+IFNpZ24gdXAgZmFpbGVkXCIpO1xuXHRcdH0pO1xuXHR9O1xufV0pXG4uY29udHJvbGxlcignU2lkZWJhckN0cmwnLCBbXCJzaWRlYmFyXCIsIFwiJGxvY2F0aW9uXCIsIFwiJHNjb3BlXCIsIGZ1bmN0aW9uKHNpZGViYXIsICRsb2NhdGlvbiwgJHNjb3BlKSB7XG5cdHRoaXMucm91dGVzID0gc2lkZWJhci5yb3V0ZXM7XG5cdHRoaXMuc2hvdyA9IHNpZGViYXIuc2hvdy5nZXQoKTtcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHQkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNpZGViYXIuc2hvdy5nZXQoKTsgfSxcblx0XHRcdGZ1bmN0aW9uICh2YWx1ZSkgeyBzZWxmLnNob3cgPSB2YWx1ZTsgfSk7XG5cblx0dGhpcy5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHJvdXRlVXJsKSB7XG5cdFx0dmFyIHBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xuXHRcdHJvdXRlVXJsID0gcm91dGVVcmwuc3Vic3RyaW5nKDEpO1xuXHRcdHJldHVybiBwYXRoLnN0YXJ0c1dpdGgocm91dGVVcmwpO1xuXHR9XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnVGVhbUNvbnRyb2xsZXJzJywgW10pXG4uY29udHJvbGxlcignVGVhbXNDdHJsJywgW1wiJG1vZGFsXCIsIFwidGVhbXNcIiwgZnVuY3Rpb24oJG1vZGFsLCB0ZWFtcykge1xuXHR0aGlzLml0ZW1zID0gdGVhbXNbXCJ0ZWFtc1wiXTtcblx0dmFyIHNlbGYgPSB0aGlzO1xufV0pXG4uY29udHJvbGxlcignVGVhbXNQYXJlbnRDdHJsJywgWyckbW9kYWwnLCAndGVhbScsIGZ1bmN0aW9uKCRtb2RhbCwgdGVhbSkge1xuXHR0aGlzLnRvZ2dsZUV4cG9ydFByb2dyZXNzTW9kYWwgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgbW9kYWxJbnN0YW5jZSA9ICRtb2RhbC5vcGVuKHtcblx0XHQgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9tb2RhbHMvZXhwb3J0X3Byb2dyZXNzX21vZGFsLmh0bWwnLFxuXHRcdCAgY29udHJvbGxlcjogJ0V4cG9ydE1vZGFsSW5zdGFuY2VDdHJsJyxcblx0XHQgIGNvbnRyb2xsZXJBczogJ21vZGFsJyxcblx0XHQgIHJlc29sdmU6IHtcblx0XHRcdCAgdGVhbTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdCAgcmV0dXJuIHRlYW07XG5cdFx0XHQgIH1cblx0XHQgIH1cblx0XHR9KTtcblx0fTtcbn1dKVxuLmNvbnRyb2xsZXIoJ1RlYW1zQ291cnNlQ3RybCcsIFtcIiRtb2RhbFwiLCBcInRlYW1cIiwgXCIkY29udHJvbGxlclwiLCBmdW5jdGlvbigkbW9kYWwsIHRlYW0sICRjb250cm9sbGVyKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdUZWFtc1BhcmVudEN0cmwnLCB7JG1vZGFsOiAkbW9kYWwsIHRlYW06IHRlYW19KSk7XG4gIHRoaXMudGVhbSA9IHRlYW07XG5cdGlmICh0ZWFtLm1lbWJlcnNfcHJvZ3Jlc3MgPT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhpcy50ZWFtLm1lbWJlcnNfcHJvZ3Jlc3MgPSBbXTtcblx0fVxuXHR0aGlzLmNvdXJzZXMgPSBbXTtcblx0aWYgKHRlYW0ubWVtYmVyc19wcm9ncmVzcy5sZW5ndGggPiAwKSB7XG5cdFx0Y291cnNlcyA9IHRlYW0ubWVtYmVyc19wcm9ncmVzc1swXS5jb3Vyc2VfcHJvZ3Jlc3M7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjb3Vyc2VzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0aGlzLmNvdXJzZXMucHVzaChjb3Vyc2VzW2ldLm5hbWUpO1xuXHRcdH1cblx0fVxufV0pXG4uY29udHJvbGxlcignVGVhbXNUcmFja0N0cmwnLCBbXCIkcm91dGVQYXJhbXNcIiwgXCJ0ZWFtXCIsIFwiJG1vZGFsXCIsIFwiJGNvbnRyb2xsZXJcIiwgZnVuY3Rpb24oJHJvdXRlUGFyYW1zLCB0ZWFtLCAkbW9kYWwsICRjb250cm9sbGVyKSB7XG5cdGFuZ3VsYXIuZXh0ZW5kKHRoaXMsICRjb250cm9sbGVyKCdUZWFtc1BhcmVudEN0cmwnLCB7JG1vZGFsOiAkbW9kYWwsIHRlYW06IHRlYW19KSk7XG5cdHRoaXMudGVhbSA9IHRlYW07XG5cdGlmICh0ZWFtLm1lbWJlcnNfcHJvZ3Jlc3MgPT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhpcy50ZWFtLm1lbWJlcnNfcHJvZ3Jlc3MgPSBbXTtcblx0fVxuXHR0aGlzLmNvdXJzZSA9ICRyb3V0ZVBhcmFtcy5jb3Vyc2VfbmFtZTtcblx0dGhpcy50cmFja3MgPSBbXTtcblx0aWYgKHRlYW0ubWVtYmVyc19wcm9ncmVzcy5sZW5ndGggPiAwKSB7XG5cdFx0dmFyIGNvdXJzZXMgPSB0ZWFtLm1lbWJlcnNfcHJvZ3Jlc3NbMF0uY291cnNlX3Byb2dyZXNzO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY291cnNlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGNvdXJzZXNbaV0ubmFtZSA9PT0gdGhpcy5jb3Vyc2UpIHtcblx0XHRcdFx0dGhpcy5jb3Vyc2VOdW0gPSBpO1xuXHRcdFx0XHR2YXIgY291cnNlVHJhY2tzID0gY291cnNlc1tpXS50cmFja19wcm9ncmVzcztcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjb3Vyc2VUcmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHR0aGlzLnRyYWNrcy5wdXNoKGNvdXJzZVRyYWNrc1tqXS5uYW1lKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLmdldFByb2dyZXNzRm9yTWVtYmVyVHJhY2sgPSBmdW5jdGlvbihtZW1iZXIsIHRyYWNrTnVtKSB7XG5cdFx0cmV0dXJuIG1lbWJlci5jb3Vyc2VfcHJvZ3Jlc3Nbc2VsZi5jb3Vyc2VOdW1dLnRyYWNrX3Byb2dyZXNzW3RyYWNrTnVtXS5wcm9ncmVzcztcblx0fVxufV0pXG4uY29udHJvbGxlcignVGVhbXNVbml0Q3RybCcsIFtcIiRyb3V0ZVBhcmFtc1wiLCBcInRlYW1cIiwgXCIkbW9kYWxcIiwgXCIkY29udHJvbGxlclwiLCBmdW5jdGlvbigkcm91dGVQYXJhbXMsIHRlYW0sICRtb2RhbCwgJGNvbnRyb2xsZXIpIHtcblx0YW5ndWxhci5leHRlbmQodGhpcywgJGNvbnRyb2xsZXIoJ1RlYW1zUGFyZW50Q3RybCcsIHskbW9kYWw6ICRtb2RhbCwgdGVhbTogdGVhbX0pKTtcblx0dGhpcy50ZWFtID0gdGVhbTtcblx0aWYgKHRlYW0ubWVtYmVyc19wcm9ncmVzcyA9PSB1bmRlZmluZWQpIHtcblx0XHR0aGlzLnRlYW0ubWVtYmVyc19wcm9ncmVzcyA9IFtdO1xuXHR9XG5cdHRoaXMuY291cnNlID0gJHJvdXRlUGFyYW1zLmNvdXJzZV9uYW1lO1xuXHR0aGlzLnRyYWNrID0gJHJvdXRlUGFyYW1zLnRyYWNrX25hbWU7XG5cdHRoaXMudW5pdHMgPSBbXTtcblx0aWYgKHRlYW0ubWVtYmVyc19wcm9ncmVzcy5sZW5ndGggPiAwKSB7XG5cdFx0dmFyIGNvdXJzZXMgPSB0ZWFtLm1lbWJlcnNfcHJvZ3Jlc3NbMF0uY291cnNlX3Byb2dyZXNzO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgY291cnNlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGNvdXJzZXNbaV0ubmFtZSA9PT0gdGhpcy5jb3Vyc2UpIHtcblx0XHRcdFx0dGhpcy5jb3Vyc2VOdW0gPSBpO1xuXHRcdFx0XHR2YXIgdHJhY2tzID0gY291cnNlc1tpXS50cmFja19wcm9ncmVzcztcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB0cmFja3MubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRpZiAodHJhY2tzW2pdLm5hbWUgPT09IHRoaXMudHJhY2spIHtcblx0XHRcdFx0XHRcdHRoaXMudHJhY2tOdW0gPSBqO1xuXHRcdFx0XHRcdFx0dmFyIHRyYWNrVW5pdHMgPSB0cmFja3Nbal0udW5pdF9wcm9ncmVzcztcblx0XHRcdFx0XHRcdGZvciAodmFyIGsgPSAwOyBrIDwgdHJhY2tVbml0cy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnVuaXRzLnB1c2godHJhY2tVbml0c1trXS5uYW1lKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR0aGlzLmdldFByb2dyZXNzRm9yTWVtYmVyVW5pdCA9IGZ1bmN0aW9uKG1lbWJlciwgdW5pdE51bSkge1xuXHRcdHJldHVybiBtZW1iZXIuY291cnNlX3Byb2dyZXNzW3NlbGYuY291cnNlTnVtXS50cmFja19wcm9ncmVzc1tzZWxmLnRyYWNrTnVtXS51bml0X3Byb2dyZXNzW3VuaXROdW1dLnByb2dyZXNzO1xuXHR9XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnVGVhbVNlcnZpY2VzJywgW10pXG4uZmFjdG9yeSgnc2lkZWJhcicsIGZ1bmN0aW9uKCkge1xuXHR2YXIgaXNTaG93aW5nID0gdHJ1ZTtcblx0cmV0dXJuIHsgcm91dGVzIDpcblx0XHRbe25hbWU6J092ZXJ2aWV3JywgaHJlZjonIy9vdmVydmlldy8nfSxcblx0XHR7bmFtZTonVGVhbXMnLCBocmVmOicjL3RlYW1zLyd9LFxuXHRcdHtuYW1lOidJbnZpdGVzJywgaHJlZjonIy9pbnZpdGVzLyd9LFxuXHRcdHtuYW1lOidNYW5hZ2UnLCBocmVmOicjL21hbmFnZS8nfV0sXG5cdFx0c2hvdzpcblx0XHR7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gaXNTaG93aW5nO1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24oc2hvd2luZykge1xuXHRcdFx0XHRpc1Nob3dpbmcgPSBzaG93aW5nO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn0pXG4uZmFjdG9yeSgndXNlckVtYWlsJywgW1wiJHJvb3RTY29wZVwiLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG5cdHJldHVybiAkcm9vdFNjb3BlLnVzZXJFbWFpbDtcbn1dKVxuLnNlcnZpY2UoJ29BdXRoJywgW1wiJHFcIiwgXCIkbG9jYXRpb25cIiwgZnVuY3Rpb24gKCRxLCAkbG9jYXRpb24pIHtcblx0dmFyIHNpZ25pbiA9IGZ1bmN0aW9uKGltbWVkaWF0ZSkge1xuXHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwID0gJHEuZGVmZXIoKTtcblx0XHRcdGdhcGkuYXV0aC5hdXRob3JpemUoe1xuXHRcdFx0XHRjbGllbnRfaWQ6IENMSUVOVF9JRCxcblx0XHRcdFx0c2NvcGU6IFNDT1BFUyxcblx0XHRcdFx0aW1tZWRpYXRlOiBpbW1lZGlhdGVcblx0XHRcdH0sIGZ1bmN0aW9uKGF1dGhSZXN1bHQpIHtcblx0XHRcdFx0aWYgKGF1dGhSZXN1bHQuZXJyb3IpIHtcblx0XHRcdFx0XHRwLnJlamVjdChhdXRoUmVzdWx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwLnJlc29sdmUoYXV0aFJlc3VsdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0XHR9XG5cdH07XG5cdHRoaXMuc2lnbnVwID0gc2lnbmluKGZhbHNlKTtcblx0dGhpcy5jaGVjayA9IHNpZ25pbih0cnVlKTtcblx0dGhpcy5leGVjdXRlID0gZnVuY3Rpb24oYXBpTWV0aG9kKSB7XG5cdFx0dmFyIHAgPSAkcS5kZWZlcigpO1xuXHRcdGdhcGkuYXV0aC5hdXRob3JpemUoe1xuXHRcdFx0Y2xpZW50X2lkIDogQ0xJRU5UX0lELFxuXHRcdFx0c2NvcGUgOiBTQ09QRVMsXG5cdFx0XHRpbW1lZGlhdGUgOiB0cnVlXG5cdFx0fSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhcGlNZXRob2QuZXhlY3V0ZShmdW5jdGlvbihyZXNwKSB7XG5cdFx0XHRcdGlmICghcmVzcC5jb2RlKSB7XG5cdFx0XHRcdFx0cC5yZXNvbHZlKHJlc3AucmVzdWx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwLnJlamVjdChyZXNwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0fTtcblx0dGhpcy5nZXRVc2VySW5mbyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmV4ZWN1dGUoZ2FwaS5jbGllbnQub2F1dGgyLnVzZXJpbmZvLmdldCgpKTtcblx0fTtcbn1dKVxuLnNlcnZpY2UoJ2FwaScsIFtcIm9BdXRoXCIsIFwiJHFcIiwgZnVuY3Rpb24gKG9BdXRoLCAkcSkge1xuXHR2YXIgY2FjaGUgPSB7fTtcblx0dGhpcy5kZWxldGVDYWNoZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGNhY2hlID0ge307XG5cdH1cblx0dmFyIGNhY2hlZEFwaUNhbGwgPSBmdW5jdGlvbihjYWNoZUtleSwgYXBpTWV0aG9kKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGZvcmNlUmVmcmVzaCkge1xuXHRcdFx0dmFyIHAgPSAkcS5kZWZlcigpO1xuXHRcdFx0aWYgKGNhY2hlW2NhY2hlS2V5XSAhPSB1bmRlZmluZWQgJiYgZm9yY2VSZWZyZXNoID09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwLnJlc29sdmUoY2FjaGVbY2FjaGVLZXldKTtcblx0XHRcdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0XHRcdH1cblx0XHRcdG9BdXRoLmV4ZWN1dGUoYXBpTWV0aG9kKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuXHRcdFx0XHRjYWNoZVtjYWNoZUtleV0gPSByZXNwO1xuXHRcdFx0XHRwLnJlc29sdmUocmVzcCk7XG5cdFx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHRwLnJlamVjdChlcnJvcik7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBwLnByb21pc2U7XG5cdFx0fTtcblx0fTtcblx0dmFyIGNhY2hlZFRlYW1BcGlDYWxsID0gZnVuY3Rpb24odHlwZSwgYXBpTWV0aG9kKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHBhcmFtcykge1xuXHRcdFx0dmFyIHAgPSAkcS5kZWZlcigpO1xuXHRcdFx0aWYoY2FjaGVbdHlwZSArIHBhcmFtcy50ZWFtX2tleV0gIT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHAucmVzb2x2ZShjYWNoZVt0eXBlICsgcGFyYW1zLnRlYW1fa2V5XSk7XG5cdFx0XHRcdHJldHVybiBwLnByb21pc2U7XG5cdFx0XHR9XG5cdFx0XHRvQXV0aC5leGVjdXRlKGFwaU1ldGhvZChwYXJhbXMpKVxuXHRcdFx0LnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuXHRcdFx0XHRjYWNoZVt0eXBlICsgcGFyYW1zLnRlYW1fa2V5XSA9IHJlc3A7XG5cdFx0XHRcdHAucmVzb2x2ZShyZXNwKTtcblx0XHRcdH0sIGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdHAucmVqZWN0KGVycm9yKTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHAucHJvbWlzZTtcblx0XHR9O1xuXHR9O1xuXHR0aGlzLmRlbGV0ZVRlYW0gPSBmdW5jdGlvbih0ZWFtKSB7XG5cdFx0aWYgKGNhY2hlW1wiZ2V0X3RlYW1zXCJdICE9IHVuZGVmaW5lZCkge1xuXHRcdFx0dmFyIHRlYW1zID0gY2FjaGVbXCJnZXRfdGVhbXNcIl1bXCJ0ZWFtc1wiXTtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0ZWFtcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZih0ZWFtLnRlYW1fa2V5ID09IHRlYW1zW2ldLnRlYW1fa2V5KSB7XG5cdFx0XHRcdFx0dGVhbXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvQXV0aC5leGVjdXRlKGdhcGkuY2xpZW50LnRlYW1zLmRlbGV0ZSh0ZWFtKSk7XG5cdH07XG5cdHRoaXMuaW5zZXJ0VGVhbSA9IGZ1bmN0aW9uKHRlYW0pIHtcblx0XHR2YXIgcCA9ICRxLmRlZmVyKCk7XG5cdFx0dmFyIHVwZGF0ZUNhY2hlID0gY2FjaGVbXCJnZXRfdGVhbXNcIl0gIT0gdW5kZWZpbmVkO1xuXHRcdHZhciB0ZWFtcyA9IHVuZGVmaW5lZDtcblx0XHR2YXIgbmV3VGVhbSA9IHRlYW0udGVhbV9rZXkgPT0gdW5kZWZpbmVkO1xuXHRcdGlmICh1cGRhdGVDYWNoZSkge1xuXHRcdFx0dGVhbXMgPSBjYWNoZVtcImdldF90ZWFtc1wiXVtcInRlYW1zXCJdO1xuXHRcdFx0aWYodGVhbXMgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNhY2hlW1wiZ2V0X3RlYW1zXCJdW1widGVhbXNcIl0gPSBbXTtcblx0XHRcdFx0dGVhbXMgPSBjYWNoZVtcImdldF90ZWFtc1wiXVtcInRlYW1zXCJdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRvQXV0aC5leGVjdXRlKGdhcGkuY2xpZW50LnRlYW1zLmluc2VydCh0ZWFtKSlcblx0XHQudGhlbihmdW5jdGlvbihyZXNwKSB7XG5cdFx0XHRpZih1cGRhdGVDYWNoZSkge1xuXHRcdFx0XHRpZihuZXdUZWFtKSB7XG5cdFx0XHRcdFx0dGVhbXMucHVzaChyZXNwKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0ZWFtcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0aWYocmVzcC50ZWFtX2tleSA9PT0gdGVhbXNbaV0udGVhbV9rZXkpIHtcblx0XHRcdFx0XHRcdFx0dGVhbXNbaV0gPSByZXNwO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHAucmVzb2x2ZShyZXNwKTtcblx0XHR9LCBmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0cC5yZWplY3QoZXJyb3IpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBwLnByb21pc2U7XG5cdH07XG5cdHRoaXMuZ2V0SW52aXRlcyA9IGNhY2hlZEFwaUNhbGwoXCJnZXRfaW52aXRlc1wiLCBnYXBpLmNsaWVudC50ZWFtcy5pbnZpdGVzLmxpc3QoKSk7XG5cdHRoaXMuZWRpdEludml0ZSA9IGZ1bmN0aW9uKGludml0ZSkge1xuXHRcdHJldHVybiBvQXV0aC5leGVjdXRlKGdhcGkuY2xpZW50LnRlYW1zLmludml0ZXMucmVzcG9uZChpbnZpdGUpKTtcblx0fTtcblx0dGhpcy5nZXRUZWFtcyA9IGNhY2hlZEFwaUNhbGwoXCJnZXRfdGVhbXNcIiwgZ2FwaS5jbGllbnQudGVhbXMubGlzdC5hbGwoKSk7XG5cdHRoaXMuZ2V0TGVhZFRlYW1zID0gY2FjaGVkQXBpQ2FsbChcImdldF9sZWFkX3RlYW1zXCIsIGdhcGkuY2xpZW50LnRlYW1zLmxpc3QubGVhZGVyKCkpO1xuXHR0aGlzLmdldFByb2dyZXNzID0gY2FjaGVkVGVhbUFwaUNhbGwoXCJwcm9ncmVzc1wiLCBnYXBpLmNsaWVudC50ZWFtcy5wcm9ncmVzcyk7XG5cdHRoaXMuZ2V0U3dlZXBzID0gY2FjaGVkVGVhbUFwaUNhbGwoXCJzd2VlcFwiLCBnYXBpLmNsaWVudC50ZWFtcy5zd2VlcHMuZ2V0KTtcblx0dGhpcy5pbnNlcnRTd2VlcCA9IGZ1bmN0aW9uKHN3ZWVwKSB7XG5cdFx0cmV0dXJuIG9BdXRoLmV4ZWN1dGUoZ2FwaS5jbGllbnQudGVhbXMuc3dlZXBzLmluc2VydChzd2VlcCkpO1xuXHR9XG5cdHRoaXMuZGVsZXRlU3dlZXAgPSBmdW5jdGlvbihzd2VlcCkge1xuXHRcdHJldHVybiBvQXV0aC5leGVjdXRlKGdhcGkuY2xpZW50LnRlYW1zLnN3ZWVwcy5kZWxldGUoc3dlZXApKTtcblx0fVxuXHR0aGlzLmdldENvdXJzZXMgPSBjYWNoZWRBcGlDYWxsKFwiY291cnNlc1wiLCBnYXBpLmNsaWVudC50ZWFtcy5jb3Vyc2VzKCkpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ1RlYW1EaXJlY3RpdmVzJywgW10pXG4uZGlyZWN0aXZlKCd0ZWFtVGl0bGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0ZWFtOiAnPSdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAnL3N0YXRpYy90ZWFtcy9wYXJ0aWFscy9jb21wb25lbnRzL3RlYW1fdGl0bGUuaHRtbCdcbiAgfTtcbn0pXG4uZGlyZWN0aXZlKCdyb3V0ZUxvYWRpbmdJbmRpY2F0b3InLCBbJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0ZW1wbGF0ZVVybDogJy9zdGF0aWMvdGVhbXMvcGFydGlhbHMvY29tcG9uZW50cy9sb2FkaW5nX3NwaW5uZXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG5cbiAgICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICRyb290U2NvcGUuaXNSb3V0ZUxvYWRpbmcgPSB0cnVlO1xuICAgICAgfSk7XG5cbiAgICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKXtcbiAgICAgICAgJHJvb3RTY29wZS5pc1JvdXRlTG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pXG4uZmlsdGVyKCdwZXJjZW50YWdlJywgWyckZmlsdGVyJywgZnVuY3Rpb24gKCRmaWx0ZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCwgZGVjaW1hbHMpIHtcbiAgICByZXR1cm4gJGZpbHRlcignbnVtYmVyJykoaW5wdXQgKiAxMDAsIGRlY2ltYWxzKSArICclJztcbiAgfTtcbn1dKVxuLmZpbHRlcigncGVuZGluZ1N3ZWVwcycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihpdGVtcykge1xuICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICB2YXIgY29tcGFyZURhdGUgPSBuZXcgRGF0ZSgwKTtcbiAgICAgIGNvbXBhcmVEYXRlLnNldEZ1bGxZZWFyKG5vdy5nZXRGdWxsWWVhcigpKTtcblx0ICBjb21wYXJlRGF0ZS5zZXRNb250aChub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSk7XG4gICAgICB2YXIgaG91ck51bSA9IG5vdy5nZXRIb3VycygpO1xuICAgICAgdmFyIGZpbHRlcmVkID0gW107XG4gICAgICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYoaXRlbS5kdC5nZXRUaW1lKCkgPiBjb21wYXJlRGF0ZS5nZXRUaW1lKCkgfHwgKGl0ZW0uZHQuZ2V0VGltZSgpID09PSBjb21wYXJlRGF0ZS5nZXRUaW1lKCkgJiYgaXRlbS5ob3VyTnVtID4gaG91ck51bSkpIHtcbiAgICAgICAgICBmaWx0ZXJlZC5wdXNoKGl0ZW0pOyBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmlsdGVyZWQ7XG4gICAgfTtcbn0pXG4uZmlsdGVyKCdmaXJlZFN3ZWVwcycsIGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gZnVuY3Rpb24oaXRlbXMpIHtcblx0ICB2YXIgbm93ID0gbmV3IERhdGUoKTtcblx0ICB2YXIgY29tcGFyZURhdGUgPSBuZXcgRGF0ZSgwKTtcblx0ICBjb21wYXJlRGF0ZS5zZXRGdWxsWWVhcihub3cuZ2V0RnVsbFllYXIoKSk7XG5cdCAgY29tcGFyZURhdGUuc2V0TW9udGgobm93LmdldE1vbnRoKCksIG5vdy5nZXREYXRlKCkpO1xuXHQgIHZhciBob3VyTnVtID0gbm93LmdldEhvdXJzKCk7XG5cdCAgdmFyIGZpbHRlcmVkID0gW107XG5cdCAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtKSB7XG5cdCAgICBpZihpdGVtLmR0LmdldFRpbWUoKSA8IGNvbXBhcmVEYXRlLmdldFRpbWUoKSB8fCAoaXRlbS5kdC5nZXRUaW1lKCkgPT09IGNvbXBhcmVEYXRlLmdldFRpbWUoKSAmJiBpdGVtLmhvdXJOdW0gPD0gaG91ck51bSkpIHtcblx0ICAgICAgZmlsdGVyZWQucHVzaChpdGVtKTtcblx0ICAgIH1cblx0ICB9KTtcblx0ICByZXR1cm4gZmlsdGVyZWQ7XG5cdH07XG59KTtcbiIsIi8qXG5cdEBsaWNlbnNlIEFuZ3VsYXIgU25hY2tiYXIgdmVyc2lvbiAxLjAuMVxuXHTik5IgMjAxNSBUeWxlciBSb2Nrd29vZCBodHRwczovL2dpdGh1Yi5jb20vcm9ja3dvdGovYW5ndWxhci5zbmFja2JhclxuXHRMaWNlbnNlOiBNSVRcbiovXG5cbiFmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1hLm1vZHVsZShcImFuZ3VsYXIuc25hY2tiYXJcIixbXSk7bi5mYWN0b3J5KFwic25hY2tiYXJcIixbXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oYSl7cmV0dXJue2NyZWF0ZVdpdGhUaW1lb3V0OmZ1bmN0aW9uKG4sZSl7YS4kYnJvYWRjYXN0KFwiY3JlYXRlU25hY2tiYXJXaXRoVGltZW91dFwiLHtjb250ZW50Om4sZHVyYXRpb246ZX0pfSxjcmVhdGU6ZnVuY3Rpb24obixlKXthLiRicm9hZGNhc3QoXCJjcmVhdGVTbmFja2JhclwiLHtjb250ZW50Om4saWQ6ZX0pfSxyZW1vdmU6ZnVuY3Rpb24obil7YS4kYnJvYWRjYXN0KFwicmVtb3ZlU25hY2tiYXJcIix7aWQ6bn0pfX19XSksbi5kaXJlY3RpdmUoXCJzbmFja2JhclwiLFtcIiRyb290U2NvcGVcIixcIiRjb21waWxlXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKG4sZSxjKXtyZXR1cm4gZnVuY3Rpb24odCxyLG8pe3ZhciBzPWEuZWxlbWVudChyKSxpPW8uc25hY2tiYXJEdXJhdGlvbnx8M2UzLHU9by5zbmFja2JhclJlbW92ZURlbGF5fHwyMDtuLiRvbihcImNyZWF0ZVNuYWNrYmFyV2l0aFRpbWVvdXRcIixmdW5jdGlvbihuLHIpe3ZhciBvPSc8ZGl2IGNsYXNzPVwic25hY2tiYXIgc25hY2tiYXItb3BlbmVkXCI+PHNwYW4gY2xhc3M9XCJzbmFja2Jhci1jb250ZW50XCI+JytyLmNvbnRlbnQrXCI8L3NwYW4+PC9kaXY+XCIsYj1hLmVsZW1lbnQoZShvKSh0KSk7cy5hcHBlbmQoYiksYyhmdW5jdGlvbigpe2IucmVtb3ZlQ2xhc3MoXCJzbmFja2Jhci1vcGVuZWRcIiksYyhmdW5jdGlvbigpe2IucmVtb3ZlKCl9LHUsITEpfSxyLmR1cmF0aW9ufHxpLCExKX0pLG4uJG9uKFwiY3JlYXRlU25hY2tiYXJcIixmdW5jdGlvbihuLGMpe3ZhciByPSc8ZGl2IGNsYXNzPVwic25hY2tiYXIgc25hY2tiYXItb3BlbmVkIHNuYWNrYmFyLWlkLScrYy5pZCsnXCI+PHNwYW4gY2xhc3M9XCJzbmFja2Jhci1jb250ZW50XCI+JytjLmNvbnRlbnQrXCI8L3NwYW4+PC9kaXY+XCIsbz1hLmVsZW1lbnQoZShyKSh0KSk7cy5hcHBlbmQobyl9KSxuLiRvbihcInJlbW92ZVNuYWNrYmFyXCIsZnVuY3Rpb24obixlKXt2YXIgYz1hLmVsZW1lbnQoc1swXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic25hY2tiYXItaWQtXCIrZS5pZCkpO2MucmVtb3ZlQ2xhc3MoXCJzbmFja2Jhci1vcGVuZWRcIiksYy5yZW1vdmUoKX0pfX1dKX0oYW5ndWxhcik7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
