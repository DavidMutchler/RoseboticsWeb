<style>
.indent {
	margin-left: 25px;
}
.expandable {
	width: 50%;
}
hr {
	margin-top: 0px;
	margin-bottom: 0px;
	position: relative;
	top: -5px;
	width: 50%;
	text-align: left;
  margin-left: 0px;
}
</style>
<form class="form-horizontal">
	<fieldset>
		<div class="modal-header bg-info">
			<button type="button" class="close" ng-click="modal.cancel()">
				<span aria-hidden="true">&times;</span>
			</button>
			<h4 class="modal-title">Export Progress</h4>
		</div>
		<div class="modal-body">
			<div class="form-group">
				<label for="inputData" class="col-lg-2 control-label">Data</label>
				<div class="col-lg-10">
					<div class="checkbox">
						<label> <input type="checkbox" ng-model="modal.fullname"> Full Name
						</label>
					</div>
					<div class="checkbox">
						<label> <input type="checkbox" ng-model="modal.username"> Username
						</label>
					</div>
					<div ng-repeat="course in modal.data">
						<label class="expandable" ng-init="isCollapsed = false" ng-click="isCollapsed = !isCollapsed">{{course.name}}
							<span class="pull-right glyphicon glyphicon-chevron-{{isCollapsed ? 'down' : 'up'}}" aria-hidden="true"></span>
						</label>
						<hr>
						<div collapse="!isCollapsed" class="indent">
							<div ng-repeat="track in course['tracks']">
								<label class="expandable" ng-init="isCollapsed = false" ng-click="isCollapsed = !isCollapsed">{{track.name}}
									<span class="pull-right glyphicon glyphicon-chevron-{{isCollapsed ? 'down' : 'up'}}" aria-hidden="true"></span>
								</label>
								<hr>
								<div collapse="!isCollapsed" class="indent">
									<div class="checkbox" ng-repeat="unit in track['units']">
										<label>
											<input type="checkbox" ng-model="unit.toggled">
											{{unit.name}}
										</label>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="modal-footer">
			<div class="form-group">
				<div class="col-lg-10 col-lg-offset-2">
					<button type="button" class="btn btn-default"
						ng-click="modal.cancel()">Cancel</button>
					<button ng-click="modal.generate()" class="btn btn-primary pull-right">Generate</button>
				</div>
			</div>
		</div>
	</fieldset>
</form>
